(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},Do={},Gf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),Rg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),zg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Fg=Symbol.for("react.memo"),Bg=Symbol.for("react.lazy"),Uc=Symbol.iterator;function Hg(e){return e===null||typeof e!="object"?null:(e=Uc&&e[Uc]||e["@@iterator"],typeof e=="function"?e:null)}var Qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zf=Object.assign,Jf={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Qf}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eh(){}eh.prototype=Wr.prototype;function gu(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Qf}var yu=gu.prototype=new eh;yu.constructor=gu;Zf(yu,Wr.prototype);yu.isPureReactComponent=!0;var Wc=Array.isArray,th=Object.prototype.hasOwnProperty,xu={current:null},nh={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)th.call(t,r)&&!nh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ni,type:e,key:i,ref:o,props:s,_owner:xu.current}}function Vg(e,t){return{$$typeof:ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ni}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yc=/\/+/g;function ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function Di(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ni:case Rg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ml(o,0):r,Wc(s)?(n="",e!=null&&(n=e.replace(Yc,"$&/")+"/"),Di(s,t,n,"",function(c){return c})):s!=null&&(vu(s)&&(s=Vg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Wc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+ml(i,l);o+=Di(i,t,n,a,s)}else if(a=Hg(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+ml(i,l++),o+=Di(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ci(e,t,n){if(e==null)return e;var r=[],s=0;return Di(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Wg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Oi={transition:null},Yg={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Oi,ReactCurrentOwner:xu};function sh(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ci,forEach:function(e,t,n){ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ci(e,function(){t++}),t},toArray:function(e){return ci(e,function(t){return t})||[]},only:function(e){if(!vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Wr;ee.Fragment=Pg;ee.Profiler=Mg;ee.PureComponent=gu;ee.StrictMode=Ig;ee.Suspense=Og;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yg;ee.act=sh;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)th.call(t,a)&&!nh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ni,type:e.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:Lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zg,_context:e},e.Consumer=e};ee.createElement=rh;ee.createFactory=function(e){var t=rh.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Dg,render:e}};ee.isValidElement=vu;ee.lazy=function(e){return{$$typeof:Bg,_payload:{_status:-1,_result:e},_init:Wg}};ee.memo=function(e,t){return{$$typeof:Fg,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Oi.transition;Oi.transition={};try{e()}finally{Oi.transition=t}};ee.unstable_act=sh;ee.useCallback=function(e,t){return He.current.useCallback(e,t)};ee.useContext=function(e){return He.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return He.current.useDeferredValue(e)};ee.useEffect=function(e,t){return He.current.useEffect(e,t)};ee.useId=function(){return He.current.useId()};ee.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return He.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};ee.useRef=function(e){return He.current.useRef(e)};ee.useState=function(e){return He.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return He.current.useTransition()};ee.version="18.3.1";Gf.exports=ee;var k=Gf.exports;const z=Xf(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=k,Xg=Symbol.for("react.element"),Kg=Symbol.for("react.fragment"),Gg=Object.prototype.hasOwnProperty,Qg=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zg={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Gg.call(t,r)&&!Zg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xg,type:e,key:i,ref:o,props:s,_owner:Qg.current}}Do.Fragment=Kg;Do.jsx=ih;Do.jsxs=ih;Kf.exports=Do;var u=Kf.exports,ta={},oh={exports:{}},st={},lh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,E){var $=C.length;C.push(E);e:for(;0<$;){var O=$-1>>>1,F=C[O];if(0<s(F,E))C[O]=E,C[$]=F,$=O;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var E=C[0],$=C.pop();if($!==E){C[0]=$;e:for(var O=0,F=C.length,q=F>>>1;O<q;){var S=2*(O+1)-1,M=C[S],B=S+1,V=C[B];if(0>s(M,$))B<F&&0>s(V,M)?(C[O]=V,C[B]=$,O=B):(C[O]=M,C[S]=$,O=S);else if(B<F&&0>s(V,$))C[O]=V,C[B]=$,O=B;else break e}}return E}function s(C,E){var $=C.sortIndex-E.sortIndex;return $!==0?$:C.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,f=null,h=3,g=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var E=n(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=C)r(c),E.sortIndex=E.expirationTime,t(a,E);else break;E=n(c)}}function w(C){if(x=!1,y(C),!v)if(n(a)!==null)v=!0,b(j);else{var E=n(c);E!==null&&D(w,E.startTime-C)}}function j(C,E){v=!1,x&&(x=!1,p(R),R=-1),g=!0;var $=h;try{for(y(E),f=n(a);f!==null&&(!(f.expirationTime>E)||C&&!H());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var F=O(f.expirationTime<=E);E=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(a)&&r(a),y(E)}else r(a);f=n(a)}if(f!==null)var q=!0;else{var S=n(c);S!==null&&D(w,S.startTime-E),q=!1}return q}finally{f=null,h=$,g=!1}}var A=!1,T=null,R=-1,I=5,L=-1;function H(){return!(e.unstable_now()-L<I)}function Y(){if(T!==null){var C=e.unstable_now();L=C;var E=!0;try{E=T(!0,C)}finally{E?W():(A=!1,T=null)}}else A=!1}var W;if(typeof m=="function")W=function(){m(Y)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,P=N.port2;N.port1.onmessage=Y,W=function(){P.postMessage(null)}}else W=function(){_(Y,0)};function b(C){T=C,A||(A=!0,W())}function D(C,E){R=_(function(){C(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,b(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var $=h;h=E;try{return C()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,E){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=h;h=C;try{return E()}finally{h=$}},e.unstable_scheduleCallback=function(C,E,$){var O=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?O+$:O):$=O,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=$+F,C={id:d++,callback:E,priorityLevel:C,startTime:$,expirationTime:F,sortIndex:-1},$>O?(C.sortIndex=$,t(c,C),n(a)===null&&C===n(c)&&(x?(p(R),R=-1):x=!0,D(w,$-O))):(C.sortIndex=F,t(a,C),v||g||(v=!0,b(j))),C},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(C){var E=h;return function(){var $=h;h=E;try{return C.apply(this,arguments)}finally{h=$}}}})(ah);lh.exports=ah;var Jg=lh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=k,nt=Jg;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uh=new Set,$s={};function er(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for($s[e]=t,e=0;e<t.length;e++)uh.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,ty=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Xc={};function ny(e){return na.call(Xc,e)?!0:na.call(qc,e)?!1:ty.test(e)?Xc[e]=!0:(qc[e]=!0,!1)}function ry(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sy(e,t,n,r){if(t===null||typeof t>"u"||ry(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var wu=/[\-:]([a-z])/g;function Nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wu,Nu);Te[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wu,Nu);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wu,Nu);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Su(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sy(t,n,s,r)&&(n=null),r||s===null?ny(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=Symbol.for("react.element"),fr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),ra=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),dh=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),sa=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),fh=Symbol.for("react.offscreen"),Kc=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,gl;function ps(e){if(gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||""}return`
`+gl+e}var yl=!1;function xl(e,t){if(!e||yl)return"";yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function iy(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=xl(e.type,!1),e;case 11:return e=xl(e.type.render,!1),e;case 1:return e=xl(e.type,!0),e;default:return""}}function oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case fr:return"Portal";case ra:return"Profiler";case _u:return"StrictMode";case sa:return"Suspense";case ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dh:return(e.displayName||"Context")+".Consumer";case ch:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}function oy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(t);case 8:return t===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e){var t=hh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fi(e){e._valueTracker||(e._valueTracker=ly(e))}function ph(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mh(e,t){t=t.checked,t!=null&&Su(e,"checked",t,!1)}function aa(e,t){mh(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,n):t.hasOwnProperty("defaultValue")&&ua(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ua(e,t,n){(t!=="number"||so(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ms=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(ms(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function gh(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hi,xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ay=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){ay.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function vh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function wh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var uy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(uy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,br=null,jr=null;function ed(e){if(e=ii(e)){if(typeof ma!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Vo(t),ma(e.stateNode,e.type,t))}}function Nh(e){br?jr?jr.push(e):jr=[e]:br=e}function Sh(){if(br){var e=br,t=jr;if(jr=br=null,ed(e),t)for(e=0;e<t.length;e++)ed(t[e])}}function _h(e,t){return e(t)}function kh(){}var vl=!1;function Eh(e,t,n){if(vl)return e(t,n);vl=!0;try{return _h(e,t,n)}finally{vl=!1,(br!==null||jr!==null)&&(kh(),Sh())}}function Ps(e,t){var n=e.stateNode;if(n===null)return null;var r=Vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ga=!1;if(Kt)try{var es={};Object.defineProperty(es,"passive",{get:function(){ga=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{ga=!1}function cy(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var _s=!1,io=null,oo=!1,ya=null,dy={onError:function(e){_s=!0,io=e}};function fy(e,t,n,r,s,i,o,l,a){_s=!1,io=null,cy.apply(dy,arguments)}function hy(e,t,n,r,s,i,o,l,a){if(fy.apply(this,arguments),_s){if(_s){var c=io;_s=!1,io=null}else throw Error(U(198));oo||(oo=!0,ya=c)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function td(e){if(tr(e)!==e)throw Error(U(188))}function py(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return td(s),e;if(i===r)return td(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function jh(e){return e=py(e),e!==null?Ch(e):null}function Ch(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ch(e);if(t!==null)return t;e=e.sibling}return null}var Ah=nt.unstable_scheduleCallback,nd=nt.unstable_cancelCallback,my=nt.unstable_shouldYield,gy=nt.unstable_requestPaint,ye=nt.unstable_now,yy=nt.unstable_getCurrentPriorityLevel,ju=nt.unstable_ImmediatePriority,Th=nt.unstable_UserBlockingPriority,lo=nt.unstable_NormalPriority,xy=nt.unstable_LowPriority,$h=nt.unstable_IdlePriority,Oo=null,Rt=null;function vy(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Oo,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Sy,wy=Math.log,Ny=Math.LN2;function Sy(e){return e>>>=0,e===0?32:31-(wy(e)/Ny|0)|0}var pi=64,mi=4194304;function gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ao(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=gs(l):(i&=o,i!==0&&(r=gs(i)))}else o=n&~s,o!==0?r=gs(o):i!==0&&(r=gs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),s=1<<n,r|=e[n],t&=~s;return r}function _y(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ky(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=_y(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rh(){var e=pi;return pi<<=1,!(pi&4194240)&&(pi=64),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ri(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Ey(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function Ph(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ih,Au,Mh,zh,Lh,va=!1,gi=[],pn=null,mn=null,gn=null,Is=new Map,Ms=new Map,un=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(t.pointerId)}}function ts(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ii(t),t!==null&&Au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jy(e,t,n,r,s){switch(t){case"focusin":return pn=ts(pn,e,t,n,r,s),!0;case"dragenter":return mn=ts(mn,e,t,n,r,s),!0;case"mouseover":return gn=ts(gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Is.set(i,ts(Is.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ms.set(i,ts(Ms.get(i)||null,e,t,n,r,s)),!0}return!1}function Dh(e){var t=Dn(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=bh(n),t!==null){e.blockedOn=t,Lh(e.priority,function(){Mh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pa=r,n.target.dispatchEvent(r),pa=null}else return t=ii(n),t!==null&&Au(t),e.blockedOn=n,!1;t.shift()}return!0}function sd(e,t,n){Fi(e)&&n.delete(t)}function Cy(){va=!1,pn!==null&&Fi(pn)&&(pn=null),mn!==null&&Fi(mn)&&(mn=null),gn!==null&&Fi(gn)&&(gn=null),Is.forEach(sd),Ms.forEach(sd)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,va||(va=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Cy)))}function zs(e){function t(s){return ns(s,e)}if(0<gi.length){ns(gi[0],e);for(var n=1;n<gi.length;n++){var r=gi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&ns(pn,e),mn!==null&&ns(mn,e),gn!==null&&ns(gn,e),Is.forEach(t),Ms.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Dh(n),n.blockedOn===null&&un.shift()}var Cr=tn.ReactCurrentBatchConfig,uo=!0;function Ay(e,t,n,r){var s=se,i=Cr.transition;Cr.transition=null;try{se=1,Tu(e,t,n,r)}finally{se=s,Cr.transition=i}}function Ty(e,t,n,r){var s=se,i=Cr.transition;Cr.transition=null;try{se=4,Tu(e,t,n,r)}finally{se=s,Cr.transition=i}}function Tu(e,t,n,r){if(uo){var s=wa(e,t,n,r);if(s===null)Tl(e,t,r,co,n),rd(e,r);else if(jy(s,e,t,n,r))r.stopPropagation();else if(rd(e,r),t&4&&-1<by.indexOf(e)){for(;s!==null;){var i=ii(s);if(i!==null&&Ih(i),i=wa(e,t,n,r),i===null&&Tl(e,t,r,co,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tl(e,t,r,null,n)}}var co=null;function wa(e,t,n,r){if(co=null,e=bu(r),e=Dn(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return co=e,null}function Oh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yy()){case ju:return 1;case Th:return 4;case lo:case xy:return 16;case $h:return 536870912;default:return 16}default:return 16}}var fn=null,$u=null,Bi=null;function Fh(){if(Bi)return Bi;var e,t=$u,n=t.length,r,s="value"in fn?fn.value:fn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Bi=s.slice(e,1<r?1-r:void 0)}function Hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function id(){return!1}function it(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yi:id,this.isPropagationStopped=id,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=it(Yr),si=he({},Yr,{view:0,detail:0}),$y=it(si),Nl,Sl,rs,Fo=he({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Nl=e.screenX-rs.screenX,Sl=e.screenY-rs.screenY):Sl=Nl=0,rs=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),od=it(Fo),Ry=he({},Fo,{dataTransfer:0}),Py=it(Ry),Iy=he({},si,{relatedTarget:0}),_l=it(Iy),My=he({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),zy=it(My),Ly=he({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dy=it(Ly),Oy=he({},Yr,{data:0}),ld=it(Oy),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hy[e])?!!t[e]:!1}function Pu(){return Vy}var Uy=he({},si,{key:function(e){if(e.key){var t=Fy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?By[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(e){return e.type==="keypress"?Hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wy=it(Uy),Yy=he({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=it(Yy),qy=he({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),Xy=it(qy),Ky=he({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gy=it(Ky),Qy=he({},Fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=it(Qy),Jy=[9,13,27,32],Iu=Kt&&"CompositionEvent"in window,ks=null;Kt&&"documentMode"in document&&(ks=document.documentMode);var ex=Kt&&"TextEvent"in window&&!ks,Bh=Kt&&(!Iu||ks&&8<ks&&11>=ks),ud=" ",cd=!1;function Hh(e,t){switch(e){case"keyup":return Jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function tx(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(cd=!0,ud);case"textInput":return e=t.data,e===ud&&cd?null:e;default:return null}}function nx(e,t){if(pr)return e==="compositionend"||!Iu&&Hh(e,t)?(e=Fh(),Bi=$u=fn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bh&&t.locale!=="ko"?null:t.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rx[e.type]:t==="textarea"}function Uh(e,t,n,r){Nh(r),t=fo(t,"onChange"),0<t.length&&(n=new Ru("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Es=null,Ls=null;function sx(e){tp(e,0)}function Bo(e){var t=yr(e);if(ph(t))return e}function ix(e,t){if(e==="change")return t}var Wh=!1;if(Kt){var kl;if(Kt){var El="oninput"in document;if(!El){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),El=typeof fd.oninput=="function"}kl=El}else kl=!1;Wh=kl&&(!document.documentMode||9<document.documentMode)}function hd(){Es&&(Es.detachEvent("onpropertychange",Yh),Ls=Es=null)}function Yh(e){if(e.propertyName==="value"&&Bo(Ls)){var t=[];Uh(t,Ls,e,bu(e)),Eh(sx,t)}}function ox(e,t,n){e==="focusin"?(hd(),Es=t,Ls=n,Es.attachEvent("onpropertychange",Yh)):e==="focusout"&&hd()}function lx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bo(Ls)}function ax(e,t){if(e==="click")return Bo(t)}function ux(e,t){if(e==="input"||e==="change")return Bo(t)}function cx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:cx;function Ds(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!na.call(t,s)||!bt(e[s],t[s]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var n=pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function qh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xh(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=so(e.document)}return t}function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dx(e){var t=Xh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qh(n.ownerDocument.documentElement,n)){if(r!==null&&Mu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=md(n,i);var o=md(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fx=Kt&&"documentMode"in document&&11>=document.documentMode,mr=null,Na=null,bs=null,Sa=!1;function gd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||mr==null||mr!==so(r)||(r=mr,"selectionStart"in r&&Mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bs&&Ds(bs,r)||(bs=r,r=fo(Na,"onSelect"),0<r.length&&(t=new Ru("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},bl={},Kh={};Kt&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ho(e){if(bl[e])return bl[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kh)return bl[e]=t[n];return e}var Gh=Ho("animationend"),Qh=Ho("animationiteration"),Zh=Ho("animationstart"),Jh=Ho("transitionend"),ep=new Map,yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){ep.set(e,t),er(t,[e])}for(var jl=0;jl<yd.length;jl++){var Cl=yd[jl],hx=Cl.toLowerCase(),px=Cl[0].toUpperCase()+Cl.slice(1);bn(hx,"on"+px)}bn(Gh,"onAnimationEnd");bn(Qh,"onAnimationIteration");bn(Zh,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(Jh,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hy(r,t,void 0,e),e.currentTarget=null}function tp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;xd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;xd(s,l,c),i=a}}}if(oo)throw e=ya,oo=!1,ya=null,e}function ae(e,t){var n=t[ja];n===void 0&&(n=t[ja]=new Set);var r=e+"__bubble";n.has(r)||(np(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),np(n,e,r,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[vi]){e[vi]=!0,uh.forEach(function(n){n!=="selectionchange"&&(mx.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,Al("selectionchange",!1,t))}}function np(e,t,n,r){switch(Oh(t)){case 1:var s=Ay;break;case 4:s=Ty;break;default:s=Tu}n=s.bind(null,t,n,e),s=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Tl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Dn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Eh(function(){var c=i,d=bu(n),f=[];e:{var h=ep.get(e);if(h!==void 0){var g=Ru,v=e;switch(e){case"keypress":if(Hi(n)===0)break e;case"keydown":case"keyup":g=Wy;break;case"focusin":v="focus",g=_l;break;case"focusout":v="blur",g=_l;break;case"beforeblur":case"afterblur":g=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Xy;break;case Gh:case Qh:case Zh:g=zy;break;case Jh:g=Gy;break;case"scroll":g=$y;break;case"wheel":g=Zy;break;case"copy":case"cut":case"paste":g=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ad}var x=(t&4)!==0,_=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=Ps(m,p),w!=null&&x.push(Fs(m,w,y)))),_)break;m=m.return}0<x.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==pa&&(v=n.relatedTarget||n.fromElement)&&(Dn(v)||v[Gt]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Dn(v):null,v!==null&&(_=tr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=od,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=ad,w="onPointerLeave",p="onPointerEnter",m="pointer"),_=g==null?h:yr(g),y=v==null?h:yr(v),h=new x(w,m+"leave",g,n,d),h.target=_,h.relatedTarget=y,w=null,Dn(d)===c&&(x=new x(p,m+"enter",v,n,d),x.target=y,x.relatedTarget=_,w=x),_=w,g&&v)t:{for(x=g,p=v,m=0,y=x;y;y=lr(y))m++;for(y=0,w=p;w;w=lr(w))y++;for(;0<m-y;)x=lr(x),m--;for(;0<y-m;)p=lr(p),y--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=lr(x),p=lr(p)}x=null}else x=null;g!==null&&vd(f,h,g,x,!1),v!==null&&_!==null&&vd(f,_,v,x,!0)}}e:{if(h=c?yr(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var j=ix;else if(dd(h))if(Wh)j=ux;else{j=lx;var A=ox}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=ax);if(j&&(j=j(e,c))){Uh(f,j,n,d);break e}A&&A(e,h,c),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&ua(h,"number",h.value)}switch(A=c?yr(c):window,e){case"focusin":(dd(A)||A.contentEditable==="true")&&(mr=A,Na=c,bs=null);break;case"focusout":bs=Na=mr=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,gd(f,n,d);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":gd(f,n,d)}var T;if(Iu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pr?Hh(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Bh&&n.locale!=="ko"&&(pr||R!=="onCompositionStart"?R==="onCompositionEnd"&&pr&&(T=Fh()):(fn=d,$u="value"in fn?fn.value:fn.textContent,pr=!0)),A=fo(c,R),0<A.length&&(R=new ld(R,e,null,n,d),f.push({event:R,listeners:A}),T?R.data=T:(T=Vh(n),T!==null&&(R.data=T)))),(T=ex?tx(e,n):nx(e,n))&&(c=fo(c,"onBeforeInput"),0<c.length&&(d=new ld("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}tp(f,t)})}function Fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ps(e,n),i!=null&&r.unshift(Fs(e,i,s)),i=Ps(e,t),i!=null&&r.push(Fs(e,i,s))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Ps(n,i),a!=null&&o.unshift(Fs(n,a,l))):s||(a=Ps(n,i),a!=null&&o.push(Fs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(gx,`
`).replace(yx,"")}function wi(e,t,n){if(t=wd(t),wd(e)!==t&&n)throw Error(U(425))}function ho(){}var _a=null,ka=null;function Ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ba=typeof setTimeout=="function"?setTimeout:void 0,xx=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(e){return Nd.resolve(null).then(e).catch(wx)}:ba;function wx(e){setTimeout(function(){throw e})}function $l(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),$t="__reactFiber$"+qr,Bs="__reactProps$"+qr,Gt="__reactContainer$"+qr,ja="__reactEvents$"+qr,Nx="__reactListeners$"+qr,Sx="__reactHandles$"+qr;function Dn(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sd(e);e!==null;){if(n=e[$t])return n;e=Sd(e)}return t}e=n,n=e.parentNode}return null}function ii(e){return e=e[$t]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Vo(e){return e[Bs]||null}var Ca=[],xr=-1;function jn(e){return{current:e}}function ue(e){0>xr||(e.current=Ca[xr],Ca[xr]=null,xr--)}function oe(e,t){xr++,Ca[xr]=e.current,e.current=t}var En={},Le=jn(En),Xe=jn(!1),qn=En;function Mr(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function po(){ue(Xe),ue(Le)}function _d(e,t,n){if(Le.current!==En)throw Error(U(168));oe(Le,t),oe(Xe,n)}function rp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,oy(e)||"Unknown",s));return he({},n,r)}function mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,qn=Le.current,oe(Le,e),oe(Xe,Xe.current),!0}function kd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=rp(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,ue(Xe),ue(Le),oe(Le,e)):ue(Xe),oe(Xe,n)}var Vt=null,Uo=!1,Rl=!1;function sp(e){Vt===null?Vt=[e]:Vt.push(e)}function _x(e){Uo=!0,sp(e)}function Cn(){if(!Rl&&Vt!==null){Rl=!0;var e=0,t=se;try{var n=Vt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Uo=!1}catch(s){throw Vt!==null&&(Vt=Vt.slice(e+1)),Ah(ju,Cn),s}finally{se=t,Rl=!1}}return null}var vr=[],wr=0,go=null,yo=0,ot=[],lt=0,Xn=null,Ut=1,Wt="";function Mn(e,t){vr[wr++]=yo,vr[wr++]=go,go=e,yo=t}function ip(e,t,n){ot[lt++]=Ut,ot[lt++]=Wt,ot[lt++]=Xn,Xn=e;var r=Ut;e=Wt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var i=32-kt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ut=1<<32-kt(t)+s|n<<s|r,Wt=i+e}else Ut=1<<i|n<<s|r,Wt=e}function zu(e){e.return!==null&&(Mn(e,1),ip(e,1,0))}function Lu(e){for(;e===go;)go=vr[--wr],vr[wr]=null,yo=vr[--wr],vr[wr]=null;for(;e===Xn;)Xn=ot[--lt],ot[lt]=null,Wt=ot[--lt],ot[lt]=null,Ut=ot[--lt],ot[lt]=null}var tt=null,et=null,ce=!1,St=null;function op(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ed(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xn!==null?{id:Ut,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Aa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(ce){var t=et;if(t){var n=t;if(!Ed(e,t)){if(Aa(e))throw Error(U(418));t=yn(n.nextSibling);var r=tt;t&&Ed(e,t)?op(r,n):(e.flags=e.flags&-4097|2,ce=!1,tt=e)}}else{if(Aa(e))throw Error(U(418));e.flags=e.flags&-4097|2,ce=!1,tt=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ni(e){if(e!==tt)return!1;if(!ce)return bd(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ea(e.type,e.memoizedProps)),t&&(t=et)){if(Aa(e))throw lp(),Error(U(418));for(;t;)op(e,t),t=yn(t.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?yn(e.stateNode.nextSibling):null;return!0}function lp(){for(var e=et;e;)e=yn(e.nextSibling)}function zr(){et=tt=null,ce=!1}function Du(e){St===null?St=[e]:St.push(e)}var kx=tn.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function ap(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Nn(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,w){return m===null||m.tag!==6?(m=Ol(y,p.mode,w),m.return=p,m):(m=s(m,y),m.return=p,m)}function a(p,m,y,w){var j=y.type;return j===hr?d(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sn&&jd(j)===m.type)?(w=s(m,y.props),w.ref=ss(p,m,y),w.return=p,w):(w=Ki(y.type,y.key,y.props,null,p.mode,w),w.ref=ss(p,m,y),w.return=p,w)}function c(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Fl(y,p.mode,w),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,w,j){return m===null||m.tag!==7?(m=Un(y,p.mode,w,j),m.return=p,m):(m=s(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ol(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case di:return y=Ki(m.type,m.key,m.props,null,p.mode,y),y.ref=ss(p,null,m),y.return=p,y;case fr:return m=Fl(m,p.mode,y),m.return=p,m;case sn:var w=m._init;return f(p,w(m._payload),y)}if(ms(m)||Jr(m))return m=Un(m,p.mode,y,null),m.return=p,m;Si(p,m)}return null}function h(p,m,y,w){var j=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return y.key===j?a(p,m,y,w):null;case fr:return y.key===j?c(p,m,y,w):null;case sn:return j=y._init,h(p,m,j(y._payload),w)}if(ms(y)||Jr(y))return j!==null?null:d(p,m,y,w,null);Si(p,y)}return null}function g(p,m,y,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(m,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case di:return p=p.get(w.key===null?y:w.key)||null,a(m,p,w,j);case fr:return p=p.get(w.key===null?y:w.key)||null,c(m,p,w,j);case sn:var A=w._init;return g(p,m,y,A(w._payload),j)}if(ms(w)||Jr(w))return p=p.get(y)||null,d(m,p,w,j,null);Si(m,w)}return null}function v(p,m,y,w){for(var j=null,A=null,T=m,R=m=0,I=null;T!==null&&R<y.length;R++){T.index>R?(I=T,T=null):I=T.sibling;var L=h(p,T,y[R],w);if(L===null){T===null&&(T=I);break}e&&T&&L.alternate===null&&t(p,T),m=i(L,m,R),A===null?j=L:A.sibling=L,A=L,T=I}if(R===y.length)return n(p,T),ce&&Mn(p,R),j;if(T===null){for(;R<y.length;R++)T=f(p,y[R],w),T!==null&&(m=i(T,m,R),A===null?j=T:A.sibling=T,A=T);return ce&&Mn(p,R),j}for(T=r(p,T);R<y.length;R++)I=g(T,p,R,y[R],w),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?R:I.key),m=i(I,m,R),A===null?j=I:A.sibling=I,A=I);return e&&T.forEach(function(H){return t(p,H)}),ce&&Mn(p,R),j}function x(p,m,y,w){var j=Jr(y);if(typeof j!="function")throw Error(U(150));if(y=j.call(y),y==null)throw Error(U(151));for(var A=j=null,T=m,R=m=0,I=null,L=y.next();T!==null&&!L.done;R++,L=y.next()){T.index>R?(I=T,T=null):I=T.sibling;var H=h(p,T,L.value,w);if(H===null){T===null&&(T=I);break}e&&T&&H.alternate===null&&t(p,T),m=i(H,m,R),A===null?j=H:A.sibling=H,A=H,T=I}if(L.done)return n(p,T),ce&&Mn(p,R),j;if(T===null){for(;!L.done;R++,L=y.next())L=f(p,L.value,w),L!==null&&(m=i(L,m,R),A===null?j=L:A.sibling=L,A=L);return ce&&Mn(p,R),j}for(T=r(p,T);!L.done;R++,L=y.next())L=g(T,p,R,L.value,w),L!==null&&(e&&L.alternate!==null&&T.delete(L.key===null?R:L.key),m=i(L,m,R),A===null?j=L:A.sibling=L,A=L);return e&&T.forEach(function(Y){return t(p,Y)}),ce&&Mn(p,R),j}function _(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===hr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case di:e:{for(var j=y.key,A=m;A!==null;){if(A.key===j){if(j=y.type,j===hr){if(A.tag===7){n(p,A.sibling),m=s(A,y.props.children),m.return=p,p=m;break e}}else if(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sn&&jd(j)===A.type){n(p,A.sibling),m=s(A,y.props),m.ref=ss(p,A,y),m.return=p,p=m;break e}n(p,A);break}else t(p,A);A=A.sibling}y.type===hr?(m=Un(y.props.children,p.mode,w,y.key),m.return=p,p=m):(w=Ki(y.type,y.key,y.props,null,p.mode,w),w.ref=ss(p,m,y),w.return=p,p=w)}return o(p);case fr:e:{for(A=y.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Fl(y,p.mode,w),m.return=p,p=m}return o(p);case sn:return A=y._init,_(p,m,A(y._payload),w)}if(ms(y))return v(p,m,y,w);if(Jr(y))return x(p,m,y,w);Si(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,y),m.return=p,p=m):(n(p,m),m=Ol(y,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return _}var Lr=ap(!0),up=ap(!1),xo=jn(null),vo=null,Nr=null,Ou=null;function Fu(){Ou=Nr=vo=null}function Bu(e){var t=xo.current;ue(xo),e._currentValue=t}function $a(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){vo=e,Ou=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ou!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(vo===null)throw Error(U(308));Nr=e,vo.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var On=null;function Hu(e){On===null?On=[e]:On.push(e)}function cp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Qt(e,n)}return s=r.interleaved,s===null?(t.next=t,Hu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Qt(e,n)}function Vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}function Cd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wo(e,t,n,r){var s=e.updateQueue;on=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=c=a=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(h=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=he({},f,h);break e;case 2:on=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=g,a=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=f}}function Ad(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var oi={},Pt=jn(oi),Hs=jn(oi),Vs=jn(oi);function Fn(e){if(e===oi)throw Error(U(174));return e}function Uu(e,t){switch(oe(Vs,t),oe(Hs,e),oe(Pt,oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=da(t,e)}ue(Pt),oe(Pt,t)}function Dr(){ue(Pt),ue(Hs),ue(Vs)}function fp(e){Fn(Vs.current);var t=Fn(Pt.current),n=da(t,e.type);t!==n&&(oe(Hs,e),oe(Pt,n))}function Wu(e){Hs.current===e&&(ue(Pt),ue(Hs))}var de=jn(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Yu(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Ui=tn.ReactCurrentDispatcher,Il=tn.ReactCurrentBatchConfig,Kn=0,fe=null,Se=null,Ee=null,So=!1,js=!1,Us=0,Ex=0;function Ie(){throw Error(U(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Xu(e,t,n,r,s,i){if(Kn=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ui.current=e===null||e.memoizedState===null?Ax:Tx,e=n(r,s),js){i=0;do{if(js=!1,Us=0,25<=i)throw Error(U(301));i+=1,Ee=Se=null,t.updateQueue=null,Ui.current=$x,e=n(r,s)}while(js)}if(Ui.current=_o,t=Se!==null&&Se.next!==null,Kn=0,Ee=Se=fe=null,So=!1,t)throw Error(U(300));return e}function Ku(){var e=Us!==0;return Us=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function mt(){if(Se===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ee===null?fe.memoizedState:Ee.next;if(t!==null)Ee=t,Se=e;else{if(e===null)throw Error(U(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Ws(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((Kn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,fe.lanes|=d,Gn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,bt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,fe.lanes|=i,Gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);bt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hp(){}function pp(e,t){var n=fe,r=mt(),s=t(),i=!bt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ye=!0),r=r.queue,Gu(yp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Ys(9,gp.bind(null,n,r,s,t),void 0,null),be===null)throw Error(U(349));Kn&30||mp(n,t,s)}return s}function mp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gp(e,t,n,r){t.value=n,t.getSnapshot=r,xp(t)&&vp(e)}function yp(e,t,n){return n(function(){xp(t)&&vp(e)})}function xp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function vp(e){var t=Qt(e,1);t!==null&&Et(t,e,1,-1)}function Td(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Cx.bind(null,fe,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wp(){return mt().memoizedState}function Wi(e,t,n,r){var s=Tt();fe.flags|=e,s.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function Wo(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,r!==null&&qu(r,o.deps)){s.memoizedState=Ys(t,n,i,r);return}}fe.flags|=e,s.memoizedState=Ys(1|t,n,i,r)}function $d(e,t){return Wi(8390656,8,e,t)}function Gu(e,t){return Wo(2048,8,e,t)}function Np(e,t){return Wo(4,2,e,t)}function Sp(e,t){return Wo(4,4,e,t)}function _p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kp(e,t,n){return n=n!=null?n.concat([e]):null,Wo(4,4,_p.bind(null,t,e),n)}function Qu(){}function Ep(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jp(e,t,n){return Kn&21?(bt(n,t)||(n=Rh(),fe.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function bx(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{se=n,Il.transition=r}}function Cp(){return mt().memoizedState}function jx(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ap(e))Tp(t,n);else if(n=cp(e,t,n,r),n!==null){var s=Be();Et(n,e,r,s),$p(n,t,r)}}function Cx(e,t,n){var r=wn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ap(e))Tp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,bt(l,o)){var a=t.interleaved;a===null?(s.next=s,Hu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=cp(e,t,s,r),n!==null&&(s=Be(),Et(n,e,r,s),$p(n,t,r))}}function Ap(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Tp(e,t){js=So=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $p(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}var _o={readContext:pt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Ax={readContext:pt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:$d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4194308,4,_p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jx.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Td,useDebugValue:Qu,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Td(!1),t=e[0];return e=bx.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,s=Tt();if(ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),be===null)throw Error(U(349));Kn&30||mp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$d(yp.bind(null,r,i,e),[e]),r.flags|=2048,Ys(9,gp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Tt(),t=be.identifierPrefix;if(ce){var n=Wt,r=Ut;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tx={readContext:pt,useCallback:Ep,useContext:pt,useEffect:Gu,useImperativeHandle:kp,useInsertionEffect:Np,useLayoutEffect:Sp,useMemo:bp,useReducer:Ml,useRef:wp,useState:function(){return Ml(Ws)},useDebugValue:Qu,useDeferredValue:function(e){var t=mt();return jp(t,Se.memoizedState,e)},useTransition:function(){var e=Ml(Ws)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hp,useSyncExternalStore:pp,useId:Cp,unstable_isNewReconciler:!1},$x={readContext:pt,useCallback:Ep,useContext:pt,useEffect:Gu,useImperativeHandle:kp,useInsertionEffect:Np,useLayoutEffect:Sp,useMemo:bp,useReducer:zl,useRef:wp,useState:function(){return zl(Ws)},useDebugValue:Qu,useDeferredValue:function(e){var t=mt();return Se===null?t.memoizedState=e:jp(t,Se.memoizedState,e)},useTransition:function(){var e=zl(Ws)[0],t=mt().memoizedState;return[e,t]},useMutableSource:hp,useSyncExternalStore:pp,useId:Cp,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ra(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yo={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),s=wn(e),i=qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,s),t!==null&&(Et(t,e,s,r),Vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),s=wn(e),i=qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,s),t!==null&&(Et(t,e,s,r),Vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=wn(e),s=qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=xn(e,s,r),t!==null&&(Et(t,e,r,n),Vi(t,e,r))}};function Rd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ds(n,r)||!Ds(s,i):!0}function Rp(e,t,n){var r=!1,s=En,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(s=Ke(t)?qn:Le.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):En),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function Pa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pt(i):(i=Ke(t)?qn:Le.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ra(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yo.enqueueReplaceState(s,s.state,null),wo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=iy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function Pp(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eo||(Eo=!0,Ua=r),Ia(e,t)},n}function Ip(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ia(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Yx.bind(null,e,t,n),t.then(e,e))}function Md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Px=tn.ReactCurrentOwner,Ye=!1;function Fe(e,t,n,r){t.child=e===null?up(t,null,n,r):Lr(t,e.child,n,r)}function Ld(e,t,n,r,s){n=n.render;var i=t.ref;return Ar(t,s),r=Xu(e,t,n,r,i,s),n=Ku(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ce&&n&&zu(t),t.flags|=1,Fe(e,t,r,s),t.child)}function Dd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ic(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mp(e,t,i,r,s)):(e=Ki(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=Nn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Mp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ds(i,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return Ma(e,t,n,r,s)}function zp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(_r,Je),Je|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(_r,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(_r,Je),Je|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,oe(_r,Je),Je|=r;return Fe(e,t,s,n),t.child}function Lp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,s){var i=Ke(n)?qn:Le.current;return i=Mr(t,i),Ar(t,s),n=Xu(e,t,n,r,i,s),r=Ku(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ce&&r&&zu(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Od(e,t,n,r,s){if(Ke(n)){var i=!0;mo(t)}else i=!1;if(Ar(t,s),t.stateNode===null)Yi(e,t),Rp(t,n,r),Pa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Ke(n)?qn:Le.current,c=Mr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Pd(t,o,r,c),on=!1;var h=t.memoizedState;o.state=h,wo(t,r,o,s),a=t.memoizedState,l!==r||h!==a||Xe.current||on?(typeof d=="function"&&(Ra(t,n,d,r),a=t.memoizedState),(l=on||Rd(t,n,l,r,h,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:xt(t.type,l),o.props=c,f=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Ke(n)?qn:Le.current,a=Mr(t,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Pd(t,o,r,a),on=!1,h=t.memoizedState,o.state=h,wo(t,r,o,s);var v=t.memoizedState;l!==f||h!==v||Xe.current||on?(typeof g=="function"&&(Ra(t,n,g,r),v=t.memoizedState),(c=on||Rd(t,n,c,r,h,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return za(e,t,n,r,i,s)}function za(e,t,n,r,s,i){Lp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&kd(t,n,!1),Zt(e,t,i);r=t.stateNode,Px.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,i),t.child=Lr(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,s&&kd(t,n,!0),t.child}function Dp(e){var t=e.stateNode;t.pendingContext?_d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_d(e,t.context,!1),Uu(e,t.containerInfo)}function Fd(e,t,n,r,s){return zr(),Du(s),t.flags|=256,Fe(e,t,n,r),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Op(e,t,n){var r=t.pendingProps,s=de.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(de,s&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ko(o,r,0,null),e=Un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Da(n),t.memoizedState=La,e):Zu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ix(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Nn(l,i):(i=Un(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Da(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=La,r}return i=e.child,e=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zu(e,t){return t=Ko({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,n,r){return r!==null&&Du(r),Lr(t,e.child,null,n),e=Zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ix(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ll(Error(U(422))),_i(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ko({mode:"visible",children:r.children},s,0,null),i=Un(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=Da(o),t.memoizedState=La,i);if(!(t.mode&1))return _i(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=Ll(i,r,void 0),_i(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ye||l){if(r=be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(e,s),Et(r,e,s,-1))}return sc(),r=Ll(Error(U(421))),_i(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,et=yn(s.nextSibling),tt=t,ce=!0,St=null,e!==null&&(ot[lt++]=Ut,ot[lt++]=Wt,ot[lt++]=Xn,Ut=e.id,Wt=e.overflow,Xn=t),t=Zu(t,r.children),t.flags|=4096,t)}function Bd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$a(e.return,t,n)}function Dl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,n,t);else if(e.tag===19)Bd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(de,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&No(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Dl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&No(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Dl(t,!0,n,null,i);break;case"together":Dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mx(e,t,n){switch(t.tag){case 3:Dp(t),zr();break;case 5:fp(t);break;case 1:Ke(t.type)&&mo(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;oe(xo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Op(e,t,n):(oe(de,de.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,zp(e,t,n)}return Zt(e,t,n)}var Bp,Oa,Hp,Vp;Bp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};Hp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fn(Pt.current);var i=null;switch(n){case"input":s=la(e,s),r=la(e,r),i=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":s=ca(e,s),r=ca(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ho)}fa(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($s.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ae("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Vp=function(e,t,n,r){n!==r&&(t.flags|=4)};function is(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zx(e,t,n){var r=t.pendingProps;switch(Lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ke(t.type)&&po(),Me(t),null;case 3:return r=t.stateNode,Dr(),ue(Xe),ue(Le),Yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ni(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(qa(St),St=null))),Oa(e,t),Me(t),null;case 5:Wu(t);var s=Fn(Vs.current);if(n=t.type,e!==null&&t.stateNode!=null)Hp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Me(t),null}if(e=Fn(Pt.current),Ni(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$t]=t,r[Bs]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)ae(ys[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Gc(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Zc(r,i),ae("invalid",r)}fa(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&wi(r.textContent,l,e),s=["children",""+l]):$s.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":fi(r),Qc(r,i,!0);break;case"textarea":fi(r),Jc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ho)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$t]=t,e[Bs]=r,Bp(e,t,!1,!1),t.stateNode=e;e:{switch(o=ha(n,r),n){case"dialog":ae("cancel",e),ae("close",e),s=r;break;case"iframe":case"object":case"embed":ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)ae(ys[s],e);s=r;break;case"source":ae("error",e),s=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=r;break;case"details":ae("toggle",e),s=r;break;case"input":Gc(e,r),s=la(e,r),ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Zc(e,r),s=ca(e,r),ae("invalid",e);break;default:s=r}fa(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?wh(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xh(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Rs(e,a):typeof a=="number"&&Rs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($s.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",e):a!=null&&Su(e,i,a,o))}switch(n){case"input":fi(e),Qc(e,r,!1);break;case"textarea":fi(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Vp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Fn(Vs.current),Fn(Pt.current),Ni(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Me(t),null;case 13:if(ue(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&et!==null&&t.mode&1&&!(t.flags&128))lp(),zr(),t.flags|=98560,i=!1;else if(i=Ni(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[$t]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else St!==null&&(qa(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?_e===0&&(_e=3):sc())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return Dr(),Oa(e,t),e===null&&Os(t.stateNode.containerInfo),Me(t),null;case 10:return Bu(t.type._context),Me(t),null;case 17:return Ke(t.type)&&po(),Me(t),null;case 19:if(ue(de),i=t.memoizedState,i===null)return Me(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)is(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=No(e),o!==null){for(t.flags|=128,is(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Fr&&(t.flags|=128,r=!0,is(i,!1),t.lanes=4194304)}else{if(!r)if(e=No(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Me(t),null}else 2*ye()-i.renderingStartTime>Fr&&n!==1073741824&&(t.flags|=128,r=!0,is(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return rc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Lx(e,t){switch(Lu(t),t.tag){case 1:return Ke(t.type)&&po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ue(Xe),ue(Le),Yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wu(t),null;case 13:if(ue(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(de),null;case 4:return Dr(),null;case 10:return Bu(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var ki=!1,ze=!1,Dx=typeof WeakSet=="function"?WeakSet:Set,X=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Fa(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Hd=!1;function Ox(e,t){if(_a=uo,e=Xh(),Mu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++d===r&&(a=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ka={focusedElem:e,selectionRange:n},uo=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:xt(t.type,x),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){pe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=Hd,Hd=!1,v}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fa(t,n,i)}s=s.next}while(s!==r)}}function qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Up(e){var t=e.alternate;t!==null&&(e.alternate=null,Up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Bs],delete t[ja],delete t[Nx],delete t[Sx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wp(e){return e.tag===5||e.tag===3||e.tag===4}function Vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ho));else if(r!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}function Va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}var Ce=null,vt=!1;function nn(e,t,n){for(n=n.child;n!==null;)Yp(e,t,n),n=n.sibling}function Yp(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Oo,n)}catch{}switch(n.tag){case 5:ze||Sr(n,t);case 6:var r=Ce,s=vt;Ce=null,nn(e,t,n),Ce=r,vt=s,Ce!==null&&(vt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(vt?(e=Ce,n=n.stateNode,e.nodeType===8?$l(e.parentNode,n):e.nodeType===1&&$l(e,n),zs(e)):$l(Ce,n.stateNode));break;case 4:r=Ce,s=vt,Ce=n.stateNode.containerInfo,vt=!0,nn(e,t,n),Ce=r,vt=s;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fa(n,t,o),s=s.next}while(s!==r)}nn(e,t,n);break;case 1:if(!ze&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,nn(e,t,n),ze=r):nn(e,t,n);break;default:nn(e,t,n)}}function Ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dx),t.forEach(function(r){var s=Xx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,vt=!1;break e;case 3:Ce=l.stateNode.containerInfo,vt=!0;break e;case 4:Ce=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Ce===null)throw Error(U(160));Yp(i,o,s),Ce=null,vt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){pe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qp(t,e),t=t.sibling}function qp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),At(e),r&4){try{Cs(3,e,e.return),qo(3,e)}catch(x){pe(e,e.return,x)}try{Cs(5,e,e.return)}catch(x){pe(e,e.return,x)}}break;case 1:yt(t,e),At(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(yt(t,e),At(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var s=e.stateNode;try{Rs(s,"")}catch(x){pe(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mh(s,i),ha(l,o);var c=ha(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?wh(s,f):d==="dangerouslySetInnerHTML"?xh(s,f):d==="children"?Rs(s,f):Su(s,d,f,c)}switch(l){case"input":aa(s,i);break;case"textarea":gh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Er(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bs]=i}catch(x){pe(e,e.return,x)}}break;case 6:if(yt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){pe(e,e.return,x)}}break;case 3:if(yt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(x){pe(e,e.return,x)}break;case 4:yt(t,e),At(e);break;case 13:yt(t,e),At(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tc=ye())),r&4&&Ud(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(c=ze)||d,yt(t,e),ze=c):yt(t,e),At(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,g=h.child,h.tag){case 0:case 11:case 14:case 15:Cs(4,h,h.return);break;case 1:Sr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){pe(r,n,x)}}break;case 5:Sr(h,h.return);break;case 22:if(h.memoizedState!==null){Yd(f);continue}}g!==null?(g.return=h,X=g):Yd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vh("display",o))}catch(x){pe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){pe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yt(t,e),At(e),r&4&&Ud(e);break;case 21:break;default:yt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rs(s,""),r.flags&=-33);var i=Vd(e);Va(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Vd(e);Ha(e,l,o);break;default:throw Error(U(161))}}catch(a){pe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fx(e,t,n){X=e,Xp(e)}function Xp(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ki;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ze;l=ki;var c=ze;if(ki=o,(ze=a)&&!c)for(X=s;X!==null;)o=X,a=o.child,o.tag===22&&o.memoizedState!==null?qd(s):a!==null?(a.return=o,X=a):qd(s);for(;i!==null;)X=i,Xp(i),i=i.sibling;X=s,ki=l,ze=c}Wd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Wd(e)}}function Wd(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ad(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ad(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ze||t.flags&512&&Ba(t)}catch(h){pe(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Yd(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function qd(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qo(4,t)}catch(a){pe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){pe(t,s,a)}}var i=t.return;try{Ba(t)}catch(a){pe(t,i,a)}break;case 5:var o=t.return;try{Ba(t)}catch(a){pe(t,o,a)}}}catch(a){pe(t,t.return,a)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Bx=Math.ceil,ko=tn.ReactCurrentDispatcher,Ju=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,re=0,be=null,xe=null,Ae=0,Je=0,_r=jn(0),_e=0,qs=null,Gn=0,Xo=0,ec=0,As=null,We=null,tc=0,Fr=1/0,Ht=null,Eo=!1,Ua=null,vn=null,Ei=!1,hn=null,bo=0,Ts=0,Wa=null,qi=-1,Xi=0;function Be(){return re&6?ye():qi!==-1?qi:qi=ye()}function wn(e){return e.mode&1?re&2&&Ae!==0?Ae&-Ae:kx.transition!==null?(Xi===0&&(Xi=Rh()),Xi):(e=se,e!==0||(e=window.event,e=e===void 0?16:Oh(e.type)),e):1}function Et(e,t,n,r){if(50<Ts)throw Ts=0,Wa=null,Error(U(185));ri(e,n,r),(!(re&2)||e!==be)&&(e===be&&(!(re&2)&&(Xo|=n),_e===4&&cn(e,Ae)),Ge(e,r),n===1&&re===0&&!(t.mode&1)&&(Fr=ye()+500,Uo&&Cn()))}function Ge(e,t){var n=e.callbackNode;ky(e,t);var r=ao(e,e===be?Ae:0);if(r===0)n!==null&&nd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nd(n),t===1)e.tag===0?_x(Xd.bind(null,e)):sp(Xd.bind(null,e)),vx(function(){!(re&6)&&Cn()}),n=null;else{switch(Ph(r)){case 1:n=ju;break;case 4:n=Th;break;case 16:n=lo;break;case 536870912:n=$h;break;default:n=lo}n=nm(n,Kp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kp(e,t){if(qi=-1,Xi=0,re&6)throw Error(U(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=ao(e,e===be?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jo(e,r);else{t=r;var s=re;re|=2;var i=Qp();(be!==e||Ae!==t)&&(Ht=null,Fr=ye()+500,Vn(e,t));do try{Ux();break}catch(l){Gp(e,l)}while(!0);Fu(),ko.current=i,re=s,xe!==null?t=0:(be=null,Ae=0,t=_e)}if(t!==0){if(t===2&&(s=xa(e),s!==0&&(r=s,t=Ya(e,s))),t===1)throw n=qs,Vn(e,0),cn(e,r),Ge(e,ye()),n;if(t===6)cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Hx(s)&&(t=jo(e,r),t===2&&(i=xa(e),i!==0&&(r=i,t=Ya(e,i))),t===1))throw n=qs,Vn(e,0),cn(e,r),Ge(e,ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:zn(e,We,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=tc+500-ye(),10<t)){if(ao(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ba(zn.bind(null,e,We,Ht),t);break}zn(e,We,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-kt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bx(r/1960))-r,10<r){e.timeoutHandle=ba(zn.bind(null,e,We,Ht),r);break}zn(e,We,Ht);break;case 5:zn(e,We,Ht);break;default:throw Error(U(329))}}}return Ge(e,ye()),e.callbackNode===n?Kp.bind(null,e):null}function Ya(e,t){var n=As;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=jo(e,t),e!==2&&(t=We,We=n,t!==null&&qa(t)),e}function qa(e){We===null?We=e:We.push.apply(We,e)}function Hx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~ec,t&=~Xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function Xd(e){if(re&6)throw Error(U(327));Tr();var t=ao(e,0);if(!(t&1))return Ge(e,ye()),null;var n=jo(e,t);if(e.tag!==0&&n===2){var r=xa(e);r!==0&&(t=r,n=Ya(e,r))}if(n===1)throw n=qs,Vn(e,0),cn(e,t),Ge(e,ye()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,We,Ht),Ge(e,ye()),null}function nc(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Fr=ye()+500,Uo&&Cn())}}function Qn(e){hn!==null&&hn.tag===0&&!(re&6)&&Tr();var t=re;re|=1;var n=ft.transition,r=se;try{if(ft.transition=null,se=1,e)return e()}finally{se=r,ft.transition=n,re=t,!(re&6)&&Cn()}}function rc(){Je=_r.current,ue(_r)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xx(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&po();break;case 3:Dr(),ue(Xe),ue(Le),Yu();break;case 5:Wu(r);break;case 4:Dr();break;case 13:ue(de);break;case 19:ue(de);break;case 10:Bu(r.type._context);break;case 22:case 23:rc()}n=n.return}if(be=e,xe=e=Nn(e.current,null),Ae=Je=t,_e=0,qs=null,ec=Xo=Gn=0,We=As=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return e}function Gp(e,t){do{var n=xe;try{if(Fu(),Ui.current=_o,So){for(var r=fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}So=!1}if(Kn=0,Ee=Se=fe=null,js=!1,Us=0,Ju.current=null,n===null||n.return===null){_e=1,qs=t,xe=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Md(o);if(g!==null){g.flags&=-257,zd(g,o,l,i,t),g.mode&1&&Id(i,c,t),t=g,a=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Id(i,c,t),sc();break e}a=Error(U(426))}}else if(ce&&l.mode&1){var _=Md(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),zd(_,o,l,i,t),Du(Or(a,l));break e}}i=a=Or(a,l),_e!==4&&(_e=2),As===null?As=[i]:As.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Pp(i,a,t);Cd(i,p);break e;case 1:l=a;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vn===null||!vn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ip(i,l,t);Cd(i,w);break e}}i=i.return}while(i!==null)}Jp(n)}catch(j){t=j,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Qp(){var e=ko.current;return ko.current=_o,e===null?_o:e}function sc(){(_e===0||_e===3||_e===2)&&(_e=4),be===null||!(Gn&268435455)&&!(Xo&268435455)||cn(be,Ae)}function jo(e,t){var n=re;re|=2;var r=Qp();(be!==e||Ae!==t)&&(Ht=null,Vn(e,t));do try{Vx();break}catch(s){Gp(e,s)}while(!0);if(Fu(),re=n,ko.current=r,xe!==null)throw Error(U(261));return be=null,Ae=0,_e}function Vx(){for(;xe!==null;)Zp(xe)}function Ux(){for(;xe!==null&&!my();)Zp(xe)}function Zp(e){var t=tm(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?Jp(e):xe=t,Ju.current=null}function Jp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lx(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,xe=null;return}}else if(n=zx(n,t,Je),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);_e===0&&(_e=5)}function zn(e,t,n){var r=se,s=ft.transition;try{ft.transition=null,se=1,Wx(e,t,n,r)}finally{ft.transition=s,se=r}return null}function Wx(e,t,n,r){do Tr();while(hn!==null);if(re&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ey(e,i),e===be&&(xe=be=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ei||(Ei=!0,nm(lo,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var o=se;se=1;var l=re;re|=4,Ju.current=null,Ox(e,n),qp(n,e),dx(ka),uo=!!_a,ka=_a=null,e.current=n,Fx(n),gy(),re=l,se=o,ft.transition=i}else e.current=n;if(Ei&&(Ei=!1,hn=e,bo=s),i=e.pendingLanes,i===0&&(vn=null),vy(n.stateNode),Ge(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eo)throw Eo=!1,e=Ua,Ua=null,e;return bo&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===Wa?Ts++:(Ts=0,Wa=e):Ts=0,Cn(),null}function Tr(){if(hn!==null){var e=Ph(bo),t=ft.transition,n=se;try{if(ft.transition=null,se=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,bo=0,re&6)throw Error(U(331));var s=re;for(re|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Cs(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,g=d.return;if(Up(d),d===c){X=null;break}if(h!==null){h.return=g,X=h;break}X=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,X=p;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,X=y;else e:for(o=m;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qo(9,l)}}catch(j){pe(l,l.return,j)}if(l===o){X=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,X=w;break e}X=l.return}}if(re=s,Cn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Oo,e)}catch{}r=!0}return r}finally{se=n,ft.transition=t}}return!1}function Kd(e,t,n){t=Or(n,t),t=Pp(e,t,1),e=xn(e,t,1),t=Be(),e!==null&&(ri(e,1,t),Ge(e,t))}function pe(e,t,n){if(e.tag===3)Kd(e,e,n);else for(;t!==null;){if(t.tag===3){Kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=Or(n,e),e=Ip(t,e,1),t=xn(t,e,1),e=Be(),t!==null&&(ri(t,1,e),Ge(t,e));break}}t=t.return}}function Yx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Ae&n)===n&&(_e===4||_e===3&&(Ae&130023424)===Ae&&500>ye()-tc?Vn(e,0):ec|=n),Ge(e,t)}function em(e,t){t===0&&(e.mode&1?(t=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):t=1);var n=Be();e=Qt(e,t),e!==null&&(ri(e,t,n),Ge(e,n))}function qx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),em(e,n)}function Xx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),em(e,n)}var tm;tm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Mx(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,ce&&t.flags&1048576&&ip(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yi(e,t),e=t.pendingProps;var s=Mr(t,Le.current);Ar(t,n),s=Xu(null,t,r,e,s,n);var i=Ku();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,mo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vu(t),s.updater=Yo,t.stateNode=s,s._reactInternals=t,Pa(t,r,e,n),t=za(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&zu(t),Fe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Gx(r),e=xt(r,e),s){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=Od(null,t,r,e,n);break e;case 11:t=Ld(null,t,r,e,n);break e;case 14:t=Dd(null,t,r,xt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),Ma(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),Od(e,t,r,s,n);case 3:e:{if(Dp(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,dp(e,t),wo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Or(Error(U(423)),t),t=Fd(e,t,r,n,s);break e}else if(r!==s){s=Or(Error(U(424)),t),t=Fd(e,t,r,n,s);break e}else for(et=yn(t.stateNode.containerInfo.firstChild),tt=t,ce=!0,St=null,n=up(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){t=Zt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return fp(t),e===null&&Ta(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ea(r,s)?o=null:i!==null&&Ea(r,i)&&(t.flags|=32),Lp(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&Ta(t),null;case 13:return Op(e,t,n);case 4:return Uu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),Ld(e,t,r,s,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,oe(xo,r._currentValue),r._currentValue=o,i!==null)if(bt(i.value,o)){if(i.children===s.children&&!Xe.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=qt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),$a(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$a(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ar(t,n),s=pt(s),r=r(s),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,s=xt(r,t.pendingProps),s=xt(r.type,s),Dd(e,t,r,s,n);case 15:return Mp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),Yi(e,t),t.tag=1,Ke(r)?(e=!0,mo(t)):e=!1,Ar(t,n),Rp(t,r,s),Pa(t,r,s,n),za(null,t,r,!0,e,n);case 19:return Fp(e,t,n);case 22:return zp(e,t,n)}throw Error(U(156,t.tag))};function nm(e,t){return Ah(e,t)}function Kx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new Kx(e,t,n,r)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gx(e){if(typeof e=="function")return ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Eu)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ki(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ic(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return Un(n.children,s,i,t);case _u:o=8,s|=8;break;case ra:return e=ct(12,n,t,s|2),e.elementType=ra,e.lanes=i,e;case sa:return e=ct(13,n,t,s),e.elementType=sa,e.lanes=i,e;case ia:return e=ct(19,n,t,s),e.elementType=ia,e.lanes=i,e;case fh:return Ko(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ch:o=10;break e;case dh:o=9;break e;case ku:o=11;break e;case Eu:o=14;break e;case sn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ct(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Un(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Ko(e,t,n,r){return e=ct(22,e,r,t),e.elementType=fh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Fl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oc(e,t,n,r,s,i,o,l,a){return e=new Qx(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(i),e}function Zx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rm(e){if(!e)return En;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ke(n))return rp(e,n,t)}return t}function sm(e,t,n,r,s,i,o,l,a){return e=oc(n,r,!0,e,s,i,o,l,a),e.context=rm(null),n=e.current,r=Be(),s=wn(n),i=qt(r,s),i.callback=t??null,xn(n,i,s),e.current.lanes=s,ri(e,s,r),Ge(e,r),e}function Go(e,t,n,r){var s=t.current,i=Be(),o=wn(s);return n=rm(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(s,t,o),e!==null&&(Et(e,s,o,i),Vi(e,s,o)),o}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lc(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function Jx(){return null}var im=typeof reportError=="function"?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}Qo.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Go(e,t,null,null)};Qo.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Go(null,e,null,null)}),t[Gt]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=zh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Dh(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function ev(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Co(o);i.call(c)}}var o=sm(t,r,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=o,e[Gt]=o.current,Os(e.nodeType===8?e.parentNode:e),Qn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Co(a);l.call(c)}}var a=oc(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=a,e[Gt]=a.current,Os(e.nodeType===8?e.parentNode:e),Qn(function(){Go(t,a,n,r)}),a}function Jo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Co(o);l.call(a)}}Go(t,o,e,s)}else o=ev(n,t,e,s,r);return Co(o)}Ih=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gs(t.pendingLanes);n!==0&&(Cu(t,n|1),Ge(t,ye()),!(re&6)&&(Fr=ye()+500,Cn()))}break;case 13:Qn(function(){var r=Qt(e,1);if(r!==null){var s=Be();Et(r,e,1,s)}}),lc(e,1)}};Au=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Be();Et(t,e,134217728,n)}lc(e,134217728)}};Mh=function(e){if(e.tag===13){var t=wn(e),n=Qt(e,t);if(n!==null){var r=Be();Et(n,e,t,r)}lc(e,t)}};zh=function(){return se};Lh=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};ma=function(e,t,n){switch(t){case"input":if(aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vo(r);if(!s)throw Error(U(90));ph(r),aa(r,s)}}}break;case"textarea":gh(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};_h=nc;kh=Qn;var tv={usingClientEntryPoint:!1,Events:[ii,yr,Vo,Nh,Sh,nc]},os={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nv={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jh(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{Oo=bi.inject(nv),Rt=bi}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(U(200));return Zx(e,t,null,n)};st.createRoot=function(e,t){if(!uc(e))throw Error(U(299));var n=!1,r="",s=im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=oc(e,1,!1,null,null,n,!1,r,s),e[Gt]=t.current,Os(e.nodeType===8?e.parentNode:e),new ac(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=jh(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Qn(e)};st.hydrate=function(e,t,n){if(!Zo(t))throw Error(U(200));return Jo(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!uc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=im;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sm(t,null,e,1,n??null,s,!1,i,o),e[Gt]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qo(t)};st.render=function(e,t,n){if(!Zo(t))throw Error(U(200));return Jo(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Zo(e))throw Error(U(40));return e._reactRootContainer?(Qn(function(){Jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};st.unstable_batchedUpdates=nc;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zo(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Jo(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(om)}catch(e){console.error(e)}}om(),oh.exports=st;var rv=oh.exports,Zd=rv;ta.createRoot=Zd.createRoot,ta.hydrateRoot=Zd.hydrateRoot;function $e(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=$e(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var lm={exports:{}},am={},um={exports:{}},cm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=k;function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iv=typeof Object.is=="function"?Object.is:sv,ov=Br.useState,lv=Br.useEffect,av=Br.useLayoutEffect,uv=Br.useDebugValue;function cv(e,t){var n=t(),r=ov({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return av(function(){s.value=n,s.getSnapshot=t,Bl(s)&&i({inst:s})},[e,n,t]),lv(function(){return Bl(s)&&i({inst:s}),e(function(){Bl(s)&&i({inst:s})})},[e]),uv(n),n}function Bl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!iv(e,n)}catch{return!0}}function dv(e,t){return t()}var fv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dv:cv;cm.useSyncExternalStore=Br.useSyncExternalStore!==void 0?Br.useSyncExternalStore:fv;um.exports=cm;var hv=um.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=k,pv=hv;function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gv=typeof Object.is=="function"?Object.is:mv,yv=pv.useSyncExternalStore,xv=el.useRef,vv=el.useEffect,wv=el.useMemo,Nv=el.useDebugValue;am.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=xv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=wv(function(){function a(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return f=v}return f=g}if(v=f,gv(d,g))return v;var x=r(g);return s!==void 0&&s(v,x)?(d=g,v):(d=g,f=x)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,s]);var l=yv(e,i[0],i[1]);return vv(function(){o.hasValue=!0,o.value=l},[l]),Nv(l),l};lm.exports=am;var Sv=lm.exports;const _v=Xf(Sv),kv={},Jd=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,g))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(kv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,a);return a},Ev=e=>e?Jd(e):Jd,{useDebugValue:bv}=z,{useSyncExternalStoreWithSelector:jv}=_v,Cv=e=>e;function dm(e,t=Cv,n){const r=jv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bv(r),r}const ef=(e,t)=>{const n=Ev(e),r=(s,i=t)=>dm(n,s,i);return Object.assign(r,n),r},Av=(e,t)=>e?ef(e,t):ef;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Tv={value:()=>{}};function tl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gi(n)}function Gi(e){this._=e}function $v(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gi.prototype=tl.prototype={constructor:Gi,on:function(e,t){var n=this._,r=$v(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=Rv(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=tf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=tf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gi(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function Rv(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function tf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Tv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Xa="http://www.w3.org/1999/xhtml";const nf={svg:"http://www.w3.org/2000/svg",xhtml:Xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),nf.hasOwnProperty(t)?{space:nf[t],local:e}:e}function Pv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xa&&t.documentElement.namespaceURI===Xa?t.createElement(e):t.createElementNS(n,e)}}function Iv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fm(e){var t=nl(e);return(t.local?Iv:Pv)(t)}function Mv(){}function cc(e){return e==null?Mv:function(){return this.querySelector(e)}}function zv(e){typeof e!="function"&&(e=cc(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),a,c,d=0;d<o;++d)(a=i[d])&&(c=e.call(a,a.__data__,d,i))&&("__data__"in a&&(c.__data__=a.__data__),l[d]=c);return new rt(r,this._parents)}function Lv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Dv(){return[]}function hm(e){return e==null?Dv:function(){return this.querySelectorAll(e)}}function Ov(e){return function(){return Lv(e.apply(this,arguments))}}function Fv(e){typeof e=="function"?e=Ov(e):e=hm(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&(r.push(e.call(a,a.__data__,c,o)),s.push(a));return new rt(r,s)}function pm(e){return function(){return this.matches(e)}}function mm(e){return function(t){return t.matches(e)}}var Bv=Array.prototype.find;function Hv(e){return function(){return Bv.call(this.children,e)}}function Vv(){return this.firstElementChild}function Uv(e){return this.select(e==null?Vv:Hv(typeof e=="function"?e:mm(e)))}var Wv=Array.prototype.filter;function Yv(){return Array.from(this.children)}function qv(e){return function(){return Wv.call(this.children,e)}}function Xv(e){return this.selectAll(e==null?Yv:qv(typeof e=="function"?e:mm(e)))}function Kv(e){typeof e!="function"&&(e=pm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new rt(r,this._parents)}function gm(e){return new Array(e.length)}function Gv(){return new rt(this._enter||this._groups.map(gm),this._parents)}function Ao(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ao.prototype={constructor:Ao,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qv(e){return function(){return e}}function Zv(e,t,n,r,s,i){for(var o=0,l,a=t.length,c=i.length;o<c;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Ao(e,i[o]);for(;o<a;++o)(l=t[o])&&(s[o]=l)}function Jv(e,t,n,r,s,i,o){var l,a,c=new Map,d=t.length,f=i.length,h=new Array(d),g;for(l=0;l<d;++l)(a=t[l])&&(h[l]=g=o.call(a,a.__data__,l,t)+"",c.has(g)?s[l]=a:c.set(g,a));for(l=0;l<f;++l)g=o.call(e,i[l],l,i)+"",(a=c.get(g))?(r[l]=a,a.__data__=i[l],c.delete(g)):n[l]=new Ao(e,i[l]);for(l=0;l<d;++l)(a=t[l])&&c.get(h[l])===a&&(s[l]=a)}function e1(e){return e.__data__}function t1(e,t){if(!arguments.length)return Array.from(this,e1);var n=t?Jv:Zv,r=this._parents,s=this._groups;typeof e!="function"&&(e=Qv(e));for(var i=s.length,o=new Array(i),l=new Array(i),a=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,g=n1(e.call(d,d&&d.__data__,c,r)),v=g.length,x=l[c]=new Array(v),_=o[c]=new Array(v),p=a[c]=new Array(h);n(d,f,x,_,p,g,t);for(var m=0,y=0,w,j;m<v;++m)if(w=x[m]){for(m>=y&&(y=m+1);!(j=_[y])&&++y<v;);w._next=j||null}}return o=new rt(o,r),o._enter=l,o._exit=a,o}function n1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r1(){return new rt(this._exit||this._groups.map(gm),this._parents)}function s1(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function i1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),a=0;a<o;++a)for(var c=n[a],d=r[a],f=c.length,h=l[a]=new Array(f),g,v=0;v<f;++v)(g=c[v]||d[v])&&(h[v]=g);for(;a<s;++a)l[a]=n[a];return new rt(l,this._parents)}function o1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function l1(e){e||(e=a1);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,a=s[i]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(a[d]=c);a.sort(t)}return new rt(s,this._parents).order()}function a1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function u1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function c1(){return Array.from(this)}function d1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function f1(){let e=0;for(const t of this)++e;return e}function h1(){return!this.node()}function p1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function m1(e){return function(){this.removeAttribute(e)}}function g1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function y1(e,t){return function(){this.setAttribute(e,t)}}function x1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function v1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function w1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function N1(e,t){var n=nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?g1:m1:typeof t=="function"?n.local?w1:v1:n.local?x1:y1)(n,t))}function ym(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function S1(e){return function(){this.style.removeProperty(e)}}function _1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function k1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function E1(e,t,n){return arguments.length>1?this.each((t==null?S1:typeof t=="function"?k1:_1)(e,t,n??"")):Hr(this.node(),e)}function Hr(e,t){return e.style.getPropertyValue(t)||ym(e).getComputedStyle(e,null).getPropertyValue(t)}function b1(e){return function(){delete this[e]}}function j1(e,t){return function(){this[e]=t}}function C1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function A1(e,t){return arguments.length>1?this.each((t==null?b1:typeof t=="function"?C1:j1)(e,t)):this.node()[e]}function xm(e){return e.trim().split(/^|\s+/)}function dc(e){return e.classList||new vm(e)}function vm(e){this._node=e,this._names=xm(e.getAttribute("class")||"")}vm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wm(e,t){for(var n=dc(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Nm(e,t){for(var n=dc(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function T1(e){return function(){wm(this,e)}}function $1(e){return function(){Nm(this,e)}}function R1(e,t){return function(){(t.apply(this,arguments)?wm:Nm)(this,e)}}function P1(e,t){var n=xm(e+"");if(arguments.length<2){for(var r=dc(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?R1:t?T1:$1)(n,t))}function I1(){this.textContent=""}function M1(e){return function(){this.textContent=e}}function z1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function L1(e){return arguments.length?this.each(e==null?I1:(typeof e=="function"?z1:M1)(e)):this.node().textContent}function D1(){this.innerHTML=""}function O1(e){return function(){this.innerHTML=e}}function F1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function B1(e){return arguments.length?this.each(e==null?D1:(typeof e=="function"?F1:O1)(e)):this.node().innerHTML}function H1(){this.nextSibling&&this.parentNode.appendChild(this)}function V1(){return this.each(H1)}function U1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W1(){return this.each(U1)}function Y1(e){var t=typeof e=="function"?e:fm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function q1(){return null}function X1(e,t){var n=typeof e=="function"?e:fm(e),r=t==null?q1:typeof t=="function"?t:cc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function K1(){var e=this.parentNode;e&&e.removeChild(this)}function G1(){return this.each(K1)}function Q1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function J1(e){return this.select(e?Z1:Q1)}function ew(e){return arguments.length?this.property("__data__",e):this.node().__data__}function tw(e){return function(t){e.call(this,t,this.__data__)}}function nw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function rw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function sw(e,t,n){return function(){var r=this.__on,s,i=tw(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function iw(e,t,n){var r=nw(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,d;a<c;++a)for(s=0,d=l[a];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?sw:rw,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function Sm(e,t,n){var r=ym(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function ow(e,t){return function(){return Sm(this,e,t)}}function lw(e,t){return function(){return Sm(this,e,t.apply(this,arguments))}}function aw(e,t){return this.each((typeof t=="function"?lw:ow)(e,t))}function*uw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var _m=[null];function rt(e,t){this._groups=e,this._parents=t}function li(){return new rt([[document.documentElement]],_m)}function cw(){return this}rt.prototype=li.prototype={constructor:rt,select:zv,selectAll:Fv,selectChild:Uv,selectChildren:Xv,filter:Kv,data:t1,enter:Gv,exit:r1,join:s1,merge:i1,selection:cw,order:o1,sort:l1,call:u1,nodes:c1,node:d1,size:f1,empty:h1,each:p1,attr:N1,style:E1,property:A1,classed:P1,text:L1,html:B1,raise:V1,lower:W1,append:Y1,insert:X1,remove:G1,clone:J1,datum:ew,on:iw,dispatch:aw,[Symbol.iterator]:uw};function ut(e){return typeof e=="string"?new rt([[document.querySelector(e)]],[document.documentElement]):new rt([[e]],_m)}function dw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wt(e,t){if(e=dw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const fw={passive:!1},Xs={capture:!0,passive:!1};function Hl(e){e.stopImmediatePropagation()}function $r(e){e.preventDefault(),e.stopImmediatePropagation()}function km(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",$r,Xs);"onselectstart"in t?n.on("selectstart.drag",$r,Xs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Em(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",$r,Xs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ji=e=>()=>e;function Ka(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:a,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Ka.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hw(e){return!e.ctrlKey&&!e.button}function pw(){return this.parentNode}function mw(e,t){return t??{x:e.x,y:e.y}}function gw(){return navigator.maxTouchPoints||"ontouchstart"in this}function yw(){var e=hw,t=pw,n=mw,r=gw,s={},i=tl("start","drag","end"),o=0,l,a,c,d,f=0;function h(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",_).on("touchmove.drag",p,fw).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,j){if(!(d||!e.call(this,w,j))){var A=y(this,t.call(this,w,j),w,j,"mouse");A&&(ut(w.view).on("mousemove.drag",v,Xs).on("mouseup.drag",x,Xs),km(w.view),Hl(w),c=!1,l=w.clientX,a=w.clientY,A("start",w))}}function v(w){if($r(w),!c){var j=w.clientX-l,A=w.clientY-a;c=j*j+A*A>f}s.mouse("drag",w)}function x(w){ut(w.view).on("mousemove.drag mouseup.drag",null),Em(w.view,c),$r(w),s.mouse("end",w)}function _(w,j){if(e.call(this,w,j)){var A=w.changedTouches,T=t.call(this,w,j),R=A.length,I,L;for(I=0;I<R;++I)(L=y(this,T,w,j,A[I].identifier,A[I]))&&(Hl(w),L("start",w,A[I]))}}function p(w){var j=w.changedTouches,A=j.length,T,R;for(T=0;T<A;++T)(R=s[j[T].identifier])&&($r(w),R("drag",w,j[T]))}function m(w){var j=w.changedTouches,A=j.length,T,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<A;++T)(R=s[j[T].identifier])&&(Hl(w),R("end",w,j[T]))}function y(w,j,A,T,R,I){var L=i.copy(),H=wt(I||A,j),Y,W,N;if((N=n.call(w,new Ka("beforestart",{sourceEvent:A,target:h,identifier:R,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:L}),T))!=null)return Y=N.x-H[0]||0,W=N.y-H[1]||0,function P(b,D,C){var E=H,$;switch(b){case"start":s[R]=P,$=o++;break;case"end":delete s[R],--o;case"drag":H=wt(C||D,j),$=o;break}L.call(b,w,new Ka(b,{sourceEvent:D,subject:N,target:h,identifier:R,active:$,x:H[0]+Y,y:H[1]+W,dx:H[0]-E[0],dy:H[1]-E[1],dispatch:L}),T)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:ji(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:ji(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:ji(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:ji(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function fc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ai(){}var Ks=.7,To=1/Ks,Rr="\\s*([+-]?\\d+)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xw=/^#([0-9a-f]{3,8})$/,vw=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),ww=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),Nw=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Gs}\\)$`),Sw=new RegExp(`^rgba\\(${It},${It},${It},${Gs}\\)$`),_w=new RegExp(`^hsl\\(${Gs},${It},${It}\\)$`),kw=new RegExp(`^hsla\\(${Gs},${It},${It},${Gs}\\)$`),rf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fc(ai,Qs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sf,formatHex:sf,formatHex8:Ew,formatHsl:bw,formatRgb:of,toString:of});function sf(){return this.rgb().formatHex()}function Ew(){return this.rgb().formatHex8()}function bw(){return jm(this).formatHsl()}function of(){return this.rgb().formatRgb()}function Qs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vw.exec(e))?new qe(t[1],t[2],t[3],1):(t=ww.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nw.exec(e))?Ci(t[1],t[2],t[3],t[4]):(t=Sw.exec(e))?Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_w.exec(e))?cf(t[1],t[2]/100,t[3]/100,1):(t=kw.exec(e))?cf(t[1],t[2]/100,t[3]/100,t[4]):rf.hasOwnProperty(e)?lf(rf[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function lf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function Ci(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function jw(e){return e instanceof ai||(e=Qs(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function Ga(e,t,n,r){return arguments.length===1?jw(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fc(qe,Ga,bm(ai,{brighter(e){return e=e==null?To:Math.pow(To,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ks:Math.pow(Ks,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Wn(this.r),Wn(this.g),Wn(this.b),$o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:af,formatHex:af,formatHex8:Cw,formatRgb:uf,toString:uf}));function af(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}`}function Cw(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}${Bn((isNaN(this.opacity)?1:this.opacity)*255)}`}function uf(){const e=$o(this.opacity);return`${e===1?"rgb(":"rgba("}${Wn(this.r)}, ${Wn(this.g)}, ${Wn(this.b)}${e===1?")":`, ${e})`}`}function $o(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bn(e){return e=Wn(e),(e<16?"0":"")+e.toString(16)}function cf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _t(e,t,n,r)}function jm(e){if(e instanceof _t)return new _t(e.h,e.s,e.l,e.opacity);if(e instanceof ai||(e=Qs(e)),!e)return new _t;if(e instanceof _t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,a=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=a<.5?i+s:2-i-s,o*=60):l=a>0&&a<1?0:o,new _t(o,l,a,e.opacity)}function Aw(e,t,n,r){return arguments.length===1?jm(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fc(_t,Aw,bm(ai,{brighter(e){return e=e==null?To:Math.pow(To,e),new _t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ks:Math.pow(Ks,e),new _t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new qe(Vl(e>=240?e-240:e+120,s,r),Vl(e,s,r),Vl(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new _t(df(this.h),Ai(this.s),Ai(this.l),$o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$o(this.opacity);return`${e===1?"hsl(":"hsla("}${df(this.h)}, ${Ai(this.s)*100}%, ${Ai(this.l)*100}%${e===1?")":`, ${e})`}`}}));function df(e){return e=(e||0)%360,e<0?e+360:e}function Ai(e){return Math.max(0,Math.min(1,e||0))}function Vl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Cm=e=>()=>e;function Tw(e,t){return function(n){return e+n*t}}function $w(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Rw(e){return(e=+e)==1?Am:function(t,n){return n-t?$w(t,n,e):Cm(isNaN(t)?n:t)}}function Am(e,t){var n=t-e;return n?Tw(e,n):Cm(isNaN(e)?t:e)}const ff=function e(t){var n=Rw(t);function r(s,i){var o=n((s=Ga(s)).r,(i=Ga(i)).r),l=n(s.g,i.g),a=n(s.b,i.b),c=Am(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=a(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Qa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ul=new RegExp(Qa.source,"g");function Pw(e){return function(){return e}}function Iw(e){return function(t){return e(t)+""}}function Mw(e,t){var n=Qa.lastIndex=Ul.lastIndex=0,r,s,i,o=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Qa.exec(e))&&(s=Ul.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,a.push({i:o,x:ln(r,s)})),n=Ul.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?a[0]?Iw(a[0].x):Pw(t):(t=a.length,function(c){for(var d=0,f;d<t;++d)l[(f=a[d]).i]=f.x(c);return l.join("")})}var hf=180/Math.PI,Za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tm(e,t,n,r,s,i){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*hf,skewX:Math.atan(a)*hf,scaleX:o,scaleY:l}}var Ti;function zw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Za:Tm(t.a,t.b,t.c,t.d,t.e,t.f)}function Lw(e){return e==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",e),!(e=Ti.transform.baseVal.consolidate()))?Za:(e=e.matrix,Tm(e.a,e.b,e.c,e.d,e.e,e.f))}function $m(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,g,v){if(c!==f||d!==h){var x=g.push("translate(",null,t,null,n);v.push({i:x-4,x:ln(c,f)},{i:x-2,x:ln(d,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:ln(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:ln(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function a(c,d,f,h,g,v){if(c!==f||d!==h){var x=g.push(s(g)+"scale(",null,",",null,")");v.push({i:x-4,x:ln(c,f)},{i:x-2,x:ln(d,h)})}else(f!==1||h!==1)&&g.push(s(g)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),a(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(g){for(var v=-1,x=h.length,_;++v<x;)f[(_=h[v]).i]=_.x(g);return f.join("")}}}var Dw=$m(zw,"px, ","px)","deg)"),Ow=$m(Lw,", ",")",")"),Fw=1e-12;function pf(e){return((e=Math.exp(e))+1/e)/2}function Bw(e){return((e=Math.exp(e))-1/e)/2}function Hw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Vw=function e(t,n,r){function s(i,o){var l=i[0],a=i[1],c=i[2],d=o[0],f=o[1],h=o[2],g=d-l,v=f-a,x=g*g+v*v,_,p;if(x<Fw)p=Math.log(h/c)/t,_=function(T){return[l+T*g,a+T*v,c*Math.exp(t*T*p)]};else{var m=Math.sqrt(x),y=(h*h-c*c+r*x)/(2*c*n*m),w=(h*h-c*c-r*x)/(2*h*n*m),j=Math.log(Math.sqrt(y*y+1)-y),A=Math.log(Math.sqrt(w*w+1)-w);p=(A-j)/t,_=function(T){var R=T*p,I=pf(j),L=c/(n*m)*(I*Hw(t*R+j)-Bw(j));return[l+L*g,a+L*v,c*I/pf(t*R+j)]}}return _.duration=p*1e3*t/Math.SQRT2,_}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,a=l*l;return e(o,l,a)},s}(Math.SQRT2,2,4);var Vr=0,xs=0,ls=0,Rm=1e3,Ro,vs,Po=0,Zn=0,rl=0,Zs=typeof performance=="object"&&performance.now?performance:Date,Pm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hc(){return Zn||(Pm(Uw),Zn=Zs.now()+rl)}function Uw(){Zn=0}function Io(){this._call=this._time=this._next=null}Io.prototype=Im.prototype={constructor:Io,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?hc():+n)+(t==null?0:+t),!this._next&&vs!==this&&(vs?vs._next=this:Ro=this,vs=this),this._call=e,this._time=n,Ja()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ja())}};function Im(e,t,n){var r=new Io;return r.restart(e,t,n),r}function Ww(){hc(),++Vr;for(var e=Ro,t;e;)(t=Zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vr}function mf(){Zn=(Po=Zs.now())+rl,Vr=xs=0;try{Ww()}finally{Vr=0,qw(),Zn=0}}function Yw(){var e=Zs.now(),t=e-Po;t>Rm&&(rl-=t,Po=e)}function qw(){for(var e,t=Ro,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ro=n);vs=e,Ja(r)}function Ja(e){if(!Vr){xs&&(xs=clearTimeout(xs));var t=e-Zn;t>24?(e<1/0&&(xs=setTimeout(mf,e-Zs.now()-rl)),ls&&(ls=clearInterval(ls))):(ls||(Po=Zs.now(),ls=setInterval(Yw,Rm)),Vr=1,Pm(mf))}}function gf(e,t,n){var r=new Io;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Xw=tl("start","end","cancel","interrupt"),Kw=[],Mm=0,yf=1,eu=2,Qi=3,xf=4,tu=5,Zi=6;function sl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Gw(e,n,{name:t,index:r,group:s,on:Xw,tween:Kw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Mm})}function pc(e,t){var n=jt(e,t);if(n.state>Mm)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=jt(e,t);if(n.state>Qi)throw new Error("too late; already running");return n}function jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Gw(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Im(i,0,n.time);function i(c){n.state=yf,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,g;if(n.state!==yf)return a();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Qi)return gf(o);g.state===xf?(g.state=Zi,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Zi,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(gf(function(){n.state===Qi&&(n.state=xf,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=eu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===eu){for(n.state=Qi,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=g);s.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=tu,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===tu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Zi,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Ji(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>eu&&r.state<tu,r.state=Zi,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function Qw(e){return this.each(function(){Ji(this,e)})}function Zw(e,t){var n,r;return function(){var s=Lt(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function Jw(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},a=0,c=s.length;a<c;++a)if(s[a].name===t){s[a]=l;break}a===c&&s.push(l)}i.tween=s}}function eN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?Zw:Jw)(n,e,t))}function mc(e,t,n){var r=e._id;return e.each(function(){var s=Lt(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return jt(s,r).value[t]}}function zm(e,t){var n;return(typeof t=="number"?ln:t instanceof Qs?ff:(n=Qs(t))?(t=n,ff):Mw)(e,t)}function tN(e){return function(){this.removeAttribute(e)}}function nN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function sN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function iN(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function oN(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function lN(e,t){var n=nl(e),r=n==="transform"?Ow:zm;return this.attrTween(e,typeof t=="function"?(n.local?oN:iN)(n,r,mc(this,"attr."+e,t)):t==null?(n.local?nN:tN)(n):(n.local?sN:rN)(n,r,t))}function aN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function uN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&uN(e,i)),n}return s._value=t,s}function dN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&aN(e,i)),n}return s._value=t,s}function fN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=nl(e);return this.tween(n,(r.local?cN:dN)(r,t))}function hN(e,t){return function(){pc(this,e).delay=+t.apply(this,arguments)}}function pN(e,t){return t=+t,function(){pc(this,e).delay=t}}function mN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hN:pN)(t,e)):jt(this.node(),t).delay}function gN(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function yN(e,t){return t=+t,function(){Lt(this,e).duration=t}}function xN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gN:yN)(t,e)):jt(this.node(),t).duration}function vN(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function wN(e){var t=this._id;return arguments.length?this.each(vN(t,e)):jt(this.node(),t).ease}function NN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function SN(e){if(typeof e!="function")throw new Error;return this.each(NN(this._id,e))}function _N(e){typeof e!="function"&&(e=pm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function kN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var a=t[l],c=n[l],d=a.length,f=o[l]=new Array(d),h,g=0;g<d;++g)(h=a[g]||c[g])&&(f[g]=h);for(;l<r;++l)o[l]=t[l];return new Jt(o,this._parents,this._name,this._id)}function EN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function bN(e,t,n){var r,s,i=EN(t)?pc:Lt;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function jN(e,t){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(e):this.each(bN(n,e,t))}function CN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function AN(){return this.on("end.remove",CN(this._id))}function TN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cc(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],a=l.length,c=i[o]=new Array(a),d,f,h=0;h<a;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,sl(c[h],t,n,h,c,jt(d,n)));return new Jt(i,this._parents,t,n)}function $N(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hm(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var a=r[l],c=a.length,d,f=0;f<c;++f)if(d=a[f]){for(var h=e.call(d,d.__data__,f,a),g,v=jt(d,n),x=0,_=h.length;x<_;++x)(g=h[x])&&sl(g,t,n,x,h,v);i.push(h),o.push(d)}return new Jt(i,o,t,n)}var RN=li.prototype.constructor;function PN(){return new RN(this._groups,this._parents)}function IN(e,t){var n,r,s;return function(){var i=Hr(this,e),o=(this.style.removeProperty(e),Hr(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Lm(e){return function(){this.style.removeProperty(e)}}function MN(e,t,n){var r,s=n+"",i;return function(){var o=Hr(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function zN(e,t,n){var r,s,i;return function(){var o=Hr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Hr(this,e))),o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l))}}function LN(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var a=Lt(this,e),c=a.on,d=a.value[i]==null?l||(l=Lm(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),a.on=r}}function DN(e,t,n){var r=(e+="")=="transform"?Dw:zm;return t==null?this.styleTween(e,IN(e,r)).on("end.style."+e,Lm(e)):typeof t=="function"?this.styleTween(e,zN(e,r,mc(this,"style."+e,t))).each(LN(this._id,e)):this.styleTween(e,MN(e,r,t),n).on("end.style."+e,null)}function ON(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function FN(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&ON(e,o,n)),r}return i._value=t,i}function BN(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,FN(e,t,n??""))}function HN(e){return function(){this.textContent=e}}function VN(e){return function(){var t=e(this);this.textContent=t??""}}function UN(e){return this.tween("text",typeof e=="function"?VN(mc(this,"text",e)):HN(e==null?"":e+""))}function WN(e){return function(t){this.textContent=e.call(this,t)}}function YN(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&WN(s)),t}return r._value=e,r}function qN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,YN(e))}function XN(){for(var e=this._name,t=this._id,n=Dm(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)if(a=o[c]){var d=jt(a,t);sl(a,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Jt(r,this._parents,e,n)}function KN(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},a={value:function(){--s===0&&i()}};n.each(function(){var c=Lt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),c.on=t}),s===0&&i()})}var GN=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Dm(){return++GN}var Bt=li.prototype;Jt.prototype={constructor:Jt,select:TN,selectAll:$N,selectChild:Bt.selectChild,selectChildren:Bt.selectChildren,filter:_N,merge:kN,selection:PN,transition:XN,call:Bt.call,nodes:Bt.nodes,node:Bt.node,size:Bt.size,empty:Bt.empty,each:Bt.each,on:jN,attr:lN,attrTween:fN,style:DN,styleTween:BN,text:UN,textTween:qN,remove:AN,tween:eN,delay:mN,duration:xN,ease:wN,easeVarying:SN,end:KN,[Symbol.iterator]:Bt[Symbol.iterator]};function QN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZN={time:null,delay:0,duration:250,ease:QN};function JN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function e2(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Dm(),(n=ZN).time=hc(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&sl(a,e,t,c,o,n||JN(a,t));return new Jt(r,this._parents,e,t)}li.prototype.interrupt=Qw;li.prototype.transition=e2;const $i=e=>()=>e;function t2(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Yt(e,t,n){this.k=e,this.x=t,this.y=n}Yt.prototype={constructor:Yt,scale:function(e){return e===1?this:new Yt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xt=new Yt(1,0,0);Yt.prototype;function Wl(e){e.stopImmediatePropagation()}function as(e){e.preventDefault(),e.stopImmediatePropagation()}function n2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function r2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vf(){return this.__zoom||Xt}function s2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function i2(){return navigator.maxTouchPoints||"ontouchstart"in this}function o2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Om(){var e=n2,t=r2,n=o2,r=s2,s=i2,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Vw,c=tl("start","zoom","end"),d,f,h,g=500,v=150,x=0,_=10;function p(N){N.property("__zoom",vf).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",L).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(N,P,b,D){var C=N.selection?N.selection():N;C.property("__zoom",vf),N!==C?j(N,P,b,D):C.interrupt().each(function(){A(this,arguments).event(D).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(N,P,b,D){p.scaleTo(N,function(){var C=this.__zoom.k,E=typeof P=="function"?P.apply(this,arguments):P;return C*E},b,D)},p.scaleTo=function(N,P,b,D){p.transform(N,function(){var C=t.apply(this,arguments),E=this.__zoom,$=b==null?w(C):typeof b=="function"?b.apply(this,arguments):b,O=E.invert($),F=typeof P=="function"?P.apply(this,arguments):P;return n(y(m(E,F),$,O),C,o)},b,D)},p.translateBy=function(N,P,b,D){p.transform(N,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),o)},null,D)},p.translateTo=function(N,P,b,D,C){p.transform(N,function(){var E=t.apply(this,arguments),$=this.__zoom,O=D==null?w(E):typeof D=="function"?D.apply(this,arguments):D;return n(Xt.translate(O[0],O[1]).scale($.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof b=="function"?-b.apply(this,arguments):-b),E,o)},D,C)};function m(N,P){return P=Math.max(i[0],Math.min(i[1],P)),P===N.k?N:new Yt(P,N.x,N.y)}function y(N,P,b){var D=P[0]-b[0]*N.k,C=P[1]-b[1]*N.k;return D===N.x&&C===N.y?N:new Yt(N.k,D,C)}function w(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function j(N,P,b,D){N.on("start.zoom",function(){A(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(D).end()}).tween("zoom",function(){var C=this,E=arguments,$=A(C,E).event(D),O=t.apply(C,E),F=b==null?w(O):typeof b=="function"?b.apply(C,E):b,q=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),S=C.__zoom,M=typeof P=="function"?P.apply(C,E):P,B=a(S.invert(F).concat(q/S.k),M.invert(F).concat(q/M.k));return function(V){if(V===1)V=M;else{var Q=B(V),Z=q/Q[2];V=new Yt(Z,F[0]-Q[0]*Z,F[1]-Q[1]*Z)}$.zoom(null,V)}})}function A(N,P,b){return!b&&N.__zooming||new T(N,P)}function T(N,P){this.that=N,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,P),this.taps=0}T.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,P){return this.mouse&&N!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var P=ut(this.that).datum();c.call(N,this.that,new t2(N,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:c}),P)}};function R(N,...P){if(!e.apply(this,arguments))return;var b=A(this,P).event(N),D=this.__zoom,C=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),E=wt(N);if(b.wheel)(b.mouse[0][0]!==E[0]||b.mouse[0][1]!==E[1])&&(b.mouse[1]=D.invert(b.mouse[0]=E)),clearTimeout(b.wheel);else{if(D.k===C)return;b.mouse=[E,D.invert(E)],Ji(this),b.start()}as(N),b.wheel=setTimeout($,v),b.zoom("mouse",n(y(m(D,C),b.mouse[0],b.mouse[1]),b.extent,o));function $(){b.wheel=null,b.end()}}function I(N,...P){if(h||!e.apply(this,arguments))return;var b=N.currentTarget,D=A(this,P,!0).event(N),C=ut(N.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",q,!0),E=wt(N,b),$=N.clientX,O=N.clientY;km(N.view),Wl(N),D.mouse=[E,this.__zoom.invert(E)],Ji(this),D.start();function F(S){if(as(S),!D.moved){var M=S.clientX-$,B=S.clientY-O;D.moved=M*M+B*B>x}D.event(S).zoom("mouse",n(y(D.that.__zoom,D.mouse[0]=wt(S,b),D.mouse[1]),D.extent,o))}function q(S){C.on("mousemove.zoom mouseup.zoom",null),Em(S.view,D.moved),as(S),D.event(S).end()}}function L(N,...P){if(e.apply(this,arguments)){var b=this.__zoom,D=wt(N.changedTouches?N.changedTouches[0]:N,this),C=b.invert(D),E=b.k*(N.shiftKey?.5:2),$=n(y(m(b,E),D,C),t.apply(this,P),o);as(N),l>0?ut(this).transition().duration(l).call(j,$,D,N):ut(this).call(p.transform,$,D,N)}}function H(N,...P){if(e.apply(this,arguments)){var b=N.touches,D=b.length,C=A(this,P,N.changedTouches.length===D).event(N),E,$,O,F;for(Wl(N),$=0;$<D;++$)O=b[$],F=wt(O,this),F=[F,this.__zoom.invert(F),O.identifier],C.touch0?!C.touch1&&C.touch0[2]!==F[2]&&(C.touch1=F,C.taps=0):(C.touch0=F,E=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),E&&(C.taps<2&&(f=F[0],d=setTimeout(function(){d=null},g)),Ji(this),C.start())}}function Y(N,...P){if(this.__zooming){var b=A(this,P).event(N),D=N.changedTouches,C=D.length,E,$,O,F;for(as(N),E=0;E<C;++E)$=D[E],O=wt($,this),b.touch0&&b.touch0[2]===$.identifier?b.touch0[0]=O:b.touch1&&b.touch1[2]===$.identifier&&(b.touch1[0]=O);if($=b.that.__zoom,b.touch1){var q=b.touch0[0],S=b.touch0[1],M=b.touch1[0],B=b.touch1[1],V=(V=M[0]-q[0])*V+(V=M[1]-q[1])*V,Q=(Q=B[0]-S[0])*Q+(Q=B[1]-S[1])*Q;$=m($,Math.sqrt(V/Q)),O=[(q[0]+M[0])/2,(q[1]+M[1])/2],F=[(S[0]+B[0])/2,(S[1]+B[1])/2]}else if(b.touch0)O=b.touch0[0],F=b.touch0[1];else return;b.zoom("touch",n(y($,O,F),b.extent,o))}}function W(N,...P){if(this.__zooming){var b=A(this,P).event(N),D=N.changedTouches,C=D.length,E,$;for(Wl(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),E=0;E<C;++E)$=D[E],b.touch0&&b.touch0[2]===$.identifier?delete b.touch0:b.touch1&&b.touch1[2]===$.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&($=wt($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<_)){var O=ut(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return p.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:$i(+N),p):r},p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:$i(!!N),p):e},p.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:$i(!!N),p):s},p.extent=function(N){return arguments.length?(t=typeof N=="function"?N:$i([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),p):t},p.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],p):[i[0],i[1]]},p.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(N){return arguments.length?(n=N,p):n},p.duration=function(N){return arguments.length?(l=+N,p):l},p.interpolate=function(N){return arguments.length?(a=N,p):a},p.on=function(){var N=c.on.apply(c,arguments);return N===c?p:N},p.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,p):Math.sqrt(x)},p.tapDistance=function(N){return arguments.length?(_=+N,p):_},p}const il=k.createContext(null),l2=il.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Fm=en.error001();function le(e,t){const n=k.useContext(il);if(n===null)throw new Error(Fm);return dm(n,e,t)}const ke=()=>{const e=k.useContext(il);if(e===null)throw new Error(Fm);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},a2=e=>e.userSelectionActive?"none":"all";function gc({position:e,children:t,className:n,style:r,...s}){const i=le(a2),o=`${e}`.split("-");return z.createElement("div",{className:$e(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function u2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:z.createElement(gc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},z.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const c2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:a,className:c,...d})=>{const f=k.useRef(null),[h,g]=k.useState({x:0,y:0,width:0,height:0}),v=$e(["react-flow__edge-textwrapper",c]);return k.useEffect(()=>{if(f.current){const x=f.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:z.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...d},s&&z.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),z.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),a)};var d2=k.memo(c2);const yc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ur=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),xc=(e={x:0,y:0},t)=>({x:Ur(e.x,t[0][0],t[1][0]),y:Ur(e.y,t[0][1],t[1][1])}),wf=(e,t,n)=>e<t?Ur(Math.abs(e-t),1,50)/50:e>n?-Ur(Math.abs(e-n),1,50)/50:0,Bm=(e,t)=>{const n=wf(e.x,35,t.width-35)*20,r=wf(e.y,35,t.height-35)*20;return[n,r]},Hm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Vm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Js=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Um=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Nf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),f2=(e,t)=>Um(Vm(Js(e),Js(t))),nu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},h2=e=>dt(e.width)&&dt(e.height)&&dt(e.x)&&dt(e.y),dt=e=>!isNaN(e)&&isFinite(e),me=Symbol.for("internals"),Wm=["Enter"," ","Escape"],p2=(e,t)=>{},m2=e=>"nativeEvent"in e;function ru(e){var s,i;const t=m2(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Ym=e=>"clientX"in e,Sn=(e,t)=>{var i,o;const n=Ym(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Mo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ui=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g=20})=>z.createElement(z.Fragment,null,z.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),g&&z.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&dt(n)&&dt(r)?z.createElement(d2,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c}):null);ui.displayName="BaseEdge";function us(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function qm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function Xm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const a=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+l*.375+r*.125,d=Math.abs(a-e),f=Math.abs(c-t);return[a,c,d,f]}var Jn;(function(e){e.Strict="strict",e.Loose="loose"})(Jn||(Jn={}));var Hn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hn||(Hn={}));var ei;(function(e){e.Partial="partial",e.Full="full"})(ei||(ei={}));var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Ue;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ue||(Ue={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function Sf({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Km({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:s,targetPosition:i=K.Top}){const[o,l]=Sf({pos:n,x1:e,y1:t,x2:r,y2:s}),[a,c]=Sf({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,g]=Xm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:a,targetControlY:c});return[`M${e},${t} C${o},${l} ${a},${c} ${r},${s}`,d,f,h,g]}const vc=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=K.Bottom,targetPosition:i=K.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[_,p,m]=Km({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return z.createElement(ui,{path:_,labelX:p,labelY:m,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})});vc.displayName="SimpleBezierEdge";const _f={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},g2=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},kf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function y2({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:s,offset:i}){const o=_f[t],l=_f[r],a={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+l.x*i,y:n.y+l.y*i},d=g2({source:a,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",h=d[f];let g=[],v,x;const _={x:0,y:0},p={x:0,y:0},[m,y,w,j]=qm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){v=s.x??m,x=s.y??y;const T=[{x:v,y:a.y},{x:v,y:c.y}],R=[{x:a.x,y:x},{x:c.x,y:x}];o[f]===h?g=f==="x"?T:R:g=f==="x"?R:T}else{const T=[{x:a.x,y:c.y}],R=[{x:c.x,y:a.y}];if(f==="x"?g=o.x===h?R:T:g=o.y===h?T:R,t===r){const W=Math.abs(e[f]-n[f]);if(W<=i){const N=Math.min(i-1,i-W);o[f]===h?_[f]=(a[f]>e[f]?-1:1)*N:p[f]=(c[f]>n[f]?-1:1)*N}}if(t!==r){const W=f==="x"?"y":"x",N=o[f]===l[W],P=a[W]>c[W],b=a[W]<c[W];(o[f]===1&&(!N&&P||N&&b)||o[f]!==1&&(!N&&b||N&&P))&&(g=f==="x"?T:R)}const I={x:a.x+_.x,y:a.y+_.y},L={x:c.x+p.x,y:c.y+p.y},H=Math.max(Math.abs(I.x-g[0].x),Math.abs(L.x-g[0].x)),Y=Math.max(Math.abs(I.y-g[0].y),Math.abs(L.y-g[0].y));H>=Y?(v=(I.x+L.x)/2,x=g[0].y):(v=g[0].x,x=(I.y+L.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...g,{x:c.x+p.x,y:c.y+p.y},n],v,x,w,j]}function x2(e,t,n,r){const s=Math.min(kf(e,t)/2,kf(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${o+s*a}Q ${i},${o} ${i+s*l},${o}`}function su({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:s,targetPosition:i=K.Top,borderRadius:o=5,centerX:l,centerY:a,offset:c=20}){const[d,f,h,g,v]=y2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:a},offset:c});return[d.reduce((_,p,m)=>{let y="";return m>0&&m<d.length-1?y=x2(d[m-1],p,d[m+1],o):y=`${m===0?"M":"L"}${p.x} ${p.y}`,_+=y,_},""),f,h,g,v]}const ol=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,sourcePosition:f=K.Bottom,targetPosition:h=K.Top,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:_})=>{const[p,m,y]=su({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return z.createElement(ui,{path:p,labelX:m,labelY:y,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:v,interactionWidth:_})});ol.displayName="SmoothStepEdge";const wc=k.memo(e=>{var t;return z.createElement(ol,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});wc.displayName="StepEdge";function v2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=qm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const Nc=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g})=>{const[v,x,_]=v2({sourceX:e,sourceY:t,targetX:n,targetY:r});return z.createElement(ui,{path:v,labelX:x,labelY:_,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g})});Nc.displayName="StraightEdge";function Ri(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ef({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case K.Left:return[t-Ri(t-r,i),n];case K.Right:return[t+Ri(r-t,i),n];case K.Top:return[t,n-Ri(n-s,i)];case K.Bottom:return[t,n+Ri(s-n,i)]}}function Gm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:s,targetPosition:i=K.Top,curvature:o=.25}){const[l,a]=Ef({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Ef({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,g,v]=Xm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${a} ${c},${d} ${r},${s}`,f,h,g,v]}const zo=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=K.Bottom,targetPosition:i=K.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:_})=>{const[p,m,y]=Gm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:x==null?void 0:x.curvature});return z.createElement(ui,{path:p,labelX:m,labelY:y,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:_})});zo.displayName="BezierEdge";const Sc=k.createContext(null),w2=Sc.Provider;Sc.Consumer;const N2=()=>k.useContext(Sc),S2=e=>"id"in e&&"source"in e&&"target"in e,_2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,iu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,k2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ll=(e,t)=>{if(!e.source||!e.target)return t;let n;return S2(e)?n={...e}:n={...e,id:_2(e)},k2(n,t)?t:t.concat(n)},ou=({x:e,y:t},[n,r,s],i,[o,l])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(a.x/o),y:l*Math.round(a.y/l)}:a},Qm=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Yn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},al=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Yn(s,t).positionAbsolute;return Vm(r,Js({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Um(n)},Zm=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const a={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},c=[];return e.forEach(d=>{const{width:f,height:h,selectable:g=!0,hidden:v=!1}=d;if(o&&!g||v)return!1;const{positionAbsolute:x}=Yn(d,l),_={x:x.x,y:x.y,width:f||0,height:h||0},p=nu(a,_),m=typeof f>"u"||typeof h>"u"||f===null||h===null,y=i&&p>0,w=(f||0)*(h||0);(m||y||p>=w||d.dragging)&&c.push(d)}),c},Jm=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},e0=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(o,l),c=Ur(a,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c,g=n/2-f*c;return{x:h,y:g,zoom:c}},Ln=(e,t=0)=>e.transition().duration(t);function bf(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function E2(e,t,n,r,s,i){const{x:o,y:l}=Sn(e),c=t.elementsFromPoint(o,l).find(v=>v.classList.contains("react-flow__handle"));if(c){const v=c.getAttribute("data-nodeid");if(v){const x=_c(void 0,c),_=c.getAttribute("data-handleid"),p=i({nodeId:v,id:_,type:x});if(p){const m=s.find(y=>y.nodeId===v&&y.type===x&&y.id===_);return{handle:{id:_,type:x,nodeId:v,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:p}}}}let d=[],f=1/0;if(s.forEach(v=>{const x=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(x<=r){const _=i(v);x<=f&&(x<f?d=[{handle:v,validHandleResult:_}]:x===f&&d.push({handle:v,validHandleResult:_}),f=x)}}),!d.length)return{handle:null,validHandleResult:t0()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:v})=>v.isValid),g=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:x})=>g?v.type==="target":h?x.isValid:!0)||d[0]}const b2={source:null,target:null,sourceHandle:null,targetHandle:null},t0=()=>({handleDomNode:null,isValid:!1,connection:b2,endHandle:null});function n0(e,t,n,r,s,i,o){const l=s==="target",a=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...t0(),handleDomNode:a};if(a){const d=_c(void 0,a),f=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),g=a.classList.contains("connectable"),v=a.classList.contains("connectableend"),x={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};c.connection=x,g&&v&&(t===Jn.Strict?l&&d==="source"||!l&&d==="target":f!==n||h!==r)&&(c.endHandle={nodeId:f,handleId:h,type:d},c.isValid=i(x))}return c}function j2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[me]){const{handleBounds:o}=i[me];let l=[],a=[];o&&(l=bf(i,o,"source",`${t}-${n}-${r}`),a=bf(i,o,"target",`${t}-${n}-${r}`)),s.push(...l,...a)}return s},[])}function _c(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Yl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function C2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function r0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:c}){const d=Hm(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:g,connectionRadius:v,onConnectStart:x,panBy:_,getNodes:p,cancelConnection:m}=i();let y=0,w;const{x:j,y:A}=Sn(e),T=d==null?void 0:d.elementFromPoint(j,A),R=_c(a,T),I=h==null?void 0:h.getBoundingClientRect();if(!I||!R)return;let L,H=Sn(e,I),Y=!1,W=null,N=!1,P=null;const b=j2({nodes:p(),nodeId:n,handleId:t,handleType:R}),D=()=>{if(!g)return;const[$,O]=Bm(H,I);_({x:$,y:O}),y=requestAnimationFrame(D)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:R});function C($){const{transform:O}=i();H=Sn($,I);const{handle:F,validHandleResult:q}=E2($,d,ou(H,O,!1,[1,1]),v,b,S=>n0(S,f,n,t,s?"target":"source",l,d));if(w=F,Y||(D(),Y=!0),P=q.handleDomNode,W=q.connection,N=q.isValid,o({connectionPosition:w&&N?Qm({x:w.x,y:w.y},O):H,connectionStatus:C2(!!w,N),connectionEndHandle:q.endHandle}),!w&&!N&&!P)return Yl(L);W.source!==W.target&&P&&(Yl(L),L=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",N),P.classList.toggle("react-flow__handle-valid",N))}function E($){var O,F;(w||P)&&W&&N&&(r==null||r(W)),(F=(O=i()).onConnectEnd)==null||F.call(O,$),a&&(c==null||c($)),Yl(L),m(),cancelAnimationFrame(y),Y=!1,N=!1,W=null,P=null,d.removeEventListener("mousemove",C),d.removeEventListener("mouseup",E),d.removeEventListener("touchmove",C),d.removeEventListener("touchend",E)}d.addEventListener("mousemove",C),d.addEventListener("mouseup",E),d.addEventListener("touchmove",C),d.addEventListener("touchend",E)}const jf=()=>!0,A2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),T2=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},s0=k.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:a,className:c,onMouseDown:d,onTouchStart:f,...h},g)=>{var I,L;const v=o||null,x=e==="target",_=ke(),p=N2(),{connectOnClick:m,noPanClassName:y}=le(A2,je),{connecting:w,clickConnecting:j}=le(T2(p,v,e),je);p||(L=(I=_.getState()).onError)==null||L.call(I,"010",en.error010());const A=H=>{const{defaultEdgeOptions:Y,onConnect:W,hasDefaultEdges:N}=_.getState(),P={...Y,...H};if(N){const{edges:b,setEdges:D}=_.getState();D(ll(P,b))}W==null||W(P),l==null||l(P)},T=H=>{if(!p)return;const Y=Ym(H);s&&(Y&&H.button===0||!Y)&&r0({event:H,handleId:v,nodeId:p,onConnect:A,isTarget:x,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||jf}),Y?d==null||d(H):f==null||f(H)},R=H=>{const{onClickConnectStart:Y,onClickConnectEnd:W,connectionClickStartHandle:N,connectionMode:P,isValidConnection:b}=_.getState();if(!p||!N&&!s)return;if(!N){Y==null||Y(H,{nodeId:p,handleId:v,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:v}});return}const D=Hm(H.target),C=n||b||jf,{connection:E,isValid:$}=n0({nodeId:p,id:v,type:e},P,N.nodeId,N.handleId||null,N.type,C,D);$&&A(E),W==null||W(H),_.setState({connectionClickStartHandle:null})};return z.createElement("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:$e(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!x,target:x,connectable:r,connectablestart:s,connectableend:i,connecting:j,connectionindicator:r&&(s&&!w||i&&w)}]),onMouseDown:T,onTouchStart:T,onClick:m?R:void 0,ref:g,...h},a)});s0.displayName="Handle";var Qe=k.memo(s0);const i0=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>z.createElement(z.Fragment,null,z.createElement(Qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,z.createElement(Qe,{type:"source",position:r,isConnectable:t}));i0.displayName="DefaultNode";var lu=k.memo(i0);const o0=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>z.createElement(z.Fragment,null,e==null?void 0:e.label,z.createElement(Qe,{type:"source",position:n,isConnectable:t}));o0.displayName="InputNode";var l0=k.memo(o0);const a0=({data:e,isConnectable:t,targetPosition:n=K.Top})=>z.createElement(z.Fragment,null,z.createElement(Qe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);a0.displayName="OutputNode";var u0=k.memo(a0);const kc=()=>null;kc.displayName="GroupNode";const $2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Pi=e=>e.id;function R2(e,t){return je(e.selectedNodes.map(Pi),t.selectedNodes.map(Pi))&&je(e.selectedEdges.map(Pi),t.selectedEdges.map(Pi))}const c0=k.memo(({onSelectionChange:e})=>{const t=ke(),{selectedNodes:n,selectedEdges:r}=le($2,R2);return k.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});c0.displayName="SelectionListener";const P2=e=>!!e.onSelectionChange;function I2({onSelectionChange:e}){const t=le(P2);return e||t?z.createElement(c0,{onSelectionChange:e}):null}const M2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ar(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const z2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:c,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:x,maxZoom:_,nodeExtent:p,onNodesChange:m,onEdgesChange:y,elementsSelectable:w,connectionMode:j,snapGrid:A,snapToGrid:T,translateExtent:R,connectOnClick:I,defaultEdgeOptions:L,fitView:H,fitViewOptions:Y,onNodesDelete:W,onEdgesDelete:N,onNodeDrag:P,onNodeDragStart:b,onNodeDragStop:D,onSelectionDrag:C,onSelectionDragStart:E,onSelectionDragStop:$,noPanClassName:O,nodeOrigin:F,rfId:q,autoPanOnConnect:S,autoPanOnNodeDrag:M,onError:B,connectionRadius:V,isValidConnection:Q,nodeDragThreshold:Z})=>{const{setNodes:ne,setEdges:we,setDefaultNodesAndEdges:Ne,setMinZoom:De,setMaxZoom:Re,setTranslateExtent:ge,setNodeExtent:Ze,reset:ie}=le(M2,je),G=ke();return k.useEffect(()=>{const Oe=r==null?void 0:r.map(Dt=>({...Dt,...L}));return Ne(n,Oe),()=>{ie()}},[]),J("defaultEdgeOptions",L,G.setState),J("connectionMode",j,G.setState),J("onConnect",s,G.setState),J("onConnectStart",i,G.setState),J("onConnectEnd",o,G.setState),J("onClickConnectStart",l,G.setState),J("onClickConnectEnd",a,G.setState),J("nodesDraggable",c,G.setState),J("nodesConnectable",d,G.setState),J("nodesFocusable",f,G.setState),J("edgesFocusable",h,G.setState),J("edgesUpdatable",g,G.setState),J("elementsSelectable",w,G.setState),J("elevateNodesOnSelect",v,G.setState),J("snapToGrid",T,G.setState),J("snapGrid",A,G.setState),J("onNodesChange",m,G.setState),J("onEdgesChange",y,G.setState),J("connectOnClick",I,G.setState),J("fitViewOnInit",H,G.setState),J("fitViewOnInitOptions",Y,G.setState),J("onNodesDelete",W,G.setState),J("onEdgesDelete",N,G.setState),J("onNodeDrag",P,G.setState),J("onNodeDragStart",b,G.setState),J("onNodeDragStop",D,G.setState),J("onSelectionDrag",C,G.setState),J("onSelectionDragStart",E,G.setState),J("onSelectionDragStop",$,G.setState),J("noPanClassName",O,G.setState),J("nodeOrigin",F,G.setState),J("rfId",q,G.setState),J("autoPanOnConnect",S,G.setState),J("autoPanOnNodeDrag",M,G.setState),J("onError",B,G.setState),J("connectionRadius",V,G.setState),J("isValidConnection",Q,G.setState),J("nodeDragThreshold",Z,G.setState),ar(e,ne),ar(t,we),ar(x,De),ar(_,Re),ar(R,ge),ar(p,Ze),null},Cf={display:"none"},L2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},d0="react-flow__node-desc",f0="react-flow__edge-desc",D2="react-flow__aria-live",O2=e=>e.ariaLiveMessage;function F2({rfId:e}){const t=le(O2);return z.createElement("div",{id:`${D2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:L2},t)}function B2({rfId:e,disableKeyboardA11y:t}){return z.createElement(z.Fragment,null,z.createElement("div",{id:`${d0}-${e}`,style:Cf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),z.createElement("div",{id:`${f0}-${e}`,style:Cf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&z.createElement(F2,{rfId:e}))}var ti=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),s=k.useRef(!1),i=k.useRef(new Set([])),[o,l]=k.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return k.useEffect(()=>{const a=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||a;if(e!==null){const d=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&ru(g))return!1;const x=Tf(g.code,l);i.current.add(g[x]),Af(o,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&ru(g))return!1;const x=Tf(g.code,l);Af(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[x]),g.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Af(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Tf(e,t){return t.includes(e)?"code":"key"}function h0(e,t,n,r){var l,a;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Yn(i,r);return h0(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[me])==null?void 0:l.z)??0)>(n.z??0)?((a=i[me])==null?void 0:a.z)??0:n.z??0},r)}function p0(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:a}=h0(r,e,{...r.position,z:((i=r[me])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:l},r[me].z=a,n!=null&&n[r.id]&&(r[me].isParent=!0)}})}function ql(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(l=>{var g;const a=(dt(l.zIndex)?l.zIndex:0)+(l.selected?o:0),c=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const h=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==l.type;Object.defineProperty(d,me,{enumerable:!1,value:{handleBounds:h||(g=c==null?void 0:c[me])==null?void 0:g.handleBounds,z:a}}),s.set(l.id,d)}),p0(s,n,i),s}function m0(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:a,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!c&&d;if(l&&a&&(h||!t.initial)){const v=n().filter(_=>{var m;const p=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(m=t.nodes)!=null&&m.length?p&&t.nodes.some(y=>y.id===_.id):p}),x=v.every(_=>_.width&&_.height);if(v.length>0&&x){const _=al(v,f),{x:p,y:m,zoom:y}=e0(_,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),w=Xt.translate(p,m).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Ln(a,t.duration),w):l.transform(a,w),!0}}return!1}function H2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[me]:r[me],selected:n.selected})}),new Map(t)}function V2(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Ii({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:c}=n();e!=null&&e.length&&(a&&r({nodeInternals:H2(e,s)}),o==null||o(e)),t!=null&&t.length&&(c&&r({edges:V2(t,i)}),l==null||l(t))}const ur=()=>{},U2={zoomIn:ur,zoomOut:ur,zoomTo:ur,getZoom:()=>1,setViewport:ur,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ur,fitBounds:ur,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},W2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Y2=()=>{const e=ke(),{d3Zoom:t,d3Selection:n}=le(W2,je);return k.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Ln(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Ln(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Ln(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,l,a]=e.getState().transform,c=Xt.translate(s.x??o,s.y??l).scale(s.zoom??a);t.transform(Ln(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>m0(e.getState,s),setCenter:(s,i,o)=>{const{width:l,height:a,maxZoom:c}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,f=l/2-s*d,h=a/2-i*d,g=Xt.translate(f,h).scale(d);t.transform(Ln(n,o==null?void 0:o.duration),g)},fitBounds:(s,i)=>{const{width:o,height:l,minZoom:a,maxZoom:c}=e.getState(),{x:d,y:f,zoom:h}=e0(s,o,l,a,c,(i==null?void 0:i.padding)??.1),g=Xt.translate(d,f).scale(h);t.transform(Ln(n,i==null?void 0:i.duration),g)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ou(s,i,o,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:a}=e.getState();if(!a)return s;const{x:c,y:d}=a.getBoundingClientRect(),f={x:s.x-c,y:s.y-d};return ou(f,i,o,l)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:l,y:a}=o.getBoundingClientRect(),c=Qm(s,i);return{x:c.x+l,y:c.y+a}},viewportInitialized:!0}:U2,[t,n])};function Ec(){const e=Y2(),t=ke(),n=k.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=k.useCallback(x=>t.getState().nodeInternals.get(x),[]),s=k.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(_=>({..._}))},[]),i=k.useCallback(x=>{const{edges:_=[]}=t.getState();return _.find(p=>p.id===x)},[]),o=k.useCallback(x=>{const{getNodes:_,setNodes:p,hasDefaultNodes:m,onNodesChange:y}=t.getState(),w=_(),j=typeof x=="function"?x(w):x;if(m)p(j);else if(y){const A=j.length===0?w.map(T=>({type:"remove",id:T.id})):j.map(T=>({item:T,type:"reset"}));y(A)}},[]),l=k.useCallback(x=>{const{edges:_=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:y}=t.getState(),w=typeof x=="function"?x(_):x;if(m)p(w);else if(y){const j=w.length===0?_.map(A=>({type:"remove",id:A.id})):w.map(A=>({item:A,type:"reset"}));y(j)}},[]),a=k.useCallback(x=>{const _=Array.isArray(x)?x:[x],{getNodes:p,setNodes:m,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const A=[...p(),..._];m(A)}else if(w){const j=_.map(A=>({item:A,type:"add"}));w(j)}},[]),c=k.useCallback(x=>{const _=Array.isArray(x)?x:[x],{edges:p=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)m([...p,..._]);else if(w){const j=_.map(A=>({item:A,type:"add"}));w(j)}},[]),d=k.useCallback(()=>{const{getNodes:x,edges:_=[],transform:p}=t.getState(),[m,y,w]=p;return{nodes:x().map(j=>({...j})),edges:_.map(j=>({...j})),viewport:{x:m,y,zoom:w}}},[]),f=k.useCallback(({nodes:x,edges:_})=>{const{nodeInternals:p,getNodes:m,edges:y,hasDefaultNodes:w,hasDefaultEdges:j,onNodesDelete:A,onEdgesDelete:T,onNodesChange:R,onEdgesChange:I}=t.getState(),L=(x||[]).map(P=>P.id),H=(_||[]).map(P=>P.id),Y=m().reduce((P,b)=>{const D=b.parentNode||b.parentId,C=!L.includes(b.id)&&D&&P.find($=>$.id===D);return(typeof b.deletable=="boolean"?b.deletable:!0)&&(L.includes(b.id)||C)&&P.push(b),P},[]),W=y.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),N=W.filter(P=>H.includes(P.id));if(Y||N){const P=Jm(Y,W),b=[...N,...P],D=b.reduce((C,E)=>(C.includes(E.id)||C.push(E.id),C),[]);if((j||w)&&(j&&t.setState({edges:y.filter(C=>!D.includes(C.id))}),w&&(Y.forEach(C=>{p.delete(C.id)}),t.setState({nodeInternals:new Map(p)}))),D.length>0&&(T==null||T(b),I&&I(D.map(C=>({id:C,type:"remove"})))),Y.length>0&&(A==null||A(Y),R)){const C=Y.map(E=>({id:E.id,type:"remove"}));R(C)}}},[]),h=k.useCallback(x=>{const _=h2(x),p=_?null:t.getState().nodeInternals.get(x.id);return!_&&!p?[null,null,_]:[_?x:Nf(p),p,_]},[]),g=k.useCallback((x,_=!0,p)=>{const[m,y,w]=h(x);return m?(p||t.getState().getNodes()).filter(j=>{if(!w&&(j.id===y.id||!j.positionAbsolute))return!1;const A=Nf(j),T=nu(A,m);return _&&T>0||T>=m.width*m.height}):[]},[]),v=k.useCallback((x,_,p=!0)=>{const[m]=h(x);if(!m)return!1;const y=nu(m,_);return p&&y>0||y>=m.width*m.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:l,addNodes:a,addEdges:c,toObject:d,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:v}),[e,n,r,s,i,o,l,a,c,d,f,g,v])}const q2={actInsideInputWithModifier:!1};var X2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ke(),{deleteElements:r}=Ec(),s=ti(e,q2),i=ti(t);k.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),a=l().filter(d=>d.selected),c=o.filter(d=>d.selected);r({nodes:a,edges:c}),n.setState({nodesSelectionActive:!1})}},[s]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function K2(e){const t=ke();k.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=yc(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",en.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const bc={position:"absolute",width:"100%",height:"100%",top:0,left:0},G2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Mi=e=>({x:e.x,y:e.y,zoom:e.k}),cr=(e,t)=>e.target.closest(`.${t}`),$f=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Rf=e=>{const t=e.ctrlKey&&Mo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Q2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Z2=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Hn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:x,zoomActivationKeyCode:_,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:w})=>{const j=k.useRef(),A=ke(),T=k.useRef(!1),R=k.useRef(!1),I=k.useRef(null),L=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:Y,d3ZoomHandler:W,userSelectionActive:N}=le(Q2,je),P=ti(_),b=k.useRef(0),D=k.useRef(!1),C=k.useRef();return K2(I),k.useEffect(()=>{if(I.current){const E=I.current.getBoundingClientRect(),$=Om().scaleExtent([v,x]).translateExtent(g),O=ut(I.current).call($),F=Xt.translate(h.x,h.y).scale(Ur(h.zoom,v,x)),q=[[0,0],[E.width,E.height]],S=$.constrain()(F,q,g);$.transform(O,S),$.wheelDelta(Rf),A.setState({d3Zoom:$,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[S.x,S.y,S.k],domNode:I.current.closest(".react-flow")})}},[]),k.useEffect(()=>{Y&&H&&(o&&!P&&!N?Y.on("wheel.zoom",E=>{if(cr(E,y))return!1;E.preventDefault(),E.stopImmediatePropagation();const $=Y.property("__zoom").k||1;if(E.ctrlKey&&i){const Q=wt(E),Z=Rf(E),ne=$*Math.pow(2,Z);H.scaleTo(Y,ne,Q,E);return}const O=E.deltaMode===1?20:1;let F=a===Hn.Vertical?0:E.deltaX*O,q=a===Hn.Horizontal?0:E.deltaY*O;!Mo()&&E.shiftKey&&a!==Hn.Vertical&&(F=E.deltaY*O,q=0),H.translateBy(Y,-(F/$)*l,-(q/$)*l,{internal:!0});const S=Mi(Y.property("__zoom")),{onViewportChangeStart:M,onViewportChange:B,onViewportChangeEnd:V}=A.getState();clearTimeout(C.current),D.current||(D.current=!0,t==null||t(E,S),M==null||M(S)),D.current&&(e==null||e(E,S),B==null||B(S),C.current=setTimeout(()=>{n==null||n(E,S),V==null||V(S),D.current=!1},150))},{passive:!1}):typeof W<"u"&&Y.on("wheel.zoom",function(E,$){if(!p&&E.type==="wheel"&&!E.ctrlKey||cr(E,y))return null;E.preventDefault(),W.call(this,E,$)},{passive:!1}))},[N,o,a,Y,H,W,P,i,p,y,t,e,n]),k.useEffect(()=>{H&&H.on("start",E=>{var F,q;if(!E.sourceEvent||E.sourceEvent.internal)return null;b.current=(F=E.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:$}=A.getState(),O=Mi(E.transform);T.current=!0,L.current=O,((q=E.sourceEvent)==null?void 0:q.type)==="mousedown"&&A.setState({paneDragging:!0}),$==null||$(O),t==null||t(E.sourceEvent,O)})},[H,t]),k.useEffect(()=>{H&&(N&&!T.current?H.on("zoom",null):N||H.on("zoom",E=>{var O;const{onViewportChange:$}=A.getState();if(A.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),R.current=!!(r&&$f(f,b.current??0)),(e||$)&&!((O=E.sourceEvent)!=null&&O.internal)){const F=Mi(E.transform);$==null||$(F),e==null||e(E.sourceEvent,F)}}))},[N,H,e,f,r]),k.useEffect(()=>{H&&H.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=A.getState();if(T.current=!1,A.setState({paneDragging:!1}),r&&$f(f,b.current??0)&&!R.current&&r(E.sourceEvent),R.current=!1,(n||$)&&G2(L.current,E.transform)){const O=Mi(E.transform);L.current=O,clearTimeout(j.current),j.current=setTimeout(()=>{$==null||$(O),n==null||n(E.sourceEvent,O)},o?150:0)}})},[H,o,f,n,r]),k.useEffect(()=>{H&&H.filter(E=>{const $=P||s,O=i&&E.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&E.button===1&&E.type==="mousedown"&&(cr(E,"react-flow__node")||cr(E,"react-flow__edge")))return!0;if(!f&&!$&&!o&&!c&&!i||N||!c&&E.type==="dblclick"||cr(E,y)&&E.type==="wheel"||cr(E,w)&&(E.type!=="wheel"||o&&E.type==="wheel"&&!P)||!i&&E.ctrlKey&&E.type==="wheel"||!$&&!o&&!O&&E.type==="wheel"||!f&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(f)&&!f.includes(E.button)&&E.type==="mousedown")return!1;const F=Array.isArray(f)&&f.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&F})},[N,H,s,i,o,c,f,d,P]),z.createElement("div",{className:"react-flow__renderer",ref:I,style:bc},m)},J2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eS(){const{userSelectionActive:e,userSelectionRect:t}=le(J2,je);return e&&t?z.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Pf(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function g0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Pf(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Pf(r,o);break}case"remove":return r}return r.push(o),r},n)}function y0(e,t){return g0(e,t)}function tS(e,t){return g0(e,t)}const an=(e,t)=>({id:e,type:"select",selected:t});function kr(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(an(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(an(r.id,!1))),n},[])}const Xl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},nS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),x0=k.memo(({isSelecting:e,selectionMode:t=ei.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:c,onPaneMouseLeave:d,children:f})=>{const h=k.useRef(null),g=ke(),v=k.useRef(0),x=k.useRef(0),_=k.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:y}=le(nS,je),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},j=W=>{i==null||i(W),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},A=W=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){W.preventDefault();return}o==null||o(W)},T=l?W=>l(W):void 0,R=W=>{const{resetSelectedElements:N,domNode:P}=g.getState();if(_.current=P==null?void 0:P.getBoundingClientRect(),!m||!e||W.button!==0||W.target!==h.current||!_.current)return;const{x:b,y:D}=Sn(W,_.current);N(),g.setState({userSelectionRect:{width:0,height:0,startX:b,startY:D,x:b,y:D}}),r==null||r(W)},I=W=>{const{userSelectionRect:N,nodeInternals:P,edges:b,transform:D,onNodesChange:C,onEdgesChange:E,nodeOrigin:$,getNodes:O}=g.getState();if(!e||!_.current||!N)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=Sn(W,_.current),q=N.startX??0,S=N.startY??0,M={...N,x:F.x<q?F.x:q,y:F.y<S?F.y:S,width:Math.abs(F.x-q),height:Math.abs(F.y-S)},B=O(),V=Zm(P,M,D,t===ei.Partial,!0,$),Q=Jm(V,b).map(ne=>ne.id),Z=V.map(ne=>ne.id);if(v.current!==Z.length){v.current=Z.length;const ne=kr(B,Z);ne.length&&(C==null||C(ne))}if(x.current!==Q.length){x.current=Q.length;const ne=kr(b,Q);ne.length&&(E==null||E(ne))}g.setState({userSelectionRect:M})},L=W=>{if(W.button!==0)return;const{userSelectionRect:N}=g.getState();!p&&N&&W.target===h.current&&(j==null||j(W)),g.setState({nodesSelectionActive:v.current>0}),w(),s==null||s(W)},H=W=>{p&&(g.setState({nodesSelectionActive:v.current>0}),s==null||s(W)),w()},Y=m&&(e||p);return z.createElement("div",{className:$e(["react-flow__pane",{dragging:y,selection:e}]),onClick:Y?void 0:Xl(j,h),onContextMenu:Xl(A,h),onWheel:Xl(T,h),onMouseEnter:Y?void 0:a,onMouseDown:Y?R:void 0,onMouseMove:Y?I:c,onMouseUp:Y?L:void 0,onMouseLeave:Y?H:d,ref:h,style:bc},f,z.createElement(eS,null))});x0.displayName="Pane";function v0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:v0(r,t):!1}function If(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function rS(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!v0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function sS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function w0(e,t,n,r,s=[0,0],i){const o=sS(e,e.extent||r);let l=o;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:h,y:g}=Yn(f,s).positionAbsolute;l=f&&dt(h)&&dt(g)&&dt(f.width)&&dt(f.height)?[[h+e.width*s[0],g+e.height*s[1]],[h+f.width-e.width+e.width*s[0],g+f.height-e.height+e.height*s[1]]]:l}else i==null||i("005",en.error005()),l=o;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:h,y:g}=Yn(f,s).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+g],[e.extent[1][0]+h,e.extent[1][1]+g]]}let c={x:0,y:0};if(a){const f=n.get(a);c=Yn(f,s).positionAbsolute}const d=l&&l!=="parent"?xc(t,l):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Kl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const Mf=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return i.map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(c.left-o.left-l.x)/n,y:(c.top-o.top-l.y)/n,...yc(a)}})};function cs(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function au({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:a}=t.getState(),c=l.get(e);if(!c){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function iS(){const e=ke();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(a.x/s[0]):a.x,ySnapped:i?s[1]*Math.round(a.y/s[1]):a.y,...a}},[])}function Gl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function N0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const l=ke(),[a,c]=k.useState(!1),d=k.useRef([]),f=k.useRef({x:null,y:null}),h=k.useRef(0),g=k.useRef(null),v=k.useRef({x:0,y:0}),x=k.useRef(null),_=k.useRef(!1),p=k.useRef(!1),m=k.useRef(!1),y=iS();return k.useEffect(()=>{if(e!=null&&e.current){const w=ut(e.current),j=({x:R,y:I})=>{const{nodeInternals:L,onNodeDrag:H,onSelectionDrag:Y,updateNodePositions:W,nodeExtent:N,snapGrid:P,snapToGrid:b,nodeOrigin:D,onError:C}=l.getState();f.current={x:R,y:I};let E=!1,$={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&N){const F=al(d.current,D);$=Js(F)}if(d.current=d.current.map(F=>{const q={x:R-F.distance.x,y:I-F.distance.y};b&&(q.x=P[0]*Math.round(q.x/P[0]),q.y=P[1]*Math.round(q.y/P[1]));const S=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];d.current.length>1&&N&&!F.extent&&(S[0][0]=F.positionAbsolute.x-$.x+N[0][0],S[1][0]=F.positionAbsolute.x+(F.width??0)-$.x2+N[1][0],S[0][1]=F.positionAbsolute.y-$.y+N[0][1],S[1][1]=F.positionAbsolute.y+(F.height??0)-$.y2+N[1][1]);const M=w0(F,q,L,S,D,C);return E=E||F.position.x!==M.position.x||F.position.y!==M.position.y,F.position=M.position,F.positionAbsolute=M.positionAbsolute,F}),!E)return;W(d.current,!0,!0),c(!0);const O=s?H:Gl(Y);if(O&&x.current){const[F,q]=Kl({nodeId:s,dragItems:d.current,nodeInternals:L});O(x.current,F,q)}},A=()=>{if(!g.current)return;const[R,I]=Bm(v.current,g.current);if(R!==0||I!==0){const{transform:L,panBy:H}=l.getState();f.current.x=(f.current.x??0)-R/L[2],f.current.y=(f.current.y??0)-I/L[2],H({x:R,y:I})&&j(f.current)}h.current=requestAnimationFrame(A)},T=R=>{var D;const{nodeInternals:I,multiSelectionActive:L,nodesDraggable:H,unselectNodesAndEdges:Y,onNodeDragStart:W,onSelectionDragStart:N}=l.getState();p.current=!0;const P=s?W:Gl(N);(!o||!i)&&!L&&s&&((D=I.get(s))!=null&&D.selected||Y()),s&&i&&o&&au({id:s,store:l,nodeRef:e});const b=y(R);if(f.current=b,d.current=rS(I,H,b,s),P&&d.current){const[C,E]=Kl({nodeId:s,dragItems:d.current,nodeInternals:I});P(R.sourceEvent,C,E)}};if(t)w.on(".drag",null);else{const R=yw().on("start",I=>{const{domNode:L,nodeDragThreshold:H}=l.getState();H===0&&T(I),m.current=!1;const Y=y(I);f.current=Y,g.current=(L==null?void 0:L.getBoundingClientRect())||null,v.current=Sn(I.sourceEvent,g.current)}).on("drag",I=>{var W,N;const L=y(I),{autoPanOnNodeDrag:H,nodeDragThreshold:Y}=l.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!_.current&&p.current&&H&&(_.current=!0,A()),!p.current){const P=L.xSnapped-(((W=f==null?void 0:f.current)==null?void 0:W.x)??0),b=L.ySnapped-(((N=f==null?void 0:f.current)==null?void 0:N.y)??0);Math.sqrt(P*P+b*b)>Y&&T(I)}(f.current.x!==L.xSnapped||f.current.y!==L.ySnapped)&&d.current&&p.current&&(x.current=I.sourceEvent,v.current=Sn(I.sourceEvent,g.current),j(L))}}).on("end",I=>{if(!(!p.current||m.current)&&(c(!1),_.current=!1,p.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:L,nodeInternals:H,onNodeDragStop:Y,onSelectionDragStop:W}=l.getState(),N=s?Y:Gl(W);if(L(d.current,!1,!1),N){const[P,b]=Kl({nodeId:s,dragItems:d.current,nodeInternals:H});N(I.sourceEvent,P,b)}}}).filter(I=>{const L=I.target;return!I.button&&(!n||!If(L,`.${n}`,e))&&(!r||If(L,r,e))});return w.call(R),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,l,s,o,y]),a}function S0(){const e=ke();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:a,onError:c,nodesDraggable:d}=e.getState(),f=o().filter(m=>m.selected&&(m.draggable||d&&typeof m.draggable>"u")),h=l?a[0]:5,g=l?a[1]:5,v=n.isShiftPressed?4:1,x=n.x*h*v,_=n.y*g*v,p=f.map(m=>{if(m.positionAbsolute){const y={x:m.positionAbsolute.x+x,y:m.positionAbsolute.y+_};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:w,position:j}=w0(m,y,r,s,void 0,c);m.position=j,m.positionAbsolute=w}return m});i(p,!0,!1)},[])}const Pr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ds=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:a,selected:c,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,onContextMenu:v,onDoubleClick:x,style:_,className:p,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:j,selectNodesOnDrag:A,sourcePosition:T,targetPosition:R,hidden:I,resizeObserver:L,dragHandle:H,zIndex:Y,isParent:W,noDragClassName:N,noPanClassName:P,initialized:b,disableKeyboardA11y:D,ariaLabel:C,rfId:E,hasHandleBounds:$})=>{const O=ke(),F=k.useRef(null),q=k.useRef(null),S=k.useRef(T),M=k.useRef(R),B=k.useRef(r),V=y||m||d||f||h||g,Q=S0(),Z=cs(n,O.getState,f),ne=cs(n,O.getState,h),we=cs(n,O.getState,g),Ne=cs(n,O.getState,v),De=cs(n,O.getState,x),Re=ie=>{const{nodeDragThreshold:G}=O.getState();if(y&&(!A||!m||G>0)&&au({id:n,store:O,nodeRef:F}),d){const Oe=O.getState().nodeInternals.get(n);Oe&&d(ie,{...Oe})}},ge=ie=>{if(!ru(ie)&&!D)if(Wm.includes(ie.key)&&y){const G=ie.key==="Escape";au({id:n,store:O,unselect:G,nodeRef:F})}else m&&c&&Object.prototype.hasOwnProperty.call(Pr,ie.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),Q({x:Pr[ie.key].x,y:Pr[ie.key].y,isShiftPressed:ie.shiftKey}))};k.useEffect(()=>()=>{q.current&&(L==null||L.unobserve(q.current),q.current=null)},[]),k.useEffect(()=>{if(F.current&&!I){const ie=F.current;(!b||!$||q.current!==ie)&&(q.current&&(L==null||L.unobserve(q.current)),L==null||L.observe(ie),q.current=ie)}},[I,b,$]),k.useEffect(()=>{const ie=B.current!==r,G=S.current!==T,Oe=M.current!==R;F.current&&(ie||G||Oe)&&(ie&&(B.current=r),G&&(S.current=T),Oe&&(M.current=R),O.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,r,T,R]);const Ze=N0({nodeRef:F,disabled:I||!m,noDragClassName:N,handleSelector:H,nodeId:n,isSelectable:y,selectNodesOnDrag:A});return I?null:z.createElement("div",{className:$e(["react-flow__node",`react-flow__node-${r}`,{[P]:m},p,{selected:c,selectable:y,parent:W,dragging:Ze}]),ref:F,style:{zIndex:Y,transform:`translate(${l}px,${a}px)`,pointerEvents:V?"all":"none",visibility:b?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:ne,onMouseLeave:we,onContextMenu:Ne,onClick:Re,onDoubleClick:De,onKeyDown:j?ge:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":D?void 0:`${d0}-${E}`,"aria-label":C},z.createElement(w2,{value:n},z.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:c,isConnectable:w,sourcePosition:T,targetPosition:R,dragging:Ze,dragHandle:H,zIndex:Y})))};return t.displayName="NodeWrapper",k.memo(t)};const oS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...al(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function lS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ke(),{width:s,height:i,x:o,y:l,transformString:a,userSelectionActive:c}=le(oS,je),d=S0(),f=k.useRef(null);if(k.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),N0({nodeRef:f}),c||!s||!i)return null;const h=e?v=>{const x=r.getState().getNodes().filter(_=>_.selected);e(v,x)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(Pr,v.key)&&d({x:Pr[v.key].x,y:Pr[v.key].y,isShiftPressed:v.shiftKey})};return z.createElement("div",{className:$e(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},z.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:i,top:l,left:o}}))}var aS=k.memo(lS);const uS=e=>e.nodesSelectionActive,_0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:a,onMoveStart:c,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:g,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:A,panOnScrollSpeed:T,panOnScrollMode:R,zoomOnDoubleClick:I,panOnDrag:L,defaultViewport:H,translateExtent:Y,minZoom:W,maxZoom:N,preventScrolling:P,onSelectionContextMenu:b,noWheelClassName:D,noPanClassName:C,disableKeyboardA11y:E})=>{const $=le(uS),O=ti(f),F=ti(p),q=F||L,S=F||A,M=O||h&&q!==!0;return X2({deleteKeyCode:l,multiSelectionKeyCode:_}),z.createElement(Z2,{onMove:a,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:S,panOnScrollSpeed:T,panOnScrollMode:R,zoomOnDoubleClick:I,panOnDrag:!O&&q,defaultViewport:H,translateExtent:Y,minZoom:W,maxZoom:N,zoomActivationKeyCode:m,preventScrolling:P,noWheelClassName:D,noPanClassName:C},z.createElement(x0,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:q,isSelecting:!!M,selectionMode:g},e,$&&z.createElement(aS,{onSelectionContextMenu:b,noPanClassName:C,disableKeyboardA11y:E})))};_0.displayName="FlowRenderer";var cS=k.memo(_0);function dS(e){return le(k.useCallback(n=>e?Zm(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function fS(e){const t={input:ds(e.input||l0),default:ds(e.default||lu),output:ds(e.output||u0),group:ds(e.group||kc)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=ds(e[i]||lu),s),n);return{...t,...r}}const hS=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},pS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),k0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=le(pS,je),l=dS(e.onlyRenderVisibleElements),a=k.useRef(),c=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(h)});return a.current=d,d},[]);return k.useEffect(()=>()=>{var d;(d=a==null?void 0:a.current)==null||d.disconnect()},[]),z.createElement("div",{className:"react-flow__nodes",style:bc},l.map(d=>{var j,A,T;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",en.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,g=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||s&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),_=!!(d.focusable||r&&typeof d.focusable>"u"),p=e.nodeExtent?xc(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,m=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,w=hS({x:m,y,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return z.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||K.Bottom,targetPosition:d.targetPosition||K.Top,hidden:d.hidden,xPos:m,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:v,isConnectable:x,isFocusable:_,resizeObserver:c,dragHandle:d.dragHandle,zIndex:((j=d[me])==null?void 0:j.z)??0,isParent:!!((A=d[me])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((T=d[me])!=null&&T.handleBounds)})}))};k0.displayName="NodeRenderer";var mS=k.memo(k0);const gS=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,yS=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,zf="react-flow__edgeupdater",Lf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l})=>z.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:$e([zf,`${zf}-${l}`]),cx:gS(t,r,e),cy:yS(n,r,e),r,stroke:"transparent",fill:"transparent"}),xS=()=>!0;var dr=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:l,selected:a,animated:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,style:_,source:p,target:m,sourceX:y,sourceY:w,targetX:j,targetY:A,sourcePosition:T,targetPosition:R,elementsSelectable:I,hidden:L,sourceHandleId:H,targetHandleId:Y,onContextMenu:W,onMouseEnter:N,onMouseMove:P,onMouseLeave:b,reconnectRadius:D,onReconnect:C,onReconnectStart:E,onReconnectEnd:$,markerEnd:O,markerStart:F,rfId:q,ariaLabel:S,isFocusable:M,isReconnectable:B,pathOptions:V,interactionWidth:Q,disableKeyboardA11y:Z})=>{const ne=k.useRef(null),[we,Ne]=k.useState(!1),[De,Re]=k.useState(!1),ge=ke(),Ze=k.useMemo(()=>`url('#${iu(F,q)}')`,[F,q]),ie=k.useMemo(()=>`url('#${iu(O,q)}')`,[O,q]);if(L)return null;const G=Pe=>{var Ct;const{edges:gt,addSelectedEdges:$n,unselectNodesAndEdges:Rn,multiSelectionActive:Pn}=ge.getState(),Ft=gt.find(Qr=>Qr.id===n);Ft&&(I&&(ge.setState({nodesSelectionActive:!1}),Ft.selected&&Pn?(Rn({nodes:[],edges:[Ft]}),(Ct=ne.current)==null||Ct.blur()):$n([n])),o&&o(Pe,Ft))},Oe=us(n,ge.getState,l),Dt=us(n,ge.getState,W),Kr=us(n,ge.getState,N),nr=us(n,ge.getState,P),rr=us(n,ge.getState,b),Ot=(Pe,gt)=>{if(Pe.button!==0)return;const{edges:$n,isValidConnection:Rn}=ge.getState(),Pn=gt?m:p,Ft=(gt?Y:H)||null,Ct=gt?"target":"source",Qr=Rn||xS,fl=gt,Zr=$n.find(In=>In.id===n);Re(!0),E==null||E(Pe,Zr,Ct);const hl=In=>{Re(!1),$==null||$(In,Zr,Ct)};r0({event:Pe,handleId:Ft,nodeId:Pn,onConnect:In=>C==null?void 0:C(Zr,In),isTarget:fl,getState:ge.getState,setState:ge.setState,isValidConnection:Qr,edgeUpdaterType:Ct,onReconnectEnd:hl})},sr=Pe=>Ot(Pe,!0),An=Pe=>Ot(Pe,!1),Tn=()=>Ne(!0),ir=()=>Ne(!1),or=!I&&!o,Gr=Pe=>{var gt;if(!Z&&Wm.includes(Pe.key)&&I){const{unselectNodesAndEdges:$n,addSelectedEdges:Rn,edges:Pn}=ge.getState();Pe.key==="Escape"?((gt=ne.current)==null||gt.blur(),$n({edges:[Pn.find(Ct=>Ct.id===n)]})):Rn([n])}};return z.createElement("g",{className:$e(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:a,animated:c,inactive:or,updating:we}]),onClick:G,onDoubleClick:Oe,onContextMenu:Dt,onMouseEnter:Kr,onMouseMove:nr,onMouseLeave:rr,onKeyDown:M?Gr:void 0,tabIndex:M?0:void 0,role:M?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":S===null?void 0:S||`Edge from ${p} to ${m}`,"aria-describedby":M?`${f0}-${q}`:void 0,ref:ne},!De&&z.createElement(e,{id:n,source:p,target:m,selected:a,animated:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,data:i,style:_,sourceX:y,sourceY:w,targetX:j,targetY:A,sourcePosition:T,targetPosition:R,sourceHandleId:H,targetHandleId:Y,markerStart:Ze,markerEnd:ie,pathOptions:V,interactionWidth:Q}),B&&z.createElement(z.Fragment,null,(B==="source"||B===!0)&&z.createElement(Lf,{position:T,centerX:y,centerY:w,radius:D,onMouseDown:sr,onMouseEnter:Tn,onMouseOut:ir,type:"source"}),(B==="target"||B===!0)&&z.createElement(Lf,{position:R,centerX:j,centerY:A,radius:D,onMouseDown:An,onMouseEnter:Tn,onMouseOut:ir,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function vS(e){const t={default:dr(e.default||zo),straight:dr(e.bezier||Nc),step:dr(e.step||wc),smoothstep:dr(e.step||ol),simplebezier:dr(e.simplebezier||vc)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=dr(e[i]||zo),s),n);return{...t,...r}}function Df(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+i/2,y:s};case K.Right:return{x:r+i,y:s+o/2};case K.Bottom:return{x:r+i/2,y:s+o};case K.Left:return{x:r,y:s+o/2}}}function Of(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const wS=(e,t,n,r,s,i)=>{const o=Df(n,e,t),l=Df(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function NS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:l,transform:a}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=Js({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:o/a[2],height:l/a[2]}),f=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),h=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(f*h)>0}function Ff(e){var r,s,i,o,l;const t=((r=e==null?void 0:e[me])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const SS=[{level:0,isMaxLevel:!0,edges:[]}];function _S(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var d,f;const a=dt(l.zIndex);let c=a?l.zIndex:0;if(n){const h=t.get(l.target),g=t.get(l.source),v=l.selected||(h==null?void 0:h.selected)||(g==null?void 0:g.selected),x=Math.max(((d=g==null?void 0:g[me])==null?void 0:d.z)||0,((f=h==null?void 0:h[me])==null?void 0:f.z)||0,1e3);c=(a?l.zIndex:0)+(v?x:0)}return o[c]?o[c].push(l):o[c]=[l],r=c>r?c:r,o},{}),i=Object.entries(s).map(([o,l])=>{const a=+o;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?SS:i}function kS(e,t,n){const r=le(k.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&NS({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return _S(r,t,n)}const ES=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),bS=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Bf={[Ue.Arrow]:ES,[Ue.ArrowClosed]:bS};function jS(e){const t=ke();return k.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Bf,e)?Bf[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",en.error009(e)),null)},[e])}const CS=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const a=jS(t);return a?z.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},z.createElement(a,{color:n,strokeWidth:o})):null},AS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=iu(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},E0=({defaultColor:e,rfId:t})=>{const n=le(k.useCallback(AS({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return z.createElement("defs",null,n.map(r=>z.createElement(CS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};E0.displayName="MarkerDefinitions";var TS=k.memo(E0);const $S=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),b0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,children:_,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:y,elementsSelectable:w,width:j,height:A,connectionMode:T,nodeInternals:R,onError:I}=le($S,je),L=kS(t,R,n);return j?z.createElement(z.Fragment,null,L.map(({level:H,edges:Y,isMaxLevel:W})=>z.createElement("svg",{key:H,style:{zIndex:H},width:j,height:A,className:"react-flow__edges react-flow__container"},W&&z.createElement(TS,{defaultColor:e,rfId:r}),z.createElement("g",null,Y.map(N=>{const[P,b,D]=Ff(R.get(N.source)),[C,E,$]=Ff(R.get(N.target));if(!D||!$)return null;let O=N.type||"default";s[O]||(I==null||I("011",en.error011(O)),O="default");const F=s[O]||s.default,q=T===Jn.Strict?E.target:(E.target??[]).concat(E.source??[]),S=Of(b.source,N.sourceHandle),M=Of(q,N.targetHandle),B=(S==null?void 0:S.position)||K.Bottom,V=(M==null?void 0:M.position)||K.Top,Q=!!(N.focusable||m&&typeof N.focusable>"u"),Z=N.reconnectable||N.updatable,ne=typeof h<"u"&&(Z||y&&typeof Z>"u");if(!S||!M)return I==null||I("008",en.error008(S,N)),null;const{sourceX:we,sourceY:Ne,targetX:De,targetY:Re}=wS(P,S,B,C,M,V);return z.createElement(F,{key:N.id,id:N.id,className:$e([N.className,i]),type:O,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:we,sourceY:Ne,targetX:De,targetY:Re,sourcePosition:B,targetPosition:V,elementsSelectable:w,onContextMenu:o,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,rfId:r,ariaLabel:N.ariaLabel,isFocusable:Q,isReconnectable:ne,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:p})})))),_):null};b0.displayName="EdgeRenderer";var RS=k.memo(b0);const PS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function IS({children:e}){const t=le(PS);return z.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function MS(e){const t=Ec(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const zS={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},j0=({nodeId:e,handleType:t,style:n,type:r=dn.Bezier,CustomComponent:s,connectionStatus:i})=>{var A,T,R;const{fromNode:o,handleId:l,toX:a,toY:c,connectionMode:d}=le(k.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),je),f=(A=o==null?void 0:o[me])==null?void 0:A.handleBounds;let h=f==null?void 0:f[t];if(d===Jn.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const g=l?h.find(I=>I.id===l):h[0],v=g?g.x+g.width/2:(o.width??0)/2,x=g?g.y+g.height/2:o.height??0,_=(((T=o.positionAbsolute)==null?void 0:T.x)??0)+v,p=(((R=o.positionAbsolute)==null?void 0:R.y)??0)+x,m=g==null?void 0:g.position,y=m?zS[m]:null;if(!m||!y)return null;if(s)return z.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:g,fromX:_,fromY:p,toX:a,toY:c,fromPosition:m,toPosition:y,connectionStatus:i});let w="";const j={sourceX:_,sourceY:p,sourcePosition:m,targetX:a,targetY:c,targetPosition:y};return r===dn.Bezier?[w]=Gm(j):r===dn.Step?[w]=su({...j,borderRadius:0}):r===dn.SmoothStep?[w]=su(j):r===dn.SimpleBezier?[w]=Km(j):w=`M${_},${p} ${a},${c}`,z.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};j0.displayName="ConnectionLine";const LS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function DS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:l,height:a,connectionStatus:c}=le(LS,je);return!(s&&i&&l&&o)?null:z.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},z.createElement("g",{className:$e(["react-flow__connection",c])},z.createElement(j0,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function Hf(e,t){return k.useRef(null),ke(),k.useMemo(()=>t(e),[e])}const C0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:_,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:j,selectionOnDrag:A,selectionMode:T,multiSelectionKeyCode:R,panActivationKeyCode:I,zoomActivationKeyCode:L,deleteKeyCode:H,onlyRenderVisibleElements:Y,elementsSelectable:W,selectNodesOnDrag:N,defaultViewport:P,translateExtent:b,minZoom:D,maxZoom:C,preventScrolling:E,defaultMarkerColor:$,zoomOnScroll:O,zoomOnPinch:F,panOnScroll:q,panOnScrollSpeed:S,panOnScrollMode:M,zoomOnDoubleClick:B,panOnDrag:V,onPaneClick:Q,onPaneMouseEnter:Z,onPaneMouseMove:ne,onPaneMouseLeave:we,onPaneScroll:Ne,onPaneContextMenu:De,onEdgeContextMenu:Re,onEdgeMouseEnter:ge,onEdgeMouseMove:Ze,onEdgeMouseLeave:ie,onReconnect:G,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:Kr,noDragClassName:nr,noWheelClassName:rr,noPanClassName:Ot,elevateEdgesOnSelect:sr,disableKeyboardA11y:An,nodeOrigin:Tn,nodeExtent:ir,rfId:or})=>{const Gr=Hf(e,fS),Pe=Hf(t,vS);return MS(i),z.createElement(cS,{onPaneClick:Q,onPaneMouseEnter:Z,onPaneMouseMove:ne,onPaneMouseLeave:we,onPaneContextMenu:De,onPaneScroll:Ne,deleteKeyCode:H,selectionKeyCode:j,selectionOnDrag:A,selectionMode:T,onSelectionStart:x,onSelectionEnd:_,multiSelectionKeyCode:R,panActivationKeyCode:I,zoomActivationKeyCode:L,elementsSelectable:W,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:O,zoomOnPinch:F,zoomOnDoubleClick:B,panOnScroll:q,panOnScrollSpeed:S,panOnScrollMode:M,panOnDrag:V,defaultViewport:P,translateExtent:b,minZoom:D,maxZoom:C,onSelectionContextMenu:v,preventScrolling:E,noDragClassName:nr,noWheelClassName:rr,noPanClassName:Ot,disableKeyboardA11y:An},z.createElement(IS,null,z.createElement(RS,{edgeTypes:Pe,onEdgeClick:l,onEdgeDoubleClick:c,onlyRenderVisibleElements:Y,onEdgeContextMenu:Re,onEdgeMouseEnter:ge,onEdgeMouseMove:Ze,onEdgeMouseLeave:ie,onReconnect:G,onReconnectStart:Oe,onReconnectEnd:Dt,reconnectRadius:Kr,defaultMarkerColor:$,noPanClassName:Ot,elevateEdgesOnSelect:!!sr,disableKeyboardA11y:An,rfId:or},z.createElement(DS,{style:m,type:p,component:y,containerStyle:w})),z.createElement("div",{className:"react-flow__edgelabel-renderer"}),z.createElement(mS,{nodeTypes:Gr,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,selectNodesOnDrag:N,onlyRenderVisibleElements:Y,noPanClassName:Ot,noDragClassName:nr,disableKeyboardA11y:An,nodeOrigin:Tn,nodeExtent:ir,rfId:or})))};C0.displayName="GraphView";var OS=k.memo(C0);const uu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:uu,nodeExtent:uu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Jn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:p2,isValidConnection:void 0},FS=()=>Av((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:ql(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?ql(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:a,nodeOrigin:c}=t(),d=a==null?void 0:a.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((x,_)=>{const p=s.get(_.id);if(p!=null&&p.hidden)s.set(p.id,{...p,[me]:{...p[me],handleBounds:void 0}});else if(p){const m=yc(_.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||_.forceUpdate))&&(s.set(p.id,{...p,[me]:{...p[me],handleBounds:{source:Mf(".source",_.nodeElement,h,c),target:Mf(".target",_.nodeElement,h,c)}},...m}),x.push({id:p.id,type:"dimensions",dimensions:m}))}return x},[]);p0(s,c);const v=o||i&&!o&&m0(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const a={id:l.id,type:"position",dragging:s};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const c=y0(n,l()),d=ql(c,s,o,a);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>an(a,!0)):(o=kr(i(),n),l=kr(s,[])),Ii({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>an(a,!0)):(o=kr(s,n),l=kr(i(),[])),Ii({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),l=r||s,a=o.map(d=>(d.selected=!1,an(d.id,!1))),c=l.map(d=>an(d.id,!1));Ii({changedNodes:a,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>an(l.id,!1)),o=n.filter(l=>l.selected).map(l=>an(l.id,!1));Ii({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=xc(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:l,translateExtent:a}=t();if(!o||!l||!n.x&&!n.y)return!1;const c=Xt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],f=o==null?void 0:o.constrain()(c,d,a);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),A0=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=FS()),z.createElement(l2,{value:t.current},e)};A0.displayName="ReactFlowProvider";const T0=({children:e})=>k.useContext(il)?z.createElement(z.Fragment,null,e):z.createElement(A0,null,e);T0.displayName="ReactFlowWrapper";const BS={input:l0,default:lu,output:u0,group:kc},HS={default:zo,straight:Nc,step:wc,smoothstep:ol,simplebezier:vc},VS=[0,0],US=[15,15],WS={x:0,y:0,zoom:1},YS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ul=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=BS,edgeTypes:o=HS,onNodeClick:l,onEdgeClick:a,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:_,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:j,onNodeDoubleClick:A,onNodeDragStart:T,onNodeDrag:R,onNodeDragStop:I,onNodesDelete:L,onEdgesDelete:H,onSelectionChange:Y,onSelectionDragStart:W,onSelectionDrag:N,onSelectionDragStop:P,onSelectionContextMenu:b,onSelectionStart:D,onSelectionEnd:C,connectionMode:E=Jn.Strict,connectionLineType:$=dn.Bezier,connectionLineStyle:O,connectionLineComponent:F,connectionLineContainerStyle:q,deleteKeyCode:S="Backspace",selectionKeyCode:M="Shift",selectionOnDrag:B=!1,selectionMode:V=ei.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:Z=Mo()?"Meta":"Control",zoomActivationKeyCode:ne=Mo()?"Meta":"Control",snapToGrid:we=!1,snapGrid:Ne=US,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:Re=!0,nodesDraggable:ge,nodesConnectable:Ze,nodesFocusable:ie,nodeOrigin:G=VS,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:Kr,defaultViewport:nr=WS,minZoom:rr=.5,maxZoom:Ot=2,translateExtent:sr=uu,preventScrolling:An=!0,nodeExtent:Tn,defaultMarkerColor:ir="#b1b1b7",zoomOnScroll:or=!0,zoomOnPinch:Gr=!0,panOnScroll:Pe=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:$n=Hn.Free,zoomOnDoubleClick:Rn=!0,panOnDrag:Pn=!0,onPaneClick:Ft,onPaneMouseEnter:Ct,onPaneMouseMove:Qr,onPaneMouseLeave:fl,onPaneScroll:Zr,onPaneContextMenu:hl,children:Fc,onEdgeContextMenu:In,onEdgeDoubleClick:J0,onEdgeMouseEnter:eg,onEdgeMouseMove:tg,onEdgeMouseLeave:ng,onEdgeUpdate:rg,onEdgeUpdateStart:sg,onEdgeUpdateEnd:ig,onReconnect:og,onReconnectStart:lg,onReconnectEnd:ag,reconnectRadius:ug=10,edgeUpdaterRadius:cg=10,onNodesChange:dg,onEdgesChange:fg,noDragClassName:hg="nodrag",noWheelClassName:pg="nowheel",noPanClassName:Bc="nopan",fitView:mg=!1,fitViewOptions:gg,connectOnClick:yg=!0,attributionPosition:xg,proOptions:vg,defaultEdgeOptions:wg,elevateNodesOnSelect:Ng=!0,elevateEdgesOnSelect:Sg=!1,disableKeyboardA11y:Hc=!1,autoPanOnConnect:_g=!0,autoPanOnNodeDrag:kg=!0,connectionRadius:Eg=20,isValidConnection:bg,onError:jg,style:Cg,id:Vc,nodeDragThreshold:Ag,...Tg},$g)=>{const pl=Vc||"1";return z.createElement("div",{...Tg,style:{...Cg,...YS},ref:$g,className:$e(["react-flow",s]),"data-testid":"rf__wrapper",id:Vc},z.createElement(T0,null,z.createElement(OS,{onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:j,onNodeDoubleClick:A,nodeTypes:i,edgeTypes:o,connectionLineType:$,connectionLineStyle:O,connectionLineComponent:F,connectionLineContainerStyle:q,selectionKeyCode:M,selectionOnDrag:B,selectionMode:V,deleteKeyCode:S,multiSelectionKeyCode:Z,panActivationKeyCode:Q,zoomActivationKeyCode:ne,onlyRenderVisibleElements:De,selectNodesOnDrag:Re,defaultViewport:nr,translateExtent:sr,minZoom:rr,maxZoom:Ot,preventScrolling:An,zoomOnScroll:or,zoomOnPinch:Gr,zoomOnDoubleClick:Rn,panOnScroll:Pe,panOnScrollSpeed:gt,panOnScrollMode:$n,panOnDrag:Pn,onPaneClick:Ft,onPaneMouseEnter:Ct,onPaneMouseMove:Qr,onPaneMouseLeave:fl,onPaneScroll:Zr,onPaneContextMenu:hl,onSelectionContextMenu:b,onSelectionStart:D,onSelectionEnd:C,onEdgeContextMenu:In,onEdgeDoubleClick:J0,onEdgeMouseEnter:eg,onEdgeMouseMove:tg,onEdgeMouseLeave:ng,onReconnect:og??rg,onReconnectStart:lg??sg,onReconnectEnd:ag??ig,reconnectRadius:ug??cg,defaultMarkerColor:ir,noDragClassName:hg,noWheelClassName:pg,noPanClassName:Bc,elevateEdgesOnSelect:Sg,rfId:pl,disableKeyboardA11y:Hc,nodeOrigin:G,nodeExtent:Tn}),z.createElement(z2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:_,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:Ze,nodesFocusable:ie,edgesFocusable:Oe,edgesUpdatable:Dt,elementsSelectable:Kr,elevateNodesOnSelect:Ng,minZoom:rr,maxZoom:Ot,nodeExtent:Tn,onNodesChange:dg,onEdgesChange:fg,snapToGrid:we,snapGrid:Ne,connectionMode:E,translateExtent:sr,connectOnClick:yg,defaultEdgeOptions:wg,fitView:mg,fitViewOptions:gg,onNodesDelete:L,onEdgesDelete:H,onNodeDragStart:T,onNodeDrag:R,onNodeDragStop:I,onSelectionDrag:N,onSelectionDragStart:W,onSelectionDragStop:P,noPanClassName:Bc,nodeOrigin:G,rfId:pl,autoPanOnConnect:_g,autoPanOnNodeDrag:kg,onError:jg,connectionRadius:Eg,isValidConnection:bg,nodeDragThreshold:Ag}),z.createElement(I2,{onSelectionChange:Y}),Fc,z.createElement(u2,{proOptions:vg,position:xg}),z.createElement(B2,{rfId:pl,disableKeyboardA11y:Hc})))});ul.displayName="ReactFlow";function $0(e){return t=>{const[n,r]=k.useState(t),s=k.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const jc=$0(y0),Cc=$0(tS),R0=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:a,className:c,borderRadius:d,shapeRendering:f,onClick:h,selected:g})=>{const{background:v,backgroundColor:x}=i||{},_=o||v||x;return z.createElement("rect",{className:$e(["react-flow__minimap-node",{selected:g},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:_,stroke:l,strokeWidth:a,shapeRendering:f,onClick:h?p=>h(p,e):void 0})};R0.displayName="MiniMapNode";var qS=k.memo(R0);const XS=e=>e.nodeOrigin,KS=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ql=e=>e instanceof Function?e:()=>e;function GS({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=qS,onClick:o}){const l=le(KS,je),a=le(XS),c=Ql(t),d=Ql(e),f=Ql(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return z.createElement(z.Fragment,null,l.map(g=>{const{x:v,y:x}=Yn(g,a).positionAbsolute;return z.createElement(i,{key:g.id,x:v,y:x,width:g.width,height:g.height,style:g.style,selected:g.selected,className:f(g),color:c(g),borderRadius:r,strokeColor:d(g),strokeWidth:s,shapeRendering:h,onClick:o,id:g.id})}))}var QS=k.memo(GS);const ZS=200,JS=150,e_=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?f2(al(t,e.nodeOrigin),n):n,rfId:e.rfId}},t_="react-flow__minimap-desc";function P0({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:g,pannable:v=!1,zoomable:x=!1,ariaLabel:_="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:y=5}){const w=ke(),j=k.useRef(null),{boundingRect:A,viewBB:T,rfId:R}=le(e_,je),I=(e==null?void 0:e.width)??ZS,L=(e==null?void 0:e.height)??JS,H=A.width/I,Y=A.height/L,W=Math.max(H,Y),N=W*I,P=W*L,b=y*W,D=A.x-(N-A.width)/2-b,C=A.y-(P-A.height)/2-b,E=N+b*2,$=P+b*2,O=`${t_}-${R}`,F=k.useRef(0);F.current=W,k.useEffect(()=>{if(j.current){const M=ut(j.current),B=Z=>{const{transform:ne,d3Selection:we,d3Zoom:Ne}=w.getState();if(Z.sourceEvent.type!=="wheel"||!we||!Ne)return;const De=-Z.sourceEvent.deltaY*(Z.sourceEvent.deltaMode===1?.05:Z.sourceEvent.deltaMode?1:.002)*m,Re=ne[2]*Math.pow(2,De);Ne.scaleTo(we,Re)},V=Z=>{const{transform:ne,d3Selection:we,d3Zoom:Ne,translateExtent:De,width:Re,height:ge}=w.getState();if(Z.sourceEvent.type!=="mousemove"||!we||!Ne)return;const Ze=F.current*Math.max(1,ne[2])*(p?-1:1),ie={x:ne[0]-Z.sourceEvent.movementX*Ze,y:ne[1]-Z.sourceEvent.movementY*Ze},G=[[0,0],[Re,ge]],Oe=Xt.translate(ie.x,ie.y).scale(ne[2]),Dt=Ne.constrain()(Oe,G,De);Ne.transform(we,Dt)},Q=Om().on("zoom",v?V:null).on("zoom.wheel",x?B:null);return M.call(Q),()=>{M.on("zoom",null)}}},[v,x,p,m]);const q=h?M=>{const B=wt(M);h(M,{x:B[0],y:B[1]})}:void 0,S=g?(M,B)=>{const V=w.getState().nodeInternals.get(B);g(M,V)}:void 0;return z.createElement(gc,{position:f,style:e,className:$e(["react-flow__minimap",t]),"data-testid":"rf__minimap"},z.createElement("svg",{width:I,height:L,viewBox:`${D} ${C} ${E} ${$}`,role:"img","aria-labelledby":O,ref:j,onClick:q},_&&z.createElement("title",{id:O},_),z.createElement(QS,{onClick:S,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),z.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-b},${C-b}h${E+b*2}v${$+b*2}h${-E-b*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:a,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}P0.displayName="MiniMap";var Ac=k.memo(P0);function n_(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},z.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function r_(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},z.createElement("path",{d:"M0 0h32v4.2H0z"}))}function s_(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},z.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function i_(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function o_(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ws=({children:e,className:t,...n})=>z.createElement("button",{type:"button",className:$e(["react-flow__controls-button",t]),...n},e);ws.displayName="ControlButton";const l_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),I0=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:a,className:c,children:d,position:f="bottom-left"})=>{const h=ke(),[g,v]=k.useState(!1),{isInteractive:x,minZoomReached:_,maxZoomReached:p}=le(l_,je),{zoomIn:m,zoomOut:y,fitView:w}=Ec();if(k.useEffect(()=>{v(!0)},[]),!g)return null;const j=()=>{m(),i==null||i()},A=()=>{y(),o==null||o()},T=()=>{w(s),l==null||l()},R=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)};return z.createElement(gc,{className:$e(["react-flow__controls",c]),position:f,style:e,"data-testid":"rf__controls"},t&&z.createElement(z.Fragment,null,z.createElement(ws,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},z.createElement(n_,null)),z.createElement(ws,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},z.createElement(r_,null))),n&&z.createElement(ws,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},z.createElement(s_,null)),r&&z.createElement(ws,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},x?z.createElement(o_,null):z.createElement(i_,null)),d)};I0.displayName="Controls";var Tc=k.memo(I0),ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ht||(ht={}));function a_({color:e,dimensions:t,lineWidth:n}){return z.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function u_({color:e,radius:t}){return z.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const c_={[ht.Dots]:"#91919a",[ht.Lines]:"#eee",[ht.Cross]:"#e2e2e2"},d_={[ht.Dots]:1,[ht.Lines]:1,[ht.Cross]:6},f_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function M0({id:e,variant:t=ht.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:l,className:a}){const c=k.useRef(null),{transform:d,patternId:f}=le(f_,je),h=o||c_[t],g=r||d_[t],v=t===ht.Dots,x=t===ht.Cross,_=Array.isArray(n)?n:[n,n],p=[_[0]*d[2]||1,_[1]*d[2]||1],m=g*d[2],y=x?[m,m]:p,w=v?[m/i,m/i]:[y[0]/i,y[1]/i];return z.createElement("svg",{className:$e(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},z.createElement("pattern",{id:f+e,x:d[0]%p[0],y:d[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?z.createElement(u_,{color:h,radius:m/i}):z.createElement(a_,{dimensions:y,color:h,lineWidth:s})),z.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}M0.displayName="Background";var $c=k.memo(M0);const Rc=k.memo(({data:e})=>{const[t,n]=k.useState(!1),r=o=>o?o.includes("P0")?"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)":o.includes("P1")?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #fcd34d 100%)":o.includes("P2")?"linear-gradient(135deg, #3b82f6 0%, #60a5fa 50%, #93c5fd 100%)":"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)":"linear-gradient(135deg, #9ca3af 0%, #d1d5db 100%)",s=o=>o?o.includes("P0")?"0 0 30px rgba(239, 68, 68, 0.6), 0 0 60px rgba(239, 68, 68, 0.3)":o.includes("P1")?"0 0 30px rgba(245, 158, 11, 0.6), 0 0 60px rgba(245, 158, 11, 0.3)":o.includes("P2")?"0 0 30px rgba(59, 130, 246, 0.6), 0 0 60px rgba(59, 130, 246, 0.3)":"0 0 30px rgba(16, 185, 129, 0.6), 0 0 60px rgba(16, 185, 129, 0.3)":"0 0 20px rgba(156, 163, 175, 0.3)",i=o=>o?o.includes("P0")?"🔥":o.includes("P1")?"⚡":o.includes("P2")?"💎":"✨":"📋";return u.jsxs("div",{className:"relative min-w-[320px] transition-all duration-500 float",style:{filter:`drop-shadow(${s(e.priority)})`},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[u.jsx(Qe,{type:"target",position:K.Left,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125"}),u.jsx("div",{className:"relative rounded-2xl p-[3px] transition-all duration-500 shimmer",style:{background:r(e.priority),transform:t?"scale(1.05) translateY(-5px)":"scale(1)"},children:u.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-5 shadow-xl",children:u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"text-4xl transition-transform duration-300",style:{animation:t?"scalePulse 1s ease-in-out infinite":"none"},children:i(e.priority)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("h3",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-800 to-gray-600",children:["#",e.number]}),e.priority&&u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider glass-effect-dark text-white",children:e.priority.split(":")[1]||e.priority})]}),u.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed line-clamp-2",children:e.title})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.state&&u.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 text-xs font-bold uppercase tracking-wide border border-indigo-200/50",children:e.state.includes(":")?e.state.split(":")[1]:e.state}),e.assignedAgents.length>0&&u.jsxs("span",{className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 text-xs font-bold uppercase tracking-wide border border-purple-200/50 flex items-center gap-1",children:[u.jsx("span",{children:"🤖"}),u.jsxs("span",{children:[e.assignedAgents.length," Agent",e.assignedAgents.length>1?"s":""]})]})]})]})})}),u.jsx(Qe,{type:"source",position:K.Right,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125"})]})});Rc.displayName="IssueNode";const Lo={coordinator:{id:"coordinator",name:"CoordinatorAgent",emoji:"🎯",color:"#FF79C6",description:"Task orchestration and DAG decomposition"},codegen:{id:"codegen",name:"CodeGenAgent",emoji:"💻",color:"#00D9FF",description:"AI-driven code generation"},review:{id:"review",name:"ReviewAgent",emoji:"👀",color:"#00FF88",description:"Code quality review and scoring"},issue:{id:"issue",name:"IssueAgent",emoji:"📋",color:"#8B88FF",description:"Issue analysis and labeling"},pr:{id:"pr",name:"PRAgent",emoji:"🔀",color:"#FF79C6",description:"Pull request management"},deployment:{id:"deployment",name:"DeploymentAgent",emoji:"🚀",color:"#FF4444",description:"CI/CD deployment automation"},test:{id:"test",name:"TestAgent",emoji:"🧪",color:"#FBCA04",description:"Automated testing"}},h_={pending:{name:"state:pending",emoji:"📥",color:"#E4E4E4",description:"Issue created, awaiting triage"},analyzing:{name:"state:analyzing",emoji:"🔍",color:"#0E8A16",description:"CoordinatorAgent analyzing"},implementing:{name:"state:implementing",emoji:"🏗️",color:"#1D76DB",description:"Specialist Agents working"},reviewing:{name:"state:reviewing",emoji:"👀",color:"#FBCA04",description:"ReviewAgent conducting checks"},done:{name:"state:done",emoji:"✅",color:"#2EA44F",description:"Completed successfully"},blocked:{name:"state:blocked",emoji:"🔴",color:"#D73A4A",description:"Blocked - requires intervention"},failed:{name:"state:failed",emoji:"🛑",color:"#B60205",description:"Execution failed"},paused:{name:"state:paused",emoji:"⏸️",color:"#D4C5F9",description:"Paused - waiting"}},Pc=k.memo(({data:e})=>{const t=Lo[e.agentId],[n,r]=k.useState(!0),[s,i]=k.useState(!1),o=()=>{switch(e.status){case"running":return"0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(139, 92, 246, 0.5), 0 0 120px rgba(139, 92, 246, 0.3)";case"completed":return"0 0 40px rgba(16, 185, 129, 0.8), 0 0 80px rgba(16, 185, 129, 0.5), 0 0 120px rgba(16, 185, 129, 0.3)";case"error":return"0 0 40px rgba(239, 68, 68, 0.8), 0 0 80px rgba(239, 68, 68, 0.5), 0 0 120px rgba(239, 68, 68, 0.3)";default:return"0 0 20px rgba(107, 114, 128, 0.4), 0 0 40px rgba(107, 114, 128, 0.2)"}},l=()=>{switch(e.status){case"running":return"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)";case"completed":return"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)";case"error":return"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)";default:return"linear-gradient(135deg, #6b7280 0%, #9ca3af 50%, #d1d5db 100%)"}},a=()=>e.status==="running"?"scale-pulse":e.status==="completed"?"float":"";return u.jsxs("div",{className:`relative w-[460px] transition-all duration-700 ${a()}`,style:{filter:`drop-shadow(${o()})`},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[u.jsx(Qe,{type:"target",position:K.Left,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"}),u.jsx("div",{className:"relative rounded-3xl p-[4px] transition-all duration-700 shimmer",style:{background:l(),transform:s?"scale(1.08) translateY(-8px)":e.status==="running"?"scale(1.05)":"scale(1)",backgroundSize:"200% 200%",animation:e.status==="running"?"gradientShift 3s ease infinite":"none"},children:u.jsxs("div",{className:"relative rounded-3xl bg-gradient-to-br from-gray-900/95 via-gray-800/95 to-gray-900/95 backdrop-blur-2xl p-7 shadow-2xl",children:[e.status==="running"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent animate-pulse"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 via-transparent to-pink-600/10",style:{animation:"gradientShift 4s ease infinite"}})]}),u.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-purple-400 rounded-full animate-ping"}),u.jsx("div",{className:"absolute top-8 right-8 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.3s"}}),u.jsx("div",{className:"absolute top-6 right-12 w-1 h-1 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"0.6s"}})]}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex items-start justify-between mb-5",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-6xl relative",style:{filter:e.status==="running"?"drop-shadow(0 0 20px rgba(139, 92, 246, 0.8))":e.status==="completed"?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.8))":"none",animation:e.status==="running"?"scalePulse 2s ease-in-out infinite":"none"},children:(t==null?void 0:t.emoji)||"🤖"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-100 to-white tracking-wide",children:e.name}),u.jsx("p",{className:"text-sm text-gray-300 font-medium mt-1",children:t==null?void 0:t.description})]})]})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.status==="running"&&u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/30 backdrop-blur-sm",children:[u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:"absolute h-4 w-4 rounded-full bg-purple-500 animate-ping"}),u.jsx("div",{className:"absolute h-3 w-3 rounded-full bg-purple-400 animate-pulse"}),u.jsx("div",{className:"relative h-2.5 w-2.5 rounded-full bg-white"})]}),u.jsx("span",{className:"text-sm font-bold gradient-text",children:"🔥 RUNNING"})]}),e.status==="idle"&&u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-700/40 border border-gray-600/30",children:[u.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"💤 IDLE"})]}),e.status==="completed"&&u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl",children:"✨"}),u.jsx("span",{className:"text-sm font-bold gradient-text-success",children:"COMPLETED"})]}),e.status==="error"&&u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-red-500/20 to-pink-500/20 border border-red-400/30 backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl",children:"⚠️"}),u.jsx("span",{className:"text-sm font-bold gradient-text-error",children:"ERROR"})]})]}),e.currentIssue&&u.jsxs("div",{className:"mb-4 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-indigo-400/20 px-4 py-3 backdrop-blur-sm",children:[u.jsx("div",{className:"text-xs font-bold text-indigo-300 mb-1 uppercase tracking-wider",children:"📌 Current Task"}),u.jsxs("div",{className:"text-base font-mono font-bold text-white",children:["Issue #",e.currentIssue]})]}),e.status==="running"&&u.jsxs("div",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-bold text-gray-200 uppercase tracking-wider",children:"⚡ Progress"}),u.jsxs("span",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:[e.progress,"%"]})]}),u.jsxs("div",{className:"relative h-4 rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20"}),u.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 transition-all duration-1000 ease-out shadow-lg",style:{width:`${e.progress}%`,boxShadow:"0 0 20px rgba(139, 92, 246, 0.8), 0 0 40px rgba(236, 72, 153, 0.6)"},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]}),e.progress>5&&u.jsx("div",{className:"absolute top-0 h-full w-1 bg-white/80 shadow-lg transition-all duration-1000 ease-out",style:{left:`${e.progress}%`,filter:"drop-shadow(0 0 4px white)"}})]})]}),e.parameters&&Object.keys(e.parameters).length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 border border-purple-400/20 hover:border-purple-400/40 px-4 py-3 transition-all duration-300 group",children:[u.jsxs("span",{className:"text-sm font-bold text-purple-200 uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{className:`transition-transform duration-300 ${n?"rotate-90":""}`,children:"▶"}),u.jsx("span",{children:"⚙️ Parameters"})]}),u.jsx("span",{className:"text-xs font-semibold text-purple-300 bg-purple-500/20 px-3 py-1 rounded-full",children:Object.keys(e.parameters).length})]}),n&&u.jsx("div",{className:"mt-3 space-y-3 max-h-56 overflow-y-auto rounded-xl bg-black/40 p-4 border border-purple-500/20 backdrop-blur-sm",children:Object.entries(e.parameters).map(([c,d])=>u.jsxs("div",{className:"relative border-l-4 border-gradient-to-b from-purple-500 to-pink-500 pl-4 py-2 bg-gradient-to-r from-purple-500/5 to-transparent rounded-r-lg",children:[u.jsx("div",{className:"text-xs font-mono font-black text-purple-300 uppercase tracking-wider mb-1",children:c}),u.jsx("div",{className:"text-sm font-mono text-gray-200 break-words leading-relaxed",children:typeof d=="object"?JSON.stringify(d,null,2):String(d)})]},c))})]})]})]})}),u.jsx(Qe,{type:"source",position:K.Right,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"})]})});Pc.displayName="AgentNode";const Ic=k.memo(({data:e})=>{const[t,n]=k.useState(!1),r=i=>{const l=(a=>{const c=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),f=parseInt(a.slice(5,7),16);return`${c}, ${d}, ${f}`})(i);return`linear-gradient(135deg, rgba(${l}, 1) 0%, rgba(${l}, 0.7) 50%, rgba(${l}, 0.9) 100%)`},s=i=>{const l=(a=>{const c=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),f=parseInt(a.slice(5,7),16);return`${c}, ${d}, ${f}`})(i);return`0 0 30px rgba(${l}, 0.6), 0 0 60px rgba(${l}, 0.3)`};return u.jsxs("div",{className:"relative min-w-[240px] transition-all duration-500 scale-pulse",style:{filter:`drop-shadow(${s(e.color)})`},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[u.jsx(Qe,{type:"target",position:K.Left,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}}),u.jsx("div",{className:"relative rounded-3xl p-[3px] transition-all duration-500 shimmer",style:{background:r(e.color),transform:t?"scale(1.1) translateY(-8px)":"scale(1)"},children:u.jsx("div",{className:"relative rounded-3xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-6 shadow-2xl",children:u.jsxs("div",{className:"text-center relative z-10",children:[u.jsx("div",{className:"text-5xl mb-3 inline-block",style:{animation:e.count>0?"scalePulse 2s ease-in-out infinite":"none",filter:e.count>0?`drop-shadow(0 0 10px ${e.color}80)`:"none"},children:e.emoji}),u.jsx("h3",{className:"text-base font-black text-transparent bg-clip-text mb-3",style:{backgroundImage:`linear-gradient(135deg, ${e.color}, ${e.color}cc)`},children:e.label.includes(":")?e.label.split(":")[1]:e.label}),e.count>0&&u.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl text-2xl font-black text-white shadow-lg mb-3 relative overflow-hidden",style:{background:r(e.color),boxShadow:`0 0 30px ${e.color}60, 0 0 60px ${e.color}30`},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"}),u.jsx("span",{className:"relative z-10",children:e.count})]}),u.jsx("p",{className:"text-xs text-gray-600 font-medium leading-relaxed",children:e.description})]})})}),u.jsx(Qe,{type:"source",position:K.Right,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}})]})});Ic.displayName="StateNode";function z0({nodes:e}){const t=k.useMemo(()=>{const n=e.filter(g=>g.type==="issue"),r=e.filter(g=>g.type==="agent"),s=e.filter(g=>g.type==="state"),i={};n.forEach(g=>{const x=g.data.state||"unknown";i[x]=(i[x]||0)+1});const o=r.filter(g=>g.data.status==="running").length,l=r.filter(g=>g.data.status==="idle").length,a=r.filter(g=>g.data.status==="error").length,c=n.filter(g=>{var v;return(v=g.data.priority)==null?void 0:v.includes("P0")}).length,d=n.filter(g=>{var v;return(v=g.data.priority)==null?void 0:v.includes("P1")}).length,f=n.filter(g=>{var x,_;const v=g.data;return((x=v.state)==null?void 0:x.includes("done"))||((_=v.state)==null?void 0:_.includes("completed"))}).length;return{cards:[{label:"Total Issues",value:n.length,icon:"📋",color:"#3B82F6",bgColor:"#EFF6FF"},{label:"Running Agents",value:o,icon:"🤖",color:"#10B981",bgColor:"#D1FAE5"},{label:"Completed",value:f,icon:"✅",color:"#22C55E",bgColor:"#DCFCE7"},{label:"Critical (P0/P1)",value:c+d,icon:"🔥",color:"#EF4444",bgColor:"#FEE2E2"},{label:"Idle Agents",value:l,icon:"💤",color:"#6B7280",bgColor:"#F3F4F6"},{label:"Errors",value:a,icon:"⚠️",color:"#F59E0B",bgColor:"#FEF3C7"}],issuesByState:i,totalAgents:r.length,totalStates:s.length}},[e]);return u.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[u.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:t.cards.map((n,r)=>u.jsx("div",{className:"group relative rounded-2xl p-[2px] transition-all duration-500 hover:scale-110 hover:rotate-1 shimmer",style:{background:`linear-gradient(135deg, ${n.color}, ${n.color}dd)`,animationDelay:`${r*.1}s`},children:u.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 p-4 backdrop-blur-xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-3xl transition-transform duration-300 group-hover:scale-125",style:{filter:`drop-shadow(0 0 10px ${n.color}80)`,animation:n.label==="Running Agents"&&typeof n.value=="number"&&n.value>0?"scalePulse 2s ease-in-out infinite":"none"},children:n.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-300",children:n.label}),u.jsx("p",{className:"text-3xl font-black transition-all duration-300 group-hover:scale-110",style:{color:n.color,textShadow:`0 0 20px ${n.color}60`},children:n.value})]})]}),u.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300 group-hover:opacity-100",style:{background:`radial-gradient(circle at 50% 50%, ${n.color}20, transparent 70%)`}})]})},n.label))}),u.jsxs("div",{className:"mt-6 rounded-2xl glass-effect p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider text-gray-200 flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📈"}),u.jsx("span",{children:"Completion Rate"})]}),u.jsx("span",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400",children:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%"})]}),u.jsxs("div",{className:"relative h-4 w-full rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),u.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 transition-all duration-1000 ease-out shadow-lg",style:{width:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%",boxShadow:"0 0 20px rgba(16, 185, 129, 0.8), 0 0 40px rgba(16, 185, 129, 0.6)"},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]})]})]})]})}function p_({selectedNode:e,onClose:t}){const n=k.useMemo(()=>{if(!e)return null;switch(e.type){case"issue":{const r=e.data;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:"📋"}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Issue #",r.number]}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.title})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),u.jsx("p",{className:"mt-1 rounded bg-gray-100 px-2 py-1 text-sm font-medium",children:r.state||"Unknown"})]}),r.priority&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Priority"}),u.jsx("p",{className:"mt-1 rounded bg-orange-100 px-2 py-1 text-sm font-medium text-orange-800",children:r.priority})]}),r.severity&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Severity"}),u.jsx("p",{className:"mt-1 rounded bg-red-100 px-2 py-1 text-sm font-medium text-red-800",children:r.severity})]}),r.assignedAgents.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Assigned Agents (",r.assignedAgents.length,")"]}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.assignedAgents.map(s=>{const i=Lo[s];return u.jsxs("span",{className:"flex items-center gap-1 rounded bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800",children:[(i==null?void 0:i.emoji)||"🤖"," ",(i==null?void 0:i.name)||s]},s)})})]}),r.labels&&r.labels.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Labels (",r.labels.length,")"]}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.labels.map(s=>u.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-800",children:s},s))})]}),u.jsx("div",{children:u.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:[u.jsx("span",{children:"View on GitHub"}),u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})]})}case"agent":{const r=e.data,s=Lo[r.agentId];return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:(s==null?void 0:s.emoji)||"🤖"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s==null?void 0:s.description})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),u.jsxs("div",{className:"mt-1",children:[r.status==="running"&&u.jsxs("span",{className:"flex items-center gap-2 rounded bg-green-100 px-3 py-1.5 text-sm font-semibold text-green-800",children:[u.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-green-600"}),"Running"]}),r.status==="idle"&&u.jsx("span",{className:"rounded bg-gray-100 px-3 py-1.5 text-sm font-semibold text-gray-800",children:"Idle"}),r.status==="error"&&u.jsx("span",{className:"rounded bg-red-100 px-3 py-1.5 text-sm font-semibold text-red-800",children:"Error"}),r.status==="completed"&&u.jsx("span",{className:"rounded bg-emerald-100 px-3 py-1.5 text-sm font-semibold text-emerald-800",children:"✓ Completed"})]})]}),r.currentIssue&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Current Issue"}),u.jsxs("p",{className:"mt-1 rounded bg-blue-100 px-2 py-1 text-sm font-medium text-blue-800",children:["#",r.currentIssue]})]}),r.status==="running"&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Progress"}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"h-3 w-full rounded-full bg-gray-200",children:u.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${r.progress}%`}})}),u.jsxs("p",{className:"mt-1 text-right text-sm font-semibold text-gray-700",children:[r.progress,"%"]})]})]}),r.lastActivity&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Last Activity"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.lastActivity})]})]})]})}case"state":{const r=e.data;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:r.emoji}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.label}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.description})]})]}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Issues in this state"}),u.jsx("p",{className:"mt-1 inline-block rounded-full px-4 py-2 text-2xl font-bold text-white",style:{backgroundColor:r.color},children:r.count})]})})]})}default:return null}},[e]);return e?u.jsxs("div",{className:"absolute right-0 top-0 z-20 h-full w-80 border-l border-gray-200 bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-500",children:"Details"}),u.jsx("button",{onClick:t,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close sidebar",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"overflow-y-auto p-4",style:{height:"calc(100% - 60px)"},children:n})]}):null}function L0({activities:e,maxItems:t=50}){const n=k.useMemo(()=>e.slice(0,t),[e,t]),r=s=>{try{const i=new Date(s),l=new Date().getTime()-i.getTime(),a=Math.floor(l/1e3),c=Math.floor(a/60),d=Math.floor(c/60);return a<60?`${a}s ago`:c<60?`${c}m ago`:d<24?`${d}h ago`:i.toLocaleString()}catch{return s}};return u.jsxs("div",{className:"glass-effect-dark border-t border-white/10",children:[u.jsx("div",{className:"border-b border-white/10 px-6 py-3 backdrop-blur-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-base font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400 uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📊"}),u.jsx("span",{children:"Activity Log"})]}),u.jsxs("span",{className:"glass-effect px-3 py-1 text-xs font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 rounded-full",children:[n.length," Events"]})]})}),u.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:n.length===0?u.jsxs("div",{className:"p-10 text-center",children:[u.jsx("div",{className:"text-5xl mb-3",children:"💤"}),u.jsx("p",{className:"text-sm font-semibold text-gray-400",children:"No activity yet"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Waiting for events..."})]}):u.jsx("div",{className:"divide-y divide-white/5",children:n.map((s,i)=>u.jsxs("div",{className:"group flex items-start gap-4 px-6 py-4 transition-all duration-300 hover:bg-white/5 relative",style:{animation:`fadeIn 0.3s ease-out ${i*.05}s both`},children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-xl text-xl transition-all duration-300 group-hover:scale-110",style:{background:`linear-gradient(135deg, ${s.color}, ${s.color}dd)`,boxShadow:`0 0 20px ${s.color}40`},children:s.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white leading-relaxed break-words",children:s.message}),u.jsx("p",{className:"mt-1 text-xs font-semibold text-gray-400",children:r(s.timestamp)})]}),u.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{background:`radial-gradient(circle at 10% 50%, ${s.color}10, transparent 70%)`}})]},s.id))})})]})}const m_=["P0-Critical","P1-High","P2-Medium","P3-Low"];function g_({filters:e,onFilterChange:t,onClose:n}){const[r,s]=k.useState(e),i=d=>{const f=r.states.includes(d)?r.states.filter(h=>h!==d):[...r.states,d];s({...r,states:f})},o=d=>{const f=r.agents.includes(d)?r.agents.filter(h=>h!==d):[...r.agents,d];s({...r,agents:f})},l=d=>{const f=r.priorities.includes(d)?r.priorities.filter(h=>h!==d):[...r.priorities,d];s({...r,priorities:f})},a=()=>{t(r),n()},c=()=>{const d={states:[],agents:[],priorities:[],showOnlyActive:!1};s(d),t(d)};return u.jsxs("div",{className:"absolute left-4 top-24 z-30 w-80 rounded-lg border border-gray-200 bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-700",children:"Filters"}),u.jsx("button",{onClick:n,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close filters",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"States"}),u.jsx("div",{className:"space-y-1",children:Object.entries(h_).map(([d,f])=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.states.includes(f.name),onChange:()=>i(f.name),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-lg",children:f.emoji}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:f.name.split(":")[1]||f.name})]},d))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Agents"}),u.jsx("div",{className:"space-y-1",children:Object.entries(Lo).map(([d,f])=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.agents.includes(f.id),onChange:()=>o(f.id),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),u.jsx("span",{className:"text-lg",children:f.emoji}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:f.name})]},d))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Priority"}),u.jsx("div",{className:"space-y-1",children:m_.map(d=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.priorities.includes(d),onChange:()=>l(d),className:"h-4 w-4 rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:d})]},d))})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded bg-blue-50 p-3",children:[u.jsx("input",{type:"checkbox",checked:r.showOnlyActive,onChange:d=>s({...r,showOnlyActive:d.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"flex-1 text-sm font-medium text-blue-900",children:"Show only active items"})]})})]}),u.jsxs("div",{className:"flex gap-2 border-t border-gray-200 p-4",children:[u.jsx("button",{onClick:c,className:"flex-1 rounded border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Reset"}),u.jsx("button",{onClick:a,className:"flex-1 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:"Apply"})]})]})}const fs=[{id:"discovery",name:"Task Discovery",nameJa:"タスク発見",description:"GitHubからIssueを読み込んで、処理すべきタスクを発見します",icon:"📥",color:"#6366F1"},{id:"analysis",name:"Analysis",nameJa:"分析",description:"CoordinatorAgentがIssueを分析し、タイプ・優先度・複雑度を判定します",icon:"🔍",color:"#10B981"},{id:"decomposition",name:"Task Decomposition",nameJa:"タスク分解",description:"Issueを複数のサブタスクに分解し、実行可能な単位にします",icon:"🧩",color:"#F59E0B"},{id:"assignment",name:"Agent Assignment",nameJa:"Agent割り当て",description:"各サブタスクに最適なSpecialist Agentを選択・割り当てます",icon:"🎯",color:"#8B5CF6"},{id:"execution",name:"Execution",nameJa:"実行",description:"Specialist Agentがタスクを実行し、コード生成・レビュー・PRを作成します",icon:"💻",color:"#EC4899"}];function y_({currentStage:e,completedStages:t}){var r;const n=k.useMemo(()=>e?fs.findIndex(s=>s.id===e):-1,[e]);return u.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"🚀"}),u.jsx("span",{children:"自律ワークフロー / Autonomous Workflow"})]}),u.jsx("p",{className:"text-sm text-gray-300 mt-1 font-medium",children:e?((r=fs.find(s=>s.id===e))==null?void 0:r.description)||"Processing...":"Waiting for tasks..."})]}),n>=0&&u.jsxs("div",{className:"rounded-full glass-effect px-4 py-2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:["Step ",n+1," / ",fs.length]})]}),u.jsx("div",{className:"flex items-center gap-2",children:fs.map((s,i)=>{const o=t.includes(s.id),l=e===s.id;return u.jsxs("div",{className:"flex flex-1 items-center",children:[u.jsx("div",{className:`relative flex flex-1 flex-col items-center rounded-2xl p-[2px] transition-all duration-500 ${l?"scale-110 shimmer":o?"scale-105":"opacity-60 scale-95"}`,style:{background:l?`linear-gradient(135deg, ${s.color}, ${s.color}dd)`:o?"linear-gradient(135deg, #10b981, #34d399)":"linear-gradient(135deg, #6b7280, #9ca3af)",filter:l?`drop-shadow(0 0 20px ${s.color}80)`:o?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.6))":"none"},children:u.jsxs("div",{className:"w-full rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl p-4",children:[u.jsxs("div",{className:"relative mb-3 flex justify-center",children:[u.jsx("span",{className:"text-4xl transition-transform duration-300",style:{animation:l?"scalePulse 2s ease-in-out infinite":"none",filter:l?`drop-shadow(0 0 15px ${s.color})`:o?"drop-shadow(0 0 10px rgba(16, 185, 129, 0.8))":"none"},children:s.icon}),o&&u.jsx("div",{className:"absolute -right-2 -top-1 flex h-7 w-7 items-center justify-center rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm text-white font-bold shadow-lg",children:"✓"}),l&&u.jsxs("div",{className:"absolute -right-2 -top-1",children:[u.jsx("div",{className:"h-4 w-4 animate-ping rounded-full",style:{backgroundColor:s.color}}),u.jsx("div",{className:"absolute top-0 h-4 w-4 rounded-full",style:{backgroundColor:s.color}})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`text-sm font-black mb-1 ${l||o?"text-white":"text-gray-400"}`,children:s.nameJa}),u.jsx("div",{className:`text-[10px] font-semibold ${l||o?"text-gray-300":"text-gray-500"}`,children:s.name})]}),l&&u.jsx("div",{className:"mt-3 h-1.5 w-full overflow-hidden rounded-full bg-gray-700/50",children:u.jsx("div",{className:"h-full animate-pulse rounded-full shadow-lg",style:{background:`linear-gradient(90deg, ${s.color}, ${s.color}dd, ${s.color})`,boxShadow:`0 0 10px ${s.color}80`,width:"100%"},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"})})})]})}),i<fs.length-1&&u.jsx("div",{className:"flex-shrink-0 px-3",children:u.jsx("svg",{className:`h-8 w-8 transition-all duration-300 ${o?"text-green-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{filter:o?"drop-shadow(0 0 4px rgba(16, 185, 129, 0.6))":"none"},children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})})]},s.id)})})]})}function x_({entries:e}){const[t,n]=k.useState(!0),r=e[0];k.useEffect(()=>{const o=document.getElementById("explanation-panel-content");o&&(o.scrollTop=0)},[e]);const s=o=>{switch(o){case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-amber-50 border-amber-200 text-amber-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"thinking":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},i=o=>{switch(o){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";case"thinking":return"💭";default:return"ℹ️"}};return t?u.jsxs("div",{className:"fixed right-4 top-20 z-20 flex w-96 flex-col rounded-xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-purple-600 to-blue-500 p-4 rounded-t-xl",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"💡"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"リアルタイム解説"}),u.jsx("p",{className:"text-xs text-white/80",children:"今何が起こっているか"})]})]}),u.jsx("button",{onClick:()=>n(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r&&u.jsxs("div",{className:`border-b-2 border-l-4 p-4 ${s(r.type)}`,children:[u.jsxs("div",{className:"mb-2 flex items-start gap-2",children:[u.jsx("span",{className:"text-2xl",children:r.icon||i(r.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-bold",children:r.title}),u.jsx("p",{className:"mt-1 text-xs leading-relaxed",children:r.explanation})]})]}),r.details&&r.details.length>0&&u.jsx("div",{className:"mt-3 space-y-1 border-t pt-2 opacity-80",style:{borderColor:"currentColor"},children:r.details.map((o,l)=>u.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[u.jsx("span",{className:"text-[10px]",children:"▸"}),u.jsx("span",{className:"flex-1",children:o})]},l))}),u.jsx("div",{className:"mt-2 text-right text-[10px] opacity-60",children:new Date(r.timestamp).toLocaleTimeString("ja-JP")})]}),u.jsxs("div",{id:"explanation-panel-content",className:"max-h-96 overflow-y-auto p-4",style:{scrollBehavior:"smooth"},children:[u.jsx("h4",{className:"mb-3 text-xs font-semibold text-gray-500",children:"履歴 / History"}),u.jsx("div",{className:"space-y-3",children:e.slice(1,10).map(o=>u.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:o.icon||i(o.type)}),u.jsx("span",{className:"flex-1 text-xs font-semibold text-gray-700",children:o.title}),u.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(o.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("p",{className:"text-xs text-gray-600",children:o.explanation})]},o.id))}),e.length===0&&u.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-200 p-6 text-center",children:[u.jsx("span",{className:"mb-2 block text-3xl",children:"🤖"}),u.jsxs("p",{className:"text-xs text-gray-500",children:["タスクを待機中...",u.jsx("br",{}),"Issueが追加されると自動的に処理が開始されます"]})]})]})]}):u.jsx("div",{className:"fixed right-4 top-20 z-20",children:u.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[u.jsx("span",{className:"text-xl",children:"💡"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"解説を表示"})]})})}function v_(){const[e,t]=k.useState(!1);return e?u.jsxs("div",{className:"fixed bottom-20 left-4 z-20 w-80 rounded-xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-purple-600 to-blue-500 p-4 rounded-t-xl",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📖"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"凡例 / Legend"}),u.jsx("p",{className:"text-xs text-white/80",children:"各要素の意味"})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"ノードの種類"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white shadow",children:u.jsx("span",{className:"text-xl",children:"📋"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"GitHubから読み込んだタスク"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-900 shadow",children:u.jsx("span",{className:"text-xl",children:"🤖"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行するAIエージェント"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 shadow",children:u.jsx("span",{className:"text-xl",children:"📊"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクの状態（pending, done等）"})]})]})]})]}),u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの状態"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"IDLE（待機中）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを待っている状態"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"RUNNING（実行中）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行中。プログレスバー表示"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"COMPLETED（完了）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスク完了。3秒後にIDLEへ"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-red-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"ERROR（エラー）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"実行中にエラーが発生"})]})]})]})]}),u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"接続線の種類"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-orange-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 animate-pulse bg-red-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue → Agent"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Issueが割り当てられた時にアニメーション"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 bg-purple-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent → State"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Agentが状態を更新"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 border-t-2 border-dashed border-gray-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Flow"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"状態遷移の流れ（pending → done）"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの役割"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"rounded-lg bg-red-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"🎯"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CoordinatorAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを分析・分解し、最適なAgentに割り当て"})]}),u.jsxs("div",{className:"rounded-lg bg-purple-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"💻"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CodeGenAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"AIでコードを自動生成（Claude Sonnet 4使用）"})]}),u.jsxs("div",{className:"rounded-lg bg-blue-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"👀"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"ReviewAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"コード品質をレビューしスコアリング（100点満点）"})]}),u.jsxs("div",{className:"rounded-lg bg-green-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"📝"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"PRAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Pull Requestを自動作成（Conventional Commits準拠）"})]}),u.jsxs("div",{className:"rounded-lg bg-yellow-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"🚀"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"DeploymentAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Firebase/Vercel/AWSに自動デプロイ"})]})]})]})]})]}):u.jsx("div",{className:"fixed bottom-20 left-4 z-20",children:u.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[u.jsx("span",{className:"text-xl",children:"📖"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"凡例を表示"})]})})}function w_({agentId:e,agentName:t,thinking:n,position:r,status:s}){const[i,o]=k.useState(!1),[l,a]=k.useState(""),[c,d]=k.useState("");if(k.useEffect(()=>{s==="running"&&n?(o(!0),a(n)):o(!1)},[s,n]),k.useEffect(()=>{if(!i)return;const v=setInterval(()=>{d(x=>x.length>=3?"":x+".")},500);return()=>clearInterval(v)},[i]),!i||!n)return null;const f=r.x+75,h=r.y-80,g=s==="running"?"#8B5CF6":"#10B981";return u.jsxs("div",{className:"pointer-events-none absolute z-30 transition-all duration-300",style:{left:`${f}px`,top:`${h}px`,transform:"translate(-50%, 0)"},children:[u.jsxs("div",{className:"relative rounded-2xl px-4 py-3 shadow-2xl backdrop-blur-sm",style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.95), rgba(124, 58, 237, 0.95))",animation:"bubble-float 2s ease-in-out infinite"},children:[u.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[u.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full text-xs",style:{backgroundColor:g},children:"🤖"}),u.jsx("span",{className:"text-xs font-bold text-white",children:t})]}),u.jsxs("p",{className:"text-sm font-medium text-white",children:[l,u.jsx("span",{className:"inline-block w-6 text-left",children:c})]}),u.jsx("div",{className:"absolute left-1/2 top-full h-0 w-0 -translate-x-1/2 border-8 border-transparent",style:{borderTopColor:"rgba(124, 58, 237, 0.95)"}}),u.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"8px",height:"8px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 8px)"}}),u.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"5px",height:"5px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 18px)"}})]}),u.jsx("style",{children:`
        @keyframes bubble-float {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-5px);
          }
        }
      `})]})}function N_({bubbles:e}){return u.jsx(u.Fragment,{children:e.map(t=>u.jsx(w_,{agentId:t.agentId,agentName:t.agentName,thinking:t.thinking,position:t.position,status:t.status},t.agentId))})}function S_({nodes:e,startTime:t}){const n=k.useMemo(()=>{const r=e.filter(_=>_.type==="agent"),s=e.filter(_=>_.type==="issue"),i=r.filter(_=>_.data.status==="running").length,o=s.length,l=s.filter(_=>{var p;return(p=_.data.state)==null?void 0:p.includes("done")}).length,a=o>0?Math.round(l/o*100):0,c=Math.floor((Date.now()-t.getTime())/1e3),d=Math.floor(c/3600),f=Math.floor(c%3600/60),h=c%60,g=`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`,v=l>0?"2m 34s":"---";return[{label:"Uptime",labelJa:"稼働時間",value:g,icon:"⏱️",color:"#3B82F6"},{label:"Active Agents",labelJa:"実行中Agent",value:i,icon:"🤖",color:"#8B5CF6",trend:i>0?"up":"stable"},{label:"Success Rate",labelJa:"成功率",value:`${a}%`,icon:"✅",color:a>=80?"#10B981":a>=50?"#F59E0B":"#EF4444",trend:a>=80?"up":a>=50?"stable":"down"},{label:"Tasks Completed",labelJa:"完了タスク",value:`${l}/${o}`,icon:"📊",color:"#6366F1"},{label:"Avg Duration",labelJa:"平均処理時間",value:v,icon:"⚡",color:"#F59E0B"}]},[e,t]);return u.jsxs("div",{className:"fixed right-4 top-4 z-20 w-80",children:[u.jsx("div",{className:"rounded-t-xl bg-gradient-to-r from-blue-600 to-purple-600 p-3 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📊"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"System Metrics"}),u.jsx("p",{className:"text-xs text-blue-100",children:"リアルタイムシステム状態"})]})]})}),u.jsxs("div",{className:"rounded-b-xl bg-white/95 p-4 shadow-lg backdrop-blur-sm",children:[u.jsx("div",{className:"space-y-3",children:n.map((r,s)=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-all hover:border-gray-300 hover:shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg text-xl",style:{backgroundColor:`${r.color}20`},children:r.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:r.labelJa}),u.jsx("p",{className:"text-xs font-medium text-gray-600",children:r.label})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-bold",style:{color:r.color},children:r.value}),r.trend&&u.jsxs("span",{className:"text-sm",children:[r.trend==="up"&&"📈",r.trend==="down"&&"📉",r.trend==="stable"&&"➡️"]})]})]},s))}),u.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 border-t border-gray-200 pt-3",children:[u.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}),u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Live Update"})]})]})]})}function __({edges:e,nodes:t,activeEdgeIds:n}){const[r,s]=k.useState([]),i=k.useRef();k.useEffect(()=>{if(n.length===0){s([]);return}const l=[];n.forEach(a=>{for(let c=0;c<3;c++)l.push({id:`${a}-particle-${c}`,edgeId:a,progress:c*.33,speed:.008+Math.random()*.004,color:"#8B5CF6",size:6+Math.random()*4})}),s(l)},[n]),k.useEffect(()=>{if(r.length===0)return;const l=()=>{s(a=>a.map(c=>{let d=c.progress+c.speed;return d>=1&&(d=0),{...c,progress:d}})),i.current=requestAnimationFrame(l)};return i.current=requestAnimationFrame(l),()=>{i.current&&cancelAnimationFrame(i.current)}},[r.length]);const o=r.map(l=>{const a=e.find(g=>g.id===l.edgeId);if(!a)return null;const c=t.find(g=>g.id===a.source),d=t.find(g=>g.id===a.target);if(!c||!d)return null;const f=c.position.x+(d.position.x-c.position.x)*l.progress+75,h=c.position.y+(d.position.y-c.position.y)*l.progress+50;return{id:l.id,x:f,y:h,color:l.color,size:l.size}});return u.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:o.map(l=>l?u.jsxs("div",{className:"absolute transition-transform duration-100",style:{left:`${l.x}px`,top:`${l.y}px`,width:`${l.size}px`,height:`${l.size}px`,transform:"translate(-50%, -50%)"},children:[u.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 blur-sm",style:{backgroundColor:l.color}}),u.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:l.color,boxShadow:`0 0 ${l.size*2}px ${l.color}`}})]},l.id):null)})}function k_(){const[e,t]=k.useState([]),n=(s,i=3e3)=>{t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(l=>l!==s))},i)};return{activeEdgeIds:e,activateEdge:n,activateEdgesForNode:(s,i,o=3e3)=>{i.filter(a=>a.source===s||a.target===s).map(a=>a.id).forEach(a=>{n(a,o)})}}}function E_({trigger:e,onComplete:t}){const[n,r]=k.useState([]),[s,i]=k.useState(!1);return k.useEffect(()=>{if(!e)return;const o=[],l=["#8B5CF6","#10B981","#F59E0B","#EF4444","#3B82F6","#EC4899"];for(let c=0;c<50;c++)o.push({id:`confetti-${c}`,x:50,y:50,rotation:Math.random()*360,color:l[Math.floor(Math.random()*l.length)],size:8+Math.random()*8,velocityX:(Math.random()-.5)*6,velocityY:-8-Math.random()*4,rotationSpeed:(Math.random()-.5)*10});r(o),i(!0);const a=setTimeout(()=>{i(!1),r([]),t&&t()},3e3);return()=>clearTimeout(a)},[e,t]),k.useEffect(()=>{if(!s)return;let o,l=Date.now();const a=()=>{const c=(Date.now()-l)/1e3;r(d=>d.map(f=>({...f,x:f.x+f.velocityX*.5,y:f.y+f.velocityY*.5+c*9.8*.3,rotation:f.rotation+f.rotationSpeed}))),o=requestAnimationFrame(a)};return o=requestAnimationFrame(a),()=>{o&&cancelAnimationFrame(o)}},[s]),s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 overflow-hidden",children:n.map(o=>u.jsx("div",{className:"absolute",style:{left:`${o.x}%`,top:`${o.y}%`,width:`${o.size}px`,height:`${o.size}px`,backgroundColor:o.color,transform:`translate(-50%, -50%) rotate(${o.rotation}deg)`,transition:"all 0.05s linear"}},o.id))}),u.jsx("div",{className:"pointer-events-none fixed inset-0 z-40 flex items-center justify-center",children:u.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-6 text-center shadow-2xl",style:{animation:"celebration-pulse 0.5s ease-out"},children:[u.jsx("div",{className:"mb-2 text-6xl",children:"🎉"}),u.jsx("h2",{className:"mb-1 text-2xl font-bold text-white",children:"タスク完了！"}),u.jsx("p",{className:"text-sm text-green-50",children:"Task Completed Successfully"})]})}),u.jsx("style",{children:`
        @keyframes celebration-pulse {
          0% {
            transform: scale(0.8);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]}):null}function b_(){const[e,t]=k.useState(!1);return{celebrationTrigger:e,celebrate:()=>{t(!0),setTimeout(()=>{t(!1)},100)}}}function j_({node:e,onClose:t}){const[n,r]=k.useState([]);if(k.useEffect(()=>{if(!e)return;const a=[];if(e.type==="agent"){const c=e.data;a.push({timestamp:new Date().toISOString(),type:"agent:created",message:`Agent ${c.agentId} initialized`,icon:"🔧"}),c.status==="running"&&a.push({timestamp:new Date().toISOString(),type:"agent:started",message:`Started working on Issue #${c.currentIssue}`,icon:"🚀"}),c.status==="completed"&&a.push({timestamp:new Date().toISOString(),type:"agent:completed",message:"Task completed successfully",icon:"✅"})}else if(e.type==="issue"){const c=e.data;a.push({timestamp:new Date().toISOString(),type:"issue:created",message:`Issue #${c.number} created: ${c.title}`,icon:"📝"}),c.state&&a.push({timestamp:new Date().toISOString(),type:"state:transition",message:`State changed to: ${c.state}`,icon:"🔄"})}r(a.reverse())},[e]),!e)return null;const s=e.data,i=()=>e.type==="agent"?"🤖":e.type==="issue"?"📋":e.type==="state"?"🔵":"❓",o=()=>e.type==="agent"?`${s.name||s.agentId}`:e.type==="issue"?`Issue #${s.number}`:e.type==="state"?s.name||"State Node":"Unknown Node",l=()=>{if(e.type==="agent"){const a=s.status||"idle",c={idle:"bg-gray-500",running:"bg-purple-500",completed:"bg-green-500",error:"bg-red-500"};return u.jsx("span",{className:`${c[a]} rounded-full px-3 py-1 text-xs font-bold text-white`,children:a.toUpperCase()})}return null};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-t-2xl bg-gradient-to-r from-purple-600 to-blue-600 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-4xl",children:i()}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:o()}),u.jsxs("p",{className:"text-sm text-purple-100",children:[e.type==="issue"&&s.title,e.type==="agent"&&`Specialist Agent - ${s.agentId}`]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[l(),u.jsx("button",{onClick:t,className:"rounded-full bg-white/20 p-2 text-white transition-colors hover:bg-white/30",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:[u.jsxs("div",{className:"mb-6 rounded-lg bg-gray-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"基本情報"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Node ID"}),u.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.id})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Type"}),u.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.type})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Position"}),u.jsxs("p",{className:"font-mono text-sm text-gray-900",children:["(",Math.round(e.position.x),", ",Math.round(e.position.y),")"]})]})]})]}),e.type==="agent"&&u.jsxs("div",{className:"mb-6 rounded-lg bg-purple-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-purple-900",children:"Agent 詳細"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Agent ID"}),u.jsx("p",{className:"font-mono text-sm text-purple-900",children:s.agentId})]}),s.currentIssue&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Current Issue"}),u.jsxs("p",{className:"font-mono text-sm text-purple-900",children:["#",s.currentIssue]})]}),s.progress!==void 0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Progress"}),u.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-purple-200",children:u.jsx("div",{className:"h-2 rounded-full bg-purple-600 transition-all duration-300",style:{width:`${s.progress}%`}})}),u.jsxs("p",{className:"mt-1 text-right text-xs text-purple-700",children:[s.progress,"%"]})]}),s.parameters&&Object.keys(s.parameters).length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-xs text-purple-700",children:"Parameters"}),u.jsx("pre",{className:"max-h-32 overflow-auto rounded bg-purple-900 p-2 text-xs text-purple-50",children:JSON.stringify(s.parameters,null,2)})]})]})]}),e.type==="issue"&&u.jsxs("div",{className:"mb-6 rounded-lg bg-blue-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-blue-900",children:"Issue 詳細"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Number"}),u.jsxs("p",{className:"font-mono text-sm text-blue-900",children:["#",s.number]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Title"}),u.jsx("p",{className:"text-sm text-blue-900",children:s.title})]}),s.state&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"State"}),u.jsx("p",{className:"font-mono text-sm text-blue-900",children:s.state})]}),s.priority&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Priority"}),u.jsx("p",{className:"font-mono text-sm text-blue-900",children:s.priority})]})]})]}),u.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"イベント履歴"}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"No events recorded yet"}):n.map((a,c)=>u.jsxs("div",{className:"flex items-start gap-3 rounded border border-gray-200 bg-white p-3",children:[u.jsx("span",{className:"text-xl",children:a.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(a.timestamp).toLocaleString("ja-JP")})]}),u.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600",children:a.type})]},c))})]})]}),u.jsx("div",{className:"flex justify-end gap-3 rounded-b-2xl border-t border-gray-200 bg-gray-50 p-4",children:u.jsx("button",{onClick:t,className:"rounded-lg bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-300",children:"閉じる"})})]})]})}const zt=Object.create(null);zt.open="0";zt.close="1";zt.ping="2";zt.pong="3";zt.message="4";zt.upgrade="5";zt.noop="6";const eo=Object.create(null);Object.keys(zt).forEach(e=>{eo[zt[e]]=e});const cu={type:"error",data:"parser error"},D0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",O0=typeof ArrayBuffer=="function",F0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Mc=({type:e,data:t},n,r)=>D0&&t instanceof Blob?n?r(t):Vf(t,r):O0&&(t instanceof ArrayBuffer||F0(t))?n?r(t):Vf(new Blob([t]),r):r(zt[e]+(t||"")),Vf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Uf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Zl;function C_(e,t){if(D0&&e.data instanceof Blob)return e.data.arrayBuffer().then(Uf).then(t);if(O0&&(e.data instanceof ArrayBuffer||F0(e.data)))return t(Uf(e.data));Mc(e,!1,n=>{Zl||(Zl=new TextEncoder),t(Zl.encode(n))})}const Wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ns=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Wf.length;e++)Ns[Wf.charCodeAt(e)]=e;const A_=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=Ns[e.charCodeAt(r)],o=Ns[e.charCodeAt(r+1)],l=Ns[e.charCodeAt(r+2)],a=Ns[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|a&63;return c},T_=typeof ArrayBuffer=="function",zc=(e,t)=>{if(typeof e!="string")return{type:"message",data:B0(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:$_(e.substring(1),t)}:eo[n]?e.length>1?{type:eo[n],data:e.substring(1)}:{type:eo[n]}:cu},$_=(e,t)=>{if(T_){const n=A_(e);return B0(n,t)}else return{base64:!0,data:e}},B0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},H0="",R_=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Mc(i,!1,l=>{r[o]=l,++s===n&&t(r.join(H0))})})},P_=(e,t)=>{const n=e.split(H0),r=[];for(let s=0;s<n.length;s++){const i=zc(n[s],t);if(r.push(i),i.type==="error")break}return r};function I_(){return new TransformStream({transform(e,t){C_(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Jl;function zi(e){return e.reduce((t,n)=>t+n.length,0)}function Li(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function M_(e,t){Jl||(Jl=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(zi(n)<1)break;const a=Li(n,1);i=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(zi(n)<2)break;const a=Li(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(zi(n)<8)break;const a=Li(n,8),c=new DataView(a.buffer,a.byteOffset,a.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(cu);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(zi(n)<s)break;const a=Li(n,s);l.enqueue(zc(i?a:Jl.decode(a),t)),r=0}if(s===0||s>e){l.enqueue(cu);break}}}})}const V0=4;function ve(e){if(e)return z_(e)}function z_(e){for(var t in ve.prototype)e[t]=ve.prototype[t];return e}ve.prototype.on=ve.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ve.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ve.prototype.off=ve.prototype.removeListener=ve.prototype.removeAllListeners=ve.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ve.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};ve.prototype.emitReserved=ve.prototype.emit;ve.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ve.prototype.hasListeners=function(e){return!!this.listeners(e).length};const cl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),at=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),L_="arraybuffer";function U0(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const D_=at.setTimeout,O_=at.clearTimeout;function dl(e,t){t.useNativeTimers?(e.setTimeoutFn=D_.bind(at),e.clearTimeoutFn=O_.bind(at)):(e.setTimeoutFn=at.setTimeout.bind(at),e.clearTimeoutFn=at.clearTimeout.bind(at))}const F_=1.33;function B_(e){return typeof e=="string"?H_(e):Math.ceil((e.byteLength||e.size)*F_)}function H_(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function W0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function V_(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function U_(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class W_ extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Lc extends ve{constructor(t){super(),this.writable=!1,dl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new W_(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=zc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=V_(t);return n.length?"?"+n:""}}class Y_ extends Lc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};P_(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,R_(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=W0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Y0=!1;try{Y0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const q_=Y0;function X_(){}class K_ extends Y_{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Mt extends ve{constructor(t,n,r){super(),this.createRequest=t,dl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=U0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Mt.requestsCount++,Mt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=X_,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Mt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Mt.requestsCount=0;Mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Yf);else if(typeof addEventListener=="function"){const e="onpagehide"in at?"pagehide":"unload";addEventListener(e,Yf,!1)}}function Yf(){for(let e in Mt.requests)Mt.requests.hasOwnProperty(e)&&Mt.requests[e].abort()}const G_=function(){const e=q0({xdomain:!1});return e&&e.responseType!==null}();class Q_ extends K_{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=G_&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Mt(q0,this.uri(),t)}}function q0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||q_))return new XMLHttpRequest}catch{}if(!t)try{return new at[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const X0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Z_ extends Lc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=X0?{}:U0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Mc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&cl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=W0()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ea=at.WebSocket||at.MozWebSocket;class J_ extends Z_{createSocket(t,n,r){return X0?new ea(t,n,r):n?new ea(t,n):new ea(t)}doWrite(t,n){this.ws.send(n)}}class ek extends Lc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=M_(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=I_();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&cl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const tk={websocket:J_,webtransport:ek,polling:Q_},nk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function du(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=nk.exec(e||""),i={},o=14;for(;o--;)i[rk[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=sk(i,i.path),i.queryKey=ik(i,i.query),i}function sk(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ik(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const fu=typeof addEventListener=="function"&&typeof removeEventListener=="function",to=[];fu&&addEventListener("offline",()=>{to.forEach(e=>e())},!1);class _n extends ve{constructor(t,n){if(super(),this.binaryType=L_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=du(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=du(n.host).host);dl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U_(this.opts.query)),fu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},to.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=V0,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&_n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=B_(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(_n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=to.indexOf(this._offlineEventListener);r!==-1&&to.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}_n.protocol=V0;class ok extends _n{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;_n.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_n.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function a(){o("socket closed")}function c(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",c)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let lk=class extends ok{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>tk[s]).filter(s=>!!s)),super(t,r)}};function ak(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=du(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const uk=typeof ArrayBuffer=="function",ck=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,K0=Object.prototype.toString,dk=typeof Blob=="function"||typeof Blob<"u"&&K0.call(Blob)==="[object BlobConstructor]",fk=typeof File=="function"||typeof File<"u"&&K0.call(File)==="[object FileConstructor]";function Dc(e){return uk&&(e instanceof ArrayBuffer||ck(e))||dk&&e instanceof Blob||fk&&e instanceof File}function no(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(no(e[n]))return!0;return!1}if(Dc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return no(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&no(e[n]))return!0;return!1}function hk(e){const t=[],n=e.data,r=e;return r.data=hu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function hu(e,t){if(!e)return e;if(Dc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=hu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=hu(e[r],t));return n}return e}function pk(e,t){return e.data=pu(e.data,t),delete e.attachments,e}function pu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=pu(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=pu(e[n],t));return e}const mk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gk=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class yk{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&no(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=hk(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function qf(e){return Object.prototype.toString.call(e)==="[object Object]"}class Oc extends ve{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===te.BINARY_EVENT;r||n.type===te.BINARY_ACK?(n.type=r?te.EVENT:te.ACK,this.reconstructor=new xk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Dc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(te[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===te.BINARY_EVENT||r.type===te.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Oc.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case te.CONNECT:return qf(n);case te.DISCONNECT:return n===void 0;case te.CONNECT_ERROR:return typeof n=="string"||qf(n);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&mk.indexOf(n[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xk{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=pk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const vk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Oc,Encoder:yk,get PacketType(){return te},protocol:gk},Symbol.toStringTag,{value:"Module"}));function Nt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const wk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class G0 extends ve{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nt(t,"open",this.onopen.bind(this)),Nt(t,"packet",this.onpacket.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(wk.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:te.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:te.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Xr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Xr.prototype.reset=function(){this.attempts=0};Xr.prototype.setMin=function(e){this.ms=e};Xr.prototype.setMax=function(e){this.max=e};Xr.prototype.setJitter=function(e){this.jitter=e};class mu extends ve{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,dl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Xr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||vk;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new lk(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Nt(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Nt(n,"error",i);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nt(t,"ping",this.onping.bind(this)),Nt(t,"data",this.ondata.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this)),Nt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){cl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new G0(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const hs={};function ro(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ak(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=hs[s]&&i in hs[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new mu(r,t):(hs[s]||(hs[s]=new mu(r,t)),a=hs[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(ro,{Manager:mu,Socket:G0,io:ro,connect:ro});const Nk="http://localhost:3001";function Sk(e,t,n,r,s,i,o,l,a,c){const d=k.useRef(null),[f,h]=k.useState(!1),g=k.useRef({onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:s,onStateTransition:i,onTaskDiscovered:o,onCoordinatorAnalyzing:l,onCoordinatorDecomposing:a,onCoordinatorAssigning:c});k.useEffect(()=>{g.current={onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:s,onStateTransition:i,onTaskDiscovered:o,onCoordinatorAnalyzing:l,onCoordinatorDecomposing:a,onCoordinatorAssigning:c}},[e,t,n,r,s,i,o,l,a,c]),k.useEffect(()=>{const _=ro(Nk,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return d.current=_,_.on("connect",()=>{console.log("✅ WebSocket connected"),h(!0)}),_.on("disconnect",()=>{console.log("❌ WebSocket disconnected"),h(!1)}),_.on("connect_error",p=>{console.error("🔴 WebSocket connection error:",p),h(!1)}),_.on("graph:update",p=>{var m,y;(y=(m=g.current).onGraphUpdate)==null||y.call(m,p)}),_.on("agent:started",p=>{var m,y;(y=(m=g.current).onAgentStarted)==null||y.call(m,p)}),_.on("agent:progress",p=>{var m,y;(y=(m=g.current).onAgentProgress)==null||y.call(m,p)}),_.on("agent:completed",p=>{var m,y;(y=(m=g.current).onAgentCompleted)==null||y.call(m,p)}),_.on("agent:error",p=>{var m,y;(y=(m=g.current).onAgentError)==null||y.call(m,p)}),_.on("state:transition",p=>{var m,y;(y=(m=g.current).onStateTransition)==null||y.call(m,p)}),_.on("task:discovered",p=>{var m,y;(y=(m=g.current).onTaskDiscovered)==null||y.call(m,p)}),_.on("coordinator:analyzing",p=>{var m,y;(y=(m=g.current).onCoordinatorAnalyzing)==null||y.call(m,p)}),_.on("coordinator:decomposing",p=>{var m,y;(y=(m=g.current).onCoordinatorDecomposing)==null||y.call(m,p)}),_.on("coordinator:assigning",p=>{var m,y;(y=(m=g.current).onCoordinatorAssigning)==null||y.call(m,p)}),()=>{_.close()}},[]);const v=_=>{d.current&&d.current.emit("subscribe",{issueNumber:_})},x=_=>{d.current&&d.current.emit("unsubscribe",{issueNumber:_})};return{socket:d.current,connected:f,subscribe:v,unsubscribe:x}}const _k={issue:Rc,agent:Pc,state:Ic};function kk(){const[e,t,n]=jc([]),[r,s,i]=Cc([]),[o,l]=k.useState(!0),[a,c]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(!1),[v,x]=k.useState({states:[],agents:[],priorities:[],showOnlyActive:!1}),_=k.useRef(null),[p,m]=k.useState(null),[y,w]=k.useState([]),[j,A]=k.useState([]),[T]=k.useState(new Date),[R,I]=k.useState({}),[L,H]=k.useState(null),{celebrationTrigger:Y,celebrate:W}=b_(),{activeEdgeIds:N,activateEdgesForNode:P}=k_(),b=k.useCallback(S=>{f(M=>[{...S,id:`${Date.now()}-${Math.random()}`},...M])},[]),D=k.useCallback(S=>{A(M=>[{...S,id:`${Date.now()}-${Math.random()}`},...M])},[]),C=k.useCallback(S=>{if(!_.current)return;const M=e.find(B=>B.id===S);M&&_.current.setCenter(M.position.x+150,M.position.y+100,{zoom:1.2,duration:800})},[e]),{connected:E}=Sk(S=>{console.log("📊 Graph updated:",S),t(S.nodes),s(S.edges),l(!1),b({type:"graph:update",message:"Graph data refreshed",timestamp:S.timestamp||new Date().toISOString(),icon:"🔄",color:"#3B82F6"})},S=>{var V;console.log("🤖 Agent started:",S),m("execution"),w(["discovery","analysis","decomposition","assignment"]);let M=`${S.agentId} started working on Issue #${S.issueNumber}`;(V=S.parameters)!=null&&V.taskTitle&&(M+=` - ${S.parameters.taskTitle}`),b({type:"agent:started",message:M,timestamp:S.timestamp||new Date().toISOString(),icon:"🤖",color:"#10B981"});const B=S.agentId==="codegen"?"CodeGenAgent":S.agentId==="review"?"ReviewAgent":S.agentId==="pr"?"PRAgent":S.agentId==="deployment"?"DeploymentAgent":S.agentId;D({timestamp:S.timestamp||new Date().toISOString(),title:`💻 ${B}が実行開始`,explanation:`${B}がIssue #${S.issueNumber}の処理を開始しました。進捗状況はプログレスバーで確認できます。`,details:S.parameters?[`タスク: ${S.parameters.taskTitle||"未設定"}`,`優先度: ${S.parameters.priority||"通常"}`,`コンテキスト: ${S.parameters.context||"自動判定"}`]:[],type:"success",icon:"💻"}),t(Q=>Q.map(Z=>{if(Z.type==="agent"&&Z.data.agentId===S.agentId){setTimeout(()=>C(Z.id),100);const ne={codegen:"コード構造を分析中...",review:"コード品質をレビュー中...",pr:"Pull Requestを作成中...",deployment:"デプロイ準備中..."};return I(we=>({...we,[S.agentId]:{thinking:ne[S.agentId]||"タスクを実行中...",position:Z.position,status:"running"}})),setTimeout(()=>{P(Z.id,r,5e3)},100),{...Z,data:{...Z.data,status:"running",currentIssue:S.issueNumber,progress:0,parameters:S.parameters||{}}}}return Z}))},S=>{console.log("📈 Agent progress:",S);const M=(B,V)=>B==="codegen"?V<30?"コードベースを分析中...":V<60?"コードを生成中...":"テストを実行中...":B==="review"?V<40?"コード品質を分析中...":V<70?"セキュリティスキャン実行中...":"レビューコメント作成中...":B==="pr"?V<50?"コミットメッセージ作成中...":"Pull Request作成中...":B==="deployment"?V<30?"ビルドを実行中...":V<70?"テストを実行中...":"デプロイ中...":`処理中... ${V}%`;I(B=>B[S.agentId]?{...B,[S.agentId]:{...B[S.agentId],thinking:M(S.agentId,S.progress)}}:B),t(B=>B.map(V=>V.type==="agent"&&V.data.agentId===S.agentId?{...V,data:{...V.data,progress:S.progress}}:V))},S=>{console.log("✅ Agent completed:",S),w(["discovery","analysis","decomposition","assignment","execution"]),m(null),W(),setTimeout(()=>{I(B=>{const V={...B};return delete V[S.agentId],V})},2e3),b({type:"agent:completed",message:`${S.agentId} completed Issue #${S.issueNumber}`,timestamp:S.timestamp||new Date().toISOString(),icon:"✅",color:"#22C55E"});const M=S.agentId==="codegen"?"CodeGenAgent":S.agentId==="review"?"ReviewAgent":S.agentId==="pr"?"PRAgent":S.agentId==="deployment"?"DeploymentAgent":S.agentId;D({timestamp:S.timestamp||new Date().toISOString(),title:"✅ タスク完了！",explanation:`${M}がIssue #${S.issueNumber}の処理を完了しました。結果はGitHubで確認できます。`,details:["結果: 正常終了","","次のタスクがあれば、同様のプロセスで自動処理を開始します。"],type:"success",icon:"✅"}),t(B=>B.map(V=>V.type==="agent"&&V.data.agentId===S.agentId?{...V,data:{...V.data,status:"completed",progress:100,currentIssue:void 0}}:V)),setTimeout(()=>{t(B=>B.map(V=>V.type==="agent"&&V.data.agentId===S.agentId?{...V,data:{...V.data,status:"idle",progress:0}}:V))},3e3)},S=>{console.error("❌ Agent error:",S),b({type:"agent:error",message:`${S.agentId} failed on Issue #${S.issueNumber}: ${S.error}`,timestamp:S.timestamp||new Date().toISOString(),icon:"❌",color:"#EF4444"}),t(M=>M.map(B=>B.type==="agent"&&B.data.agentId===S.agentId?{...B,data:{...B.data,status:"error",currentIssue:void 0}}:B))},S=>{console.log("🔄 State transition:",S),b({type:"state:transition",message:`Issue #${S.issueNumber}: ${S.from} → ${S.to}`,timestamp:S.timestamp||new Date().toISOString(),icon:"🔄",color:"#8B5CF6"}),s(M=>M.map(B=>B.source.includes(`issue-${S.issueNumber}`)?{...B,animated:!0}:B)),setTimeout(()=>{s(M=>M.map(B=>({...B,animated:!1})))},2e3)},S=>{console.log("📥 Tasks discovered:",S),m("discovery"),w([]),b({type:"task:discovered",message:`${S.tasks.length} tasks discovered and queued for processing`,timestamp:S.timestamp,icon:"📥",color:"#6366F1"}),D({timestamp:S.timestamp,title:"📥 タスク発見フェーズ",explanation:`GitHubから${S.tasks.length}個のIssueを読み込みました。これらのタスクを順番に分析していきます。`,details:S.tasks.map((M,B)=>`${B+1}. Issue #${M.issueNumber}: ${M.title} (${M.priority})`),type:"info",icon:"📥"}),S.tasks.forEach((M,B)=>{setTimeout(()=>{b({type:"task:discovered",message:`Task ${B+1}: Issue #${M.issueNumber} - ${M.title} [${M.priority}]`,timestamp:S.timestamp,icon:"📋",color:"#8B5CF6"})},B*200)})},S=>{console.log("🔍 Coordinator analyzing:",S),m("analysis"),w(["discovery"]),b({type:"coordinator:analyzing",message:`CoordinatorAgent analyzing Issue #${S.issueNumber}: ${S.analysis.type} | ${S.analysis.priority} | ${S.analysis.complexity}`,timestamp:S.timestamp,icon:"🔍",color:"#10B981"}),D({timestamp:S.timestamp,title:"🔍 Issue分析中",explanation:`CoordinatorAgentがIssue #${S.issueNumber}の内容を詳しく分析しています。`,details:[`タイプ: ${S.analysis.type} - このタスクの種類を判定`,`優先度: ${S.analysis.priority} - 緊急度を評価`,`複雑度: ${S.analysis.complexity} - 難易度を算出`,"","次のステップ：この分析結果に基づいて、タスクをサブタスクに分解します。"],type:"thinking",icon:"🔍"});const M=e.find(B=>B.type==="agent"&&B.data.agentId==="coordinator");M&&setTimeout(()=>C(M.id),100),t(B=>B.map(V=>V.type==="issue"&&V.data.number===S.issueNumber?{...V,style:{...V.style,border:"3px solid #10B981",boxShadow:"0 0 20px rgba(16, 185, 129, 0.5)"}}:V)),setTimeout(()=>{t(B=>B.map(V=>V.type==="issue"&&V.data.number===S.issueNumber?{...V,style:{...V.style,border:void 0,boxShadow:void 0}}:V))},2e3)},S=>{console.log("🧩 Coordinator decomposing:",S),m("decomposition"),w(["discovery","analysis"]),b({type:"coordinator:decomposing",message:`CoordinatorAgent decomposed Issue #${S.issueNumber} into ${S.subtasks.length} subtasks`,timestamp:S.timestamp,icon:"🧩",color:"#F59E0B"}),D({timestamp:S.timestamp,title:"🧩 タスク分解中",explanation:`CoordinatorAgentがIssue #${S.issueNumber}を${S.subtasks.length}個のサブタスクに分解しました。大きなタスクを小さく分けることで、各Specialist Agentが効率的に処理できます。`,details:S.subtasks.map((M,B)=>`サブタスク${B+1}: ${M.title} [${M.type}]`),type:"info",icon:"🧩"}),S.subtasks.forEach((M,B)=>{setTimeout(()=>{b({type:"coordinator:decomposing",message:`  Subtask ${B+1}: ${M.title} [${M.type}]`,timestamp:S.timestamp,icon:"  ├─",color:"#FBBF24"})},B*150)})},S=>{console.log("🎯 Coordinator assigning:",S),m("assignment"),w(["discovery","analysis","decomposition"]),b({type:"coordinator:assigning",message:`CoordinatorAgent assigning tasks for Issue #${S.issueNumber}`,timestamp:S.timestamp,icon:"🎯",color:"#8B5CF6"}),D({timestamp:S.timestamp,title:"🎯 Agent割り当て中",explanation:"CoordinatorAgentが各サブタスクに最適なSpecialist Agentを選択しています。各Agentの専門性を考慮して、最も効率的な組み合わせを決定します。",details:S.assignments.map(M=>`${M.agentId} ← 理由: ${M.reason}`),type:"info",icon:"🎯"}),S.assignments.forEach((M,B)=>{setTimeout(()=>{b({type:"coordinator:assigning",message:`  → ${M.agentId}: ${M.reason}`,timestamp:S.timestamp,icon:"  🤖",color:"#A78BFA"});const V=e.find(Q=>Q.type==="agent"&&Q.data.agentId===M.agentId);V&&C(V.id)},B*500)})}),$=k.useMemo(()=>{let S=e;return v.states.length>0&&(S=S.filter(M=>{if(M.type==="issue"){const B=M.data;return v.states.some(V=>{var Q;return(Q=B.state)==null?void 0:Q.includes(V)})}return!0})),v.agents.length>0&&(S=S.filter(M=>{var B;if(M.type==="agent"){const V=M.data;return v.agents.includes(V.agentId)}return M.type==="issue"?(B=M.data.assignedAgents)==null?void 0:B.some(Q=>v.agents.includes(Q)):!0})),v.priorities.length>0&&(S=S.filter(M=>{if(M.type==="issue"){const B=M.data;return v.priorities.some(V=>{var Q;return(Q=B.priority)==null?void 0:Q.includes(V)})}return!0})),v.showOnlyActive&&(S=S.filter(M=>{var B,V;if(M.type==="agent"){const Q=M.data;return Q.status==="running"||Q.status==="completed"}if(M.type==="issue"){const Q=M.data;return!((B=Q.state)!=null&&B.includes("done"))&&!((V=Q.state)!=null&&V.includes("failed"))}return!0})),S},[e,v]),O=k.useCallback(S=>s(M=>ll(S,M)),[s]),F=k.useCallback((S,M)=>{H(M),c(M)},[]),q=k.useCallback(()=>{l(!0),fetch("http://localhost:3001/api/refresh",{method:"POST"}).then(S=>S.json()).then(()=>{console.log("✅ Graph refresh triggered"),b({type:"graph:update",message:"Manual refresh triggered",timestamp:new Date().toISOString(),icon:"🔄",color:"#3B82F6"})}).catch(S=>{console.error("❌ Failed to refresh graph:",S)}).finally(()=>{setTimeout(()=>l(!1),500)})},[b]);return k.useEffect(()=>{fetch("http://localhost:3001/api/graph").then(S=>S.json()).then(S=>{t(S.nodes),s(S.edges),l(!1)}).catch(S=>{console.error("Failed to fetch initial graph:",S),l(!1)})},[t,s]),o?u.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),u.jsx("p",{className:"text-gray-600",children:"Loading Agent Flow..."})]})}):u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[u.jsx(z0,{nodes:e}),u.jsx(S_,{nodes:e,startTime:T}),u.jsx(y_,{currentStage:p,completedStages:y}),u.jsx(E_,{trigger:Y}),u.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[u.jsxs("div",{className:"absolute left-4 top-4 z-10 flex gap-2",children:[u.jsx("div",{className:"rounded-lg bg-white p-2 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${E?"animate-pulse bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:E?"Connected":"Disconnected"})]})}),u.jsx("button",{onClick:q,disabled:o,className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50 disabled:opacity-50",title:"Refresh graph manually",children:u.jsx("svg",{className:`h-5 w-5 text-gray-700 ${o?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),u.jsx("button",{onClick:()=>g(!h),className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50",title:"Filter nodes",children:u.jsx("svg",{className:"h-5 w-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]}),h&&u.jsx(g_,{filters:v,onFilterChange:x,onClose:()=>g(!1)}),u.jsxs("div",{className:`flex-1 ${a?"pr-80":""}`,children:[u.jsxs(ul,{nodes:$,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:O,onNodeClick:F,onInit:S=>{_.current=S},nodeTypes:_k,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx($c,{variant:ht.Dots,gap:20,size:2,color:"#4F46E5"}),u.jsx(Tc,{className:"!bg-white/90 !backdrop-blur !border !border-gray-200 !shadow-xl"}),u.jsx(Ac,{className:"!bg-gray-900/90 !border !border-gray-700",nodeColor:S=>{if(S.type==="agent"){const M=S.data;if(M.status==="running")return"#8B5CF6";if(M.status==="completed")return"#10B981";if(M.status==="error")return"#EF4444"}return"#6B7280"}})]}),u.jsx(__,{edges:r,nodes:e,activeEdgeIds:N}),u.jsx(N_,{bubbles:Object.entries(R).map(([S,M])=>({agentId:S,agentName:{codegen:"CodeGen",review:"Review",pr:"PR",deployment:"Deploy",coordinator:"Coordinator"}[S]||S,thinking:M.thinking,position:M.position,status:M.status}))})]}),a&&u.jsx(p_,{selectedNode:a,onClose:()=>c(null)}),u.jsx(x_,{entries:j}),u.jsx(v_,{})]}),u.jsx(L0,{activities:d}),u.jsx(j_,{node:L,onClose:()=>{H(null),c(null)}})]})}const Ek={issue:Rc,agent:Pc,state:Ic},bk=[{id:"agent-coordinator",type:"agent",position:{x:100,y:100},data:{name:"CoordinatorAgent",agentId:"coordinator",status:"running",currentIssue:47,progress:65,parameters:{taskId:"TASK-001",taskTitle:"Implement authentication system",priority:"P0-Critical",estimatedDuration:"4 hours",environment:"production",dependencies:["TASK-002","TASK-003"]}}},{id:"agent-codegen",type:"agent",position:{x:400,y:100},data:{name:"CodeGenAgent",agentId:"codegen",status:"running",currentIssue:58,progress:40,parameters:{taskId:"TASK-002",taskTitle:"Generate user registration component",priority:"P1-High",framework:"React",typescript:!0,testCoverage:"80%"}}},{id:"agent-review",type:"agent",position:{x:700,y:100},data:{name:"ReviewAgent",agentId:"review",status:"idle",progress:0,parameters:{qualityThreshold:85,checks:["security","performance","style"],autoFix:!0}}},{id:"issue-47",type:"issue",position:{x:100,y:300},data:{number:47,title:"Implement authentication system",state:"state:implementing",labels:["type:feature","priority:P0-Critical"],priority:"priority:P0-Critical",assignedAgents:["coordinator"],url:"https://github.com/example/repo/issues/47"}},{id:"issue-58",type:"issue",position:{x:400,y:300},data:{number:58,title:"User registration component",state:"state:implementing",labels:["type:feature","priority:P1-High"],priority:"priority:P1-High",assignedAgents:["codegen"],url:"https://github.com/example/repo/issues/58"}}],jk=[{id:"e-agent-coordinator-issue-47",source:"agent-coordinator",target:"issue-47",type:"smoothstep",animated:!0,style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Ue.ArrowClosed,color:"#8B5CF6"}},{id:"e-agent-codegen-issue-58",source:"agent-codegen",target:"issue-58",type:"smoothstep",animated:!0,style:{stroke:"#00D9FF",strokeWidth:2},markerEnd:{type:Ue.ArrowClosed,color:"#00D9FF"}}];function Ck(){const[e,,t]=jc(bk),[n,r,s]=Cc(jk),[i]=k.useState([{id:"1",type:"agent:started",message:"CoordinatorAgent started working on Issue #47 - Implement authentication system",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"},{id:"2",type:"agent:started",message:"CodeGenAgent started working on Issue #58 - User registration component",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"}]),o=k.useCallback(a=>r(c=>ll(a,c)),[r]),l=k.useCallback((a,c)=>{console.log("Node clicked:",c)},[]);return u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[u.jsx(z0,{nodes:e}),u.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[u.jsxs("div",{className:"absolute left-4 top-4 z-10 rounded-lg bg-blue-500 p-3 text-white shadow-lg",children:[u.jsx("p",{className:"text-sm font-semibold",children:"📊 Mock Data Mode"}),u.jsx("p",{className:"text-xs",children:"Click on agents to see parameters"})]}),u.jsx("div",{className:"flex-1",children:u.jsxs(ul,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:s,onConnect:o,onNodeClick:l,nodeTypes:Ek,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx($c,{}),u.jsx(Tc,{}),u.jsx(Ac,{})]})})]}),u.jsx(L0,{activities:i})]})}const Q0=k.memo(({data:e})=>u.jsxs("div",{className:"min-w-[240px] rounded-lg border-2 border-indigo-600 bg-white shadow-lg overflow-hidden",children:[u.jsx(Qe,{type:"target",position:K.Left,className:"!bg-indigo-600"}),u.jsxs("div",{className:"bg-indigo-600 px-4 py-2 text-white",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:e.icon}),u.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide",children:e.name})]}),e.description&&u.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:e.description})]}),u.jsxs("div",{className:"bg-white",children:[e.primaryKey&&u.jsx("div",{className:"border-b border-gray-200 px-4 py-2 bg-yellow-50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-mono text-yellow-700",children:"🔑"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:e.primaryKey.name}),u.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:e.primaryKey.type})]})}),e.attributes&&e.attributes.length>0&&u.jsx("div",{className:"divide-y divide-gray-100",children:e.attributes.map((t,n)=>u.jsx("div",{className:"px-4 py-2 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[t.required&&u.jsx("span",{className:"text-xs text-red-500",children:"*"}),u.jsx("span",{className:"text-sm text-gray-700",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:t.type}),t.unique&&u.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:"unique"})]})]})},n))}),e.count!==void 0&&u.jsx("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[u.jsx("span",{children:"Records"}),u.jsx("span",{className:"font-semibold text-indigo-600",children:e.count.toLocaleString()})]})})]}),u.jsx(Qe,{type:"source",position:K.Right,className:"!bg-indigo-600"})]}));Q0.displayName="EntityNode";const Z0=k.memo(({data:e})=>{const t=n=>{switch(n){case"1:1":return"text-green-600";case"1:N":return"text-blue-600";case"N:M":return"text-purple-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"relative",style:{width:"180px",height:"100px"},children:[u.jsx(Qe,{type:"target",position:K.Left,className:"!bg-pink-500 z-10"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"rotate(45deg)",transformOrigin:"center"},children:u.jsx("div",{className:"bg-pink-500 shadow-lg",style:{width:"120px",height:"120px",border:"3px solid #EC4899"}})}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[u.jsx("span",{className:"text-2xl mb-1",children:e.icon||"🔗"}),u.jsxs("div",{className:"text-center px-4",children:[u.jsx("p",{className:"text-sm font-bold text-white drop-shadow-md",children:e.name}),e.cardinality&&u.jsx("p",{className:`text-xs font-semibold mt-1 drop-shadow ${t(e.cardinality)}`,children:e.cardinality})]}),e.description&&u.jsx("p",{className:"text-xs text-white/90 drop-shadow text-center mt-1 px-2",children:e.description})]}),u.jsx(Qe,{type:"source",position:K.Right,className:"!bg-pink-500 z-10"})]})});Z0.displayName="RelationNode";const Ak={entity:Q0,relation:Z0},Tk=[{id:"entity-issue",type:"entity",position:{x:100,y:100},data:{name:"Issue",icon:"📋",description:"GitHub Issues managed by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"string",required:!0},{name:"body",type:"text"},{name:"created_at",type:"timestamp",required:!0},{name:"updated_at",type:"timestamp"}],count:142}},{id:"entity-agent",type:"entity",position:{x:600,y:100},data:{name:"Agent",icon:"🤖",description:"Autonomous agents in the system",primaryKey:{name:"id",type:"string"},attributes:[{name:"name",type:"string",required:!0},{name:"type",type:"enum",required:!0},{name:"status",type:"enum",required:!0},{name:"progress",type:"integer"},{name:"last_activity",type:"timestamp"}],count:7}},{id:"entity-label",type:"entity",position:{x:100,y:400},data:{name:"Label",icon:"🏷️",description:"53-label system for state management",primaryKey:{name:"name",type:"string"},attributes:[{name:"category",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"description",type:"text"},{name:"emoji",type:"string"}],count:53}},{id:"entity-pr",type:"entity",position:{x:350,y:700},data:{name:"Pull Request",icon:"🔀",description:"Code changes created by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"enum",required:!0},{name:"base",type:"string",required:!0},{name:"head",type:"string",required:!0},{name:"merged",type:"boolean"}],count:89}},{id:"entity-state",type:"entity",position:{x:900,y:400},data:{name:"State",icon:"🔄",description:"Workflow states in the system",primaryKey:{name:"name",type:"string"},attributes:[{name:"emoji",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"order",type:"integer",required:!0}],count:8}},{id:"rel-issue-agent",type:"relation",position:{x:370,y:100},data:{name:"assigned_to",icon:"👤",cardinality:"1:N",description:"Agent assignment"}},{id:"rel-issue-label",type:"relation",position:{x:100,y:280},data:{name:"has_label",icon:"🔖",cardinality:"N:M"}},{id:"rel-issue-pr",type:"relation",position:{x:250,y:500},data:{name:"resolves",icon:"✅",cardinality:"1:N"}},{id:"rel-agent-state",type:"relation",position:{x:750,y:280},data:{name:"transitions",icon:"🔄",cardinality:"N:M"}}],$k=[{id:"e-issue-rel-issue-agent",source:"entity-issue",target:"rel-issue-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#8B5CF6"}},{id:"e-rel-issue-agent-agent",source:"rel-issue-agent",target:"entity-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#8B5CF6"}},{id:"e-issue-rel-issue-label",source:"entity-issue",target:"rel-issue-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#10B981"}},{id:"e-rel-issue-label-label",source:"rel-issue-label",target:"entity-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#10B981"}},{id:"e-issue-rel-issue-pr",source:"entity-issue",target:"rel-issue-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#F59E0B"}},{id:"e-rel-issue-pr-pr",source:"rel-issue-pr",target:"entity-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#F59E0B"}},{id:"e-agent-rel-agent-state",source:"entity-agent",target:"rel-agent-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#EC4899"}},{id:"e-rel-agent-state-state",source:"rel-agent-state",target:"entity-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:Ue.Arrow,color:"#EC4899"}}];function Rk(){const[e,,t]=jc(Tk),[n,r,s]=Cc($k),i=k.useCallback(l=>r(a=>ll(l,a)),[r]),o=k.useMemo(()=>{const l=e.filter(d=>d.type==="entity"),a=e.filter(d=>d.type==="relation"),c=l.reduce((d,f)=>{const h=f.data;return d+(h.count||0)},0);return{entities:l.length,relations:a.length,totalRecords:c}},[e]);return u.jsxs("div",{className:"flex h-full w-full flex-col",children:[u.jsx("div",{className:"z-20 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-3 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-white",children:"Entity-Relationship Diagram"}),u.jsx("p",{className:"text-xs text-white/80",children:"Miyabi システムのデータモデル構造"})]}),u.jsxs("div",{className:"flex gap-6 text-white",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.entities}),u.jsx("div",{className:"text-xs text-white/80",children:"Entities"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.relations}),u.jsx("div",{className:"text-xs text-white/80",children:"Relations"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.totalRecords.toLocaleString()}),u.jsx("div",{className:"text-xs text-white/80",children:"Total Records"})]})]})]})}),u.jsxs("div",{className:"absolute left-4 top-20 z-10 rounded-lg bg-white p-3 shadow-lg",children:[u.jsx("h3",{className:"mb-2 text-xs font-bold text-gray-700",children:"Legend"}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-4 w-4 rounded border-2 border-indigo-600 bg-white"}),u.jsx("span",{children:"Entity"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-4 w-4 bg-pink-500",style:{transform:"rotate(45deg)"}}),u.jsx("span",{children:"Relationship"})]}),u.jsxs("div",{className:"space-y-1 border-t border-gray-200 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-600",children:"1:N"}),u.jsx("span",{className:"text-gray-600",children:"One-to-Many"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:"N:M"}),u.jsx("span",{className:"text-gray-600",children:"Many-to-Many"})]})]})]})]}),u.jsx("div",{className:"flex-1",children:u.jsxs(ul,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:s,onConnect:i,nodeTypes:Ak,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx($c,{}),u.jsx(Tc,{}),u.jsx(Ac,{nodeColor:l=>l.type==="entity"?"#4F46E5":l.type==="relation"?"#EC4899":"#9CA3AF"})]})})]})}function Pk(){const[e,t]=k.useState("flow");return u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[u.jsx("header",{className:"z-20 bg-gradient-to-r from-purple-600 to-blue-500 shadow-lg",children:u.jsxs("div",{className:"container mx-auto flex items-center justify-between px-6 py-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"🤖"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-white",children:"Miyabi Dashboard"}),u.jsx("p",{className:"text-xs text-white/80",children:"Real-time Agent Visualization"})]})]}),u.jsxs("div",{className:"flex gap-1 rounded-lg bg-white/10 p-1",children:[u.jsx("button",{onClick:()=>t("flow"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="flow"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"🔄 Agent Flow"}),u.jsx("button",{onClick:()=>t("flow-mock"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="flow-mock"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"🎭 Flow (Mock)"}),u.jsx("button",{onClick:()=>t("er"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="er"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"📊 ER Diagram"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("a",{href:"https://github.com/ShunsukeHayashi/Miyabi",target:"_blank",rel:"noopener noreferrer",className:"rounded bg-white/20 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-white/30",children:"GitHub"}),u.jsx("a",{href:"https://shunsukehayashi.github.io/Miyabi/",target:"_blank",rel:"noopener noreferrer",className:"rounded bg-white/20 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-white/30",children:"Docs"})]})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[e==="flow"&&u.jsx(kk,{}),e==="flow-mock"&&u.jsx(Ck,{}),e==="er"&&u.jsx(Rk,{})]})]})}ta.createRoot(document.getElementById("root")).render(u.jsx(z.StrictMode,{children:u.jsx(Pk,{})}));
