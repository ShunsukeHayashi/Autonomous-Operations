(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ob={exports:{}},$a={},Lb={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),MC=Symbol.for("react.portal"),OC=Symbol.for("react.fragment"),LC=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),$C=Symbol.for("react.provider"),FC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),BC=Symbol.for("react.memo"),HC=Symbol.for("react.lazy"),C0=Symbol.iterator;function UC(e){return e===null||typeof e!="object"?null:(e=C0&&e[C0]||e["@@iterator"],typeof e=="function"?e:null)}var qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$b=Object.assign,Fb={};function Ni(e,t,n){this.props=e,this.context=t,this.refs=Fb,this.updater=n||qb}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Db(){}Db.prototype=Ni.prototype;function Pm(e,t,n){this.props=e,this.context=t,this.refs=Fb,this.updater=n||qb}var Mm=Pm.prototype=new Db;Mm.constructor=Pm;$b(Mm,Ni.prototype);Mm.isPureReactComponent=!0;var j0=Array.isArray,zb=Object.prototype.hasOwnProperty,Om={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)zb.call(t,r)&&!Bb.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Us,type:e,key:s,ref:o,props:i,_owner:Om.current}}function VC(e,t){return{$$typeof:Us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function GC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R0=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GC(""+e.key):t.toString(36)}function Oo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Us:case MC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ml(o,0):r,j0(i)?(n="",e!=null&&(n=e.replace(R0,"$&/")+"/"),Oo(i,t,n,"",function(u){return u})):i!=null&&(Lm(i)&&(i=VC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",j0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ml(s,a);o+=Oo(s,t,n,l,i)}else if(l=UC(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ml(s,a++),o+=Oo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function io(e,t,n){if(e==null)return e;var r=[],i=0;return Oo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function WC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Lo={transition:null},KC={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Om};function Ub(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:io,forEach:function(e,t,n){io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!Lm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Ni;ae.Fragment=OC;ae.Profiler=qC;ae.PureComponent=Pm;ae.StrictMode=LC;ae.Suspense=zC;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;ae.act=Ub;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$b({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Om.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zb.call(t,l)&&!Bb.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Us,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:FC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$C,_context:e},e.Consumer=e};ae.createElement=Hb;ae.createFactory=function(e){var t=Hb.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:DC,render:e}};ae.isValidElement=Lm;ae.lazy=function(e){return{$$typeof:HC,_payload:{_status:-1,_result:e},_init:WC}};ae.memo=function(e,t){return{$$typeof:BC,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};ae.unstable_act=Ub;ae.useCallback=function(e,t){return it.current.useCallback(e,t)};ae.useContext=function(e){return it.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return it.current.useDeferredValue(e)};ae.useEffect=function(e,t){return it.current.useEffect(e,t)};ae.useId=function(){return it.current.useId()};ae.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return it.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};ae.useRef=function(e){return it.current.useRef(e)};ae.useState=function(e){return it.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return it.current.useTransition()};ae.version="18.3.1";Lb.exports=ae;var N=Lb.exports;const q=Im(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=N,XC=Symbol.for("react.element"),QC=Symbol.for("react.fragment"),ZC=Object.prototype.hasOwnProperty,JC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ej={key:!0,ref:!0,__self:!0,__source:!0};function Vb(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ZC.call(t,r)&&!ej.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:XC,type:e,key:s,ref:o,props:i,_owner:JC.current}}$a.Fragment=QC;$a.jsx=Vb;$a.jsxs=Vb;Ob.exports=$a;var f=Ob.exports,pp={},Gb={exports:{}},Nt={},Wb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var M=A.length;A.push(C);e:for(;0<M;){var $=M-1>>>1,F=A[$];if(0<i(F,C))A[$]=C,A[M]=F,M=$;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var C=A[0],M=A.pop();if(M!==C){A[0]=M;e:for(var $=0,F=A.length,W=F>>>1;$<W;){var G=2*($+1)-1,J=A[G],ee=G+1,ne=A[ee];if(0>i(J,M))ee<F&&0>i(ne,J)?(A[$]=ne,A[ee]=M,$=ee):(A[$]=J,A[G]=M,$=G);else if(ee<F&&0>i(ne,M))A[$]=ne,A[ee]=M,$=ee;else break e}}return C}function i(A,C){var M=A.sortIndex-C.sortIndex;return M!==0?M:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=A)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function _(A){if(y=!1,x(A),!v)if(n(l)!==null)v=!0,R(E);else{var C=n(u);C!==null&&D(_,C.startTime-A)}}function E(A,C){v=!1,y&&(y=!1,m(j),j=-1),p=!0;var M=h;try{for(x(C),d=n(l);d!==null&&(!(d.expirationTime>C)||A&&!L());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var F=$(d.expirationTime<=C);C=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),x(C)}else r(l);d=n(l)}if(d!==null)var W=!0;else{var G=n(u);G!==null&&D(_,G.startTime-C),W=!1}return W}finally{d=null,h=M,p=!1}}var S=!1,k=null,j=-1,I=5,P=-1;function L(){return!(e.unstable_now()-P<I)}function B(){if(k!==null){var A=e.unstable_now();P=A;var C=!0;try{C=k(!0,A)}finally{C?z():(S=!1,k=null)}}else S=!1}var z;if(typeof g=="function")z=function(){g(B)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=B,z=function(){O.postMessage(null)}}else z=function(){w(B,0)};function R(A){k=A,S||(S=!0,z())}function D(A,C){j=w(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,R(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var M=h;h=C;try{return A()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=h;h=A;try{return C()}finally{h=M}},e.unstable_scheduleCallback=function(A,C,M){var $=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,A={id:c++,callback:C,priorityLevel:A,startTime:M,expirationTime:F,sortIndex:-1},M>$?(A.sortIndex=M,t(u,A),n(l)===null&&A===n(u)&&(y?(m(j),j=-1):y=!0,D(_,M-$))):(A.sortIndex=F,t(l,A),v||p||(v=!0,R(E))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var C=h;return function(){var M=h;h=C;try{return A.apply(this,arguments)}finally{h=M}}}})(Kb);Wb.exports=Kb;var tj=Wb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj=N,_t=tj;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yb=new Set,xs={};function Ir(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(xs[e]=t,e=0;e<t.length;e++)Yb.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,rj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},A0={};function ij(e){return mp.call(A0,e)?!0:mp.call(T0,e)?!1:rj.test(e)?A0[e]=!0:(T0[e]=!0,!1)}function sj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oj(e,t,n,r){if(t===null||typeof t>"u"||sj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function $m(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qm,$m);Ye[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qm,$m);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qm,$m);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fm(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oj(t,n,i,r)&&(n=null),r||i===null?ij(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),Zb=Symbol.for("react.offscreen"),I0=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Ol;function Xi(e){if(Ol===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Ll=!1;function ql(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xi(e):""}function aj(e){switch(e.tag){case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return e=ql(e.type,!1),e;case 11:return e=ql(e.type.render,!1),e;case 1:return e=ql(e.type,!0),e;default:return""}}function xp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Ur:return"Portal";case gp:return"Profiler";case Dm:return"StrictMode";case yp:return"Suspense";case vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qb:return(e.displayName||"Context")+".Consumer";case Xb:return(e._context.displayName||"Context")+".Provider";case zm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bm:return t=e.displayName||null,t!==null?t:xp(e.type)||"Memo";case qn:t=e._payload,e=e._init;try{return xp(e(t))}catch{}}return null}function lj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(t);case 8:return t===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uj(e){var t=Jb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oo(e){e._valueTracker||(e._valueTracker=uj(e))}function eN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wp(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function P0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ir(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tN(e,t){t=t.checked,t!=null&&Fm(e,"checked",t,!1)}function _p(e,t){tN(e,t);var n=ir(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bp(e,t.type,n):t.hasOwnProperty("defaultValue")&&bp(e,t.type,ir(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bp(e,t,n){(t!=="number"||ta(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qi=Array.isArray;function ri(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ir(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Np(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Qi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ir(n)}}function nN(e,t){var n=ir(t.value),r=ir(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function L0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,iN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cj=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){cj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function sN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function oN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dj=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(e,t){if(t){if(dj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function Hm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jp=null,ii=null,si=null;function q0(e){if(e=Ws(e)){if(typeof jp!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ha(t),jp(e.stateNode,e.type,t))}}function aN(e){ii?si?si.push(e):si=[e]:ii=e}function lN(){if(ii){var e=ii,t=si;if(si=ii=null,q0(e),t)for(e=0;e<t.length;e++)q0(t[e])}}function uN(e,t){return e(t)}function cN(){}var $l=!1;function dN(e,t,n){if($l)return e(t,n);$l=!0;try{return uN(e,t,n)}finally{$l=!1,(ii!==null||si!==null)&&(cN(),lN())}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var r=Ha(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Rp=!1;if(En)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Rp=!1}function fj(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ds=!1,na=null,ra=!1,Tp=null,hj={onError:function(e){ds=!0,na=e}};function pj(e,t,n,r,i,s,o,a,l){ds=!1,na=null,fj.apply(hj,arguments)}function mj(e,t,n,r,i,s,o,a,l){if(pj.apply(this,arguments),ds){if(ds){var u=na;ds=!1,na=null}else throw Error(U(198));ra||(ra=!0,Tp=u)}}function Pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(Pr(e)!==e)throw Error(U(188))}function gj(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $0(i),e;if(s===r)return $0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function hN(e){return e=gj(e),e!==null?pN(e):null}function pN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pN(e);if(t!==null)return t;e=e.sibling}return null}var mN=_t.unstable_scheduleCallback,F0=_t.unstable_cancelCallback,yj=_t.unstable_shouldYield,vj=_t.unstable_requestPaint,Ie=_t.unstable_now,xj=_t.unstable_getCurrentPriorityLevel,Um=_t.unstable_ImmediatePriority,gN=_t.unstable_UserBlockingPriority,ia=_t.unstable_NormalPriority,wj=_t.unstable_LowPriority,yN=_t.unstable_IdlePriority,Fa=null,rn=null;function _j(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Fa,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Ej,bj=Math.log,Nj=Math.LN2;function Ej(e){return e>>>=0,e===0?32:31-(bj(e)/Nj|0)|0}var lo=64,uo=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zi(a):(s&=o,s!==0&&(r=Zi(s)))}else o=n&~i,o!==0?r=Zi(o):s!==0&&(r=Zi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),i=1<<n,r|=e[n],t&=~i;return r}function Sj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Gt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Sj(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Ap(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vN(){var e=lo;return lo<<=1,!(lo&4194240)&&(lo=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function Cj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Vm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function xN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wN,Gm,_N,bN,NN,Ip=!1,co=[],Wn=null,Kn=null,Yn=null,bs=new Map,Ns=new Map,zn=[],jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D0(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function qi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ws(t),t!==null&&Gm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rj(e,t,n,r,i){switch(t){case"focusin":return Wn=qi(Wn,e,t,n,r,i),!0;case"dragenter":return Kn=qi(Kn,e,t,n,r,i),!0;case"mouseover":return Yn=qi(Yn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bs.set(s,qi(bs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ns.set(s,qi(Ns.get(s)||null,e,t,n,r,i)),!0}return!1}function EN(e){var t=mr(e.target);if(t!==null){var n=Pr(t);if(n!==null){if(t=n.tag,t===13){if(t=fN(n),t!==null){e.blockedOn=t,NN(e.priority,function(){_N(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return t=Ws(n),t!==null&&Gm(t),e.blockedOn=n,!1;t.shift()}return!0}function z0(e,t,n){qo(e)&&n.delete(t)}function Tj(){Ip=!1,Wn!==null&&qo(Wn)&&(Wn=null),Kn!==null&&qo(Kn)&&(Kn=null),Yn!==null&&qo(Yn)&&(Yn=null),bs.forEach(z0),Ns.forEach(z0)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,Ip||(Ip=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Tj)))}function Es(e){function t(i){return $i(i,e)}if(0<co.length){$i(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wn!==null&&$i(Wn,e),Kn!==null&&$i(Kn,e),Yn!==null&&$i(Yn,e),bs.forEach(t),Ns.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)EN(n),n.blockedOn===null&&zn.shift()}var oi=An.ReactCurrentBatchConfig,oa=!0;function Aj(e,t,n,r){var i=me,s=oi.transition;oi.transition=null;try{me=1,Wm(e,t,n,r)}finally{me=i,oi.transition=s}}function Ij(e,t,n,r){var i=me,s=oi.transition;oi.transition=null;try{me=4,Wm(e,t,n,r)}finally{me=i,oi.transition=s}}function Wm(e,t,n,r){if(oa){var i=Pp(e,t,n,r);if(i===null)Yl(e,t,r,aa,n),D0(e,r);else if(Rj(i,e,t,n,r))r.stopPropagation();else if(D0(e,r),t&4&&-1<jj.indexOf(e)){for(;i!==null;){var s=Ws(i);if(s!==null&&wN(s),s=Pp(e,t,n,r),s===null&&Yl(e,t,r,aa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yl(e,t,r,null,n)}}var aa=null;function Pp(e,t,n,r){if(aa=null,e=Hm(r),e=mr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return aa=e,null}function SN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xj()){case Um:return 1;case gN:return 4;case ia:case wj:return 16;case yN:return 536870912;default:return 16}default:return 16}}var Vn=null,Km=null,$o=null;function kN(){if($o)return $o;var e,t=Km,n=t.length,r,i="value"in Vn?Vn.value:Vn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $o=i.slice(e,1<r?1-r:void 0)}function Fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function B0(){return!1}function Et(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fo:B0,this.isPropagationStopped=B0,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ym=Et(Ei),Gs=je({},Ei,{view:0,detail:0}),Pj=Et(Gs),Dl,zl,Fi,Da=je({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(Dl=e.screenX-Fi.screenX,zl=e.screenY-Fi.screenY):zl=Dl=0,Fi=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),H0=Et(Da),Mj=je({},Da,{dataTransfer:0}),Oj=Et(Mj),Lj=je({},Gs,{relatedTarget:0}),Bl=Et(Lj),qj=je({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=Et(qj),Fj=je({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dj=Et(Fj),zj=je({},Ei,{data:0}),U0=Et(zj),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uj[e])?!!t[e]:!1}function Xm(){return Vj}var Gj=je({},Gs,{key:function(e){if(e.key){var t=Bj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xm,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wj=Et(Gj),Kj=je({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=Et(Kj),Yj=je({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xm}),Xj=Et(Yj),Qj=je({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zj=Et(Qj),Jj=je({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e3=Et(Jj),t3=[9,13,27,32],Qm=En&&"CompositionEvent"in window,fs=null;En&&"documentMode"in document&&(fs=document.documentMode);var n3=En&&"TextEvent"in window&&!fs,CN=En&&(!Qm||fs&&8<fs&&11>=fs),G0=" ",W0=!1;function jN(e,t){switch(e){case"keyup":return t3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function r3(e,t){switch(e){case"compositionend":return RN(t);case"keypress":return t.which!==32?null:(W0=!0,G0);case"textInput":return e=t.data,e===G0&&W0?null:e;default:return null}}function i3(e,t){if(Gr)return e==="compositionend"||!Qm&&jN(e,t)?(e=kN(),$o=Km=Vn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CN&&t.locale!=="ko"?null:t.data;default:return null}}var s3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s3[e.type]:t==="textarea"}function TN(e,t,n,r){aN(r),t=la(t,"onChange"),0<t.length&&(n=new Ym("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hs=null,Ss=null;function o3(e){zN(e,0)}function za(e){var t=Yr(e);if(eN(t))return e}function a3(e,t){if(e==="change")return t}var AN=!1;if(En){var Hl;if(En){var Ul="oninput"in document;if(!Ul){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),Ul=typeof Y0.oninput=="function"}Hl=Ul}else Hl=!1;AN=Hl&&(!document.documentMode||9<document.documentMode)}function X0(){hs&&(hs.detachEvent("onpropertychange",IN),Ss=hs=null)}function IN(e){if(e.propertyName==="value"&&za(Ss)){var t=[];TN(t,Ss,e,Hm(e)),dN(o3,t)}}function l3(e,t,n){e==="focusin"?(X0(),hs=t,Ss=n,hs.attachEvent("onpropertychange",IN)):e==="focusout"&&X0()}function u3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(Ss)}function c3(e,t){if(e==="click")return za(t)}function d3(e,t){if(e==="input"||e==="change")return za(t)}function f3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:f3;function ks(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mp.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function Q0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Z0(e,t){var n=Q0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q0(n)}}function PN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MN(){for(var e=window,t=ta();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ta(e.document)}return t}function Zm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h3(e){var t=MN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&PN(n.ownerDocument.documentElement,n)){if(r!==null&&Zm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Z0(n,s);var o=Z0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p3=En&&"documentMode"in document&&11>=document.documentMode,Wr=null,Mp=null,ps=null,Op=!1;function J0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Wr==null||Wr!==ta(r)||(r=Wr,"selectionStart"in r&&Zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&ks(ps,r)||(ps=r,r=la(Mp,"onSelect"),0<r.length&&(t=new Ym("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},Vl={},ON={};En&&(ON=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Ba(e){if(Vl[e])return Vl[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ON)return Vl[e]=t[n];return e}var LN=Ba("animationend"),qN=Ba("animationiteration"),$N=Ba("animationstart"),FN=Ba("transitionend"),DN=new Map,ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){DN.set(e,t),Ir(t,[e])}for(var Gl=0;Gl<ey.length;Gl++){var Wl=ey[Gl],m3=Wl.toLowerCase(),g3=Wl[0].toUpperCase()+Wl.slice(1);ar(m3,"on"+g3)}ar(LN,"onAnimationEnd");ar(qN,"onAnimationIteration");ar($N,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(FN,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function ty(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mj(r,t,void 0,e),e.currentTarget=null}function zN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ty(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ty(i,a,u),s=l}}}if(ra)throw e=Tp,ra=!1,Tp=null,e}function xe(e,t){var n=t[Dp];n===void 0&&(n=t[Dp]=new Set);var r=e+"__bubble";n.has(r)||(BN(t,e,2,!1),n.add(r))}function Kl(e,t,n){var r=0;t&&(r|=4),BN(n,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[po]){e[po]=!0,Yb.forEach(function(n){n!=="selectionchange"&&(y3.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,Kl("selectionchange",!1,t))}}function BN(e,t,n,r){switch(SN(t)){case 1:var i=Aj;break;case 4:i=Ij;break;default:i=Wm}n=i.bind(null,t,n,e),i=void 0,!Rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dN(function(){var u=s,c=Hm(n),d=[];e:{var h=DN.get(e);if(h!==void 0){var p=Ym,v=e;switch(e){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":p=Wj;break;case"focusin":v="focus",p=Bl;break;case"focusout":v="blur",p=Bl;break;case"beforeblur":case"afterblur":p=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Oj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xj;break;case LN:case qN:case $N:p=$j;break;case FN:p=Zj;break;case"scroll":p=Pj;break;case"wheel":p=e3;break;case"copy":case"cut":case"paste":p=Dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=V0}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=_s(g,m),_!=null&&y.push(js(g,_,x)))),w)break;g=g.return}0<y.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Cp&&(v=n.relatedTarget||n.fromElement)&&(mr(v)||v[Sn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?mr(v):null,v!==null&&(w=Pr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=H0,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=V0,_="onPointerLeave",m="onPointerEnter",g="pointer"),w=p==null?h:Yr(p),x=v==null?h:Yr(v),h=new y(_,g+"leave",p,n,c),h.target=w,h.relatedTarget=x,_=null,mr(c)===u&&(y=new y(m,g+"enter",v,n,c),y.target=x,y.relatedTarget=w,_=y),w=_,p&&v)t:{for(y=p,m=v,g=0,x=y;x;x=Fr(x))g++;for(x=0,_=m;_;_=Fr(_))x++;for(;0<g-x;)y=Fr(y),g--;for(;0<x-g;)m=Fr(m),x--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Fr(y),m=Fr(m)}y=null}else y=null;p!==null&&ny(d,h,p,y,!1),v!==null&&w!==null&&ny(d,w,v,y,!0)}}e:{if(h=u?Yr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=a3;else if(K0(h))if(AN)E=d3;else{E=u3;var S=l3}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=c3);if(E&&(E=E(e,u))){TN(d,E,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&bp(h,"number",h.value)}switch(S=u?Yr(u):window,e){case"focusin":(K0(S)||S.contentEditable==="true")&&(Wr=S,Mp=u,ps=null);break;case"focusout":ps=Mp=Wr=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,J0(d,n,c);break;case"selectionchange":if(p3)break;case"keydown":case"keyup":J0(d,n,c)}var k;if(Qm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Gr?jN(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(CN&&n.locale!=="ko"&&(Gr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Gr&&(k=kN()):(Vn=c,Km="value"in Vn?Vn.value:Vn.textContent,Gr=!0)),S=la(u,j),0<S.length&&(j=new U0(j,e,null,n,c),d.push({event:j,listeners:S}),k?j.data=k:(k=RN(n),k!==null&&(j.data=k)))),(k=n3?r3(e,n):i3(e,n))&&(u=la(u,"onBeforeInput"),0<u.length&&(c=new U0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}zN(d,t)})}function js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function la(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_s(e,n),s!=null&&r.unshift(js(e,s,i)),s=_s(e,t),s!=null&&r.push(js(e,s,i))),e=e.return}return r}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ny(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_s(n,s),l!=null&&o.unshift(js(n,l,a))):i||(l=_s(n,s),l!=null&&o.push(js(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var v3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function ry(e){return(typeof e=="string"?e:""+e).replace(v3,`
`).replace(x3,"")}function mo(e,t,n){if(t=ry(t),ry(e)!==t&&n)throw Error(U(425))}function ua(){}var Lp=null,qp=null;function $p(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,_3=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(e){return iy.resolve(null).then(e).catch(b3)}:Fp;function b3(e){setTimeout(function(){throw e})}function Xl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Es(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),tn="__reactFiber$"+Si,Rs="__reactProps$"+Si,Sn="__reactContainer$"+Si,Dp="__reactEvents$"+Si,N3="__reactListeners$"+Si,E3="__reactHandles$"+Si;function mr(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sy(e);e!==null;){if(n=e[tn])return n;e=sy(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){return e=e[tn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ha(e){return e[Rs]||null}var zp=[],Xr=-1;function lr(e){return{current:e}}function we(e){0>Xr||(e.current=zp[Xr],zp[Xr]=null,Xr--)}function ge(e,t){Xr++,zp[Xr]=e.current,e.current=t}var sr={},tt=lr(sr),dt=lr(!1),Sr=sr;function hi(e,t){var n=e.type.contextTypes;if(!n)return sr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function ca(){we(dt),we(tt)}function oy(e,t,n){if(tt.current!==sr)throw Error(U(168));ge(tt,t),ge(dt,n)}function HN(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,lj(e)||"Unknown",i));return je({},n,r)}function da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Sr=tt.current,ge(tt,e),ge(dt,dt.current),!0}function ay(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=HN(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,we(dt),we(tt),ge(tt,e)):we(dt),ge(dt,n)}var gn=null,Ua=!1,Ql=!1;function UN(e){gn===null?gn=[e]:gn.push(e)}function S3(e){Ua=!0,UN(e)}function ur(){if(!Ql&&gn!==null){Ql=!0;var e=0,t=me;try{var n=gn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gn=null,Ua=!1}catch(i){throw gn!==null&&(gn=gn.slice(e+1)),mN(Um,ur),i}finally{me=t,Ql=!1}}return null}var Qr=[],Zr=0,fa=null,ha=0,kt=[],Ct=0,kr=null,yn=1,vn="";function fr(e,t){Qr[Zr++]=ha,Qr[Zr++]=fa,fa=e,ha=t}function VN(e,t,n){kt[Ct++]=yn,kt[Ct++]=vn,kt[Ct++]=kr,kr=e;var r=yn;e=vn;var i=32-Gt(r)-1;r&=~(1<<i),n+=1;var s=32-Gt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yn=1<<32-Gt(t)+i|n<<i|r,vn=s+e}else yn=1<<s|n<<i|r,vn=e}function Jm(e){e.return!==null&&(fr(e,1),VN(e,1,0))}function eg(e){for(;e===fa;)fa=Qr[--Zr],Qr[Zr]=null,ha=Qr[--Zr],Qr[Zr]=null;for(;e===kr;)kr=kt[--Ct],kt[Ct]=null,vn=kt[--Ct],kt[Ct]=null,yn=kt[--Ct],kt[Ct]=null}var wt=null,xt=null,be=!1,Ut=null;function GN(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ly(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,xt=null,!0):!1;default:return!1}}function Bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hp(e){if(be){var t=xt;if(t){var n=t;if(!ly(e,t)){if(Bp(e))throw Error(U(418));t=Xn(n.nextSibling);var r=wt;t&&ly(e,t)?GN(r,n):(e.flags=e.flags&-4097|2,be=!1,wt=e)}}else{if(Bp(e))throw Error(U(418));e.flags=e.flags&-4097|2,be=!1,wt=e}}}function uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function go(e){if(e!==wt)return!1;if(!be)return uy(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$p(e.type,e.memoizedProps)),t&&(t=xt)){if(Bp(e))throw WN(),Error(U(418));for(;t;)GN(e,t),t=Xn(t.nextSibling)}if(uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?Xn(e.stateNode.nextSibling):null;return!0}function WN(){for(var e=xt;e;)e=Xn(e.nextSibling)}function pi(){xt=wt=null,be=!1}function tg(e){Ut===null?Ut=[e]:Ut.push(e)}var k3=An.ReactCurrentBatchConfig;function Di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cy(e){var t=e._init;return t(e._payload)}function KN(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=er(m,g),m.index=0,m.sibling=null,m}function s(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,_){return g===null||g.tag!==6?(g=iu(x,m.mode,_),g.return=m,g):(g=i(g,x),g.return=m,g)}function l(m,g,x,_){var E=x.type;return E===Vr?c(m,g,x.props.children,_,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qn&&cy(E)===g.type)?(_=i(g,x.props),_.ref=Di(m,g,x),_.return=m,_):(_=Go(x.type,x.key,x.props,null,m.mode,_),_.ref=Di(m,g,x),_.return=m,_)}function u(m,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=su(x,m.mode,_),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function c(m,g,x,_,E){return g===null||g.tag!==7?(g=br(x,m.mode,_,E),g.return=m,g):(g=i(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=iu(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case so:return x=Go(g.type,g.key,g.props,null,m.mode,x),x.ref=Di(m,null,g),x.return=m,x;case Ur:return g=su(g,m.mode,x),g.return=m,g;case qn:var _=g._init;return d(m,_(g._payload),x)}if(Qi(g)||Oi(g))return g=br(g,m.mode,x,null),g.return=m,g;yo(m,g)}return null}function h(m,g,x,_){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case so:return x.key===E?l(m,g,x,_):null;case Ur:return x.key===E?u(m,g,x,_):null;case qn:return E=x._init,h(m,g,E(x._payload),_)}if(Qi(x)||Oi(x))return E!==null?null:c(m,g,x,_,null);yo(m,x)}return null}function p(m,g,x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,a(g,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case so:return m=m.get(_.key===null?x:_.key)||null,l(g,m,_,E);case Ur:return m=m.get(_.key===null?x:_.key)||null,u(g,m,_,E);case qn:var S=_._init;return p(m,g,x,S(_._payload),E)}if(Qi(_)||Oi(_))return m=m.get(x)||null,c(g,m,_,E,null);yo(g,_)}return null}function v(m,g,x,_){for(var E=null,S=null,k=g,j=g=0,I=null;k!==null&&j<x.length;j++){k.index>j?(I=k,k=null):I=k.sibling;var P=h(m,k,x[j],_);if(P===null){k===null&&(k=I);break}e&&k&&P.alternate===null&&t(m,k),g=s(P,g,j),S===null?E=P:S.sibling=P,S=P,k=I}if(j===x.length)return n(m,k),be&&fr(m,j),E;if(k===null){for(;j<x.length;j++)k=d(m,x[j],_),k!==null&&(g=s(k,g,j),S===null?E=k:S.sibling=k,S=k);return be&&fr(m,j),E}for(k=r(m,k);j<x.length;j++)I=p(k,m,j,x[j],_),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?j:I.key),g=s(I,g,j),S===null?E=I:S.sibling=I,S=I);return e&&k.forEach(function(L){return t(m,L)}),be&&fr(m,j),E}function y(m,g,x,_){var E=Oi(x);if(typeof E!="function")throw Error(U(150));if(x=E.call(x),x==null)throw Error(U(151));for(var S=E=null,k=g,j=g=0,I=null,P=x.next();k!==null&&!P.done;j++,P=x.next()){k.index>j?(I=k,k=null):I=k.sibling;var L=h(m,k,P.value,_);if(L===null){k===null&&(k=I);break}e&&k&&L.alternate===null&&t(m,k),g=s(L,g,j),S===null?E=L:S.sibling=L,S=L,k=I}if(P.done)return n(m,k),be&&fr(m,j),E;if(k===null){for(;!P.done;j++,P=x.next())P=d(m,P.value,_),P!==null&&(g=s(P,g,j),S===null?E=P:S.sibling=P,S=P);return be&&fr(m,j),E}for(k=r(m,k);!P.done;j++,P=x.next())P=p(k,m,j,P.value,_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?j:P.key),g=s(P,g,j),S===null?E=P:S.sibling=P,S=P);return e&&k.forEach(function(B){return t(m,B)}),be&&fr(m,j),E}function w(m,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Vr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case so:e:{for(var E=x.key,S=g;S!==null;){if(S.key===E){if(E=x.type,E===Vr){if(S.tag===7){n(m,S.sibling),g=i(S,x.props.children),g.return=m,m=g;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qn&&cy(E)===S.type){n(m,S.sibling),g=i(S,x.props),g.ref=Di(m,S,x),g.return=m,m=g;break e}n(m,S);break}else t(m,S);S=S.sibling}x.type===Vr?(g=br(x.props.children,m.mode,_,x.key),g.return=m,m=g):(_=Go(x.type,x.key,x.props,null,m.mode,_),_.ref=Di(m,g,x),_.return=m,m=_)}return o(m);case Ur:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=su(x,m.mode,_),g.return=m,m=g}return o(m);case qn:return S=x._init,w(m,g,S(x._payload),_)}if(Qi(x))return v(m,g,x,_);if(Oi(x))return y(m,g,x,_);yo(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,x),g.return=m,m=g):(n(m,g),g=iu(x,m.mode,_),g.return=m,m=g),o(m)):n(m,g)}return w}var mi=KN(!0),YN=KN(!1),pa=lr(null),ma=null,Jr=null,ng=null;function rg(){ng=Jr=ma=null}function ig(e){var t=pa.current;we(pa),e._currentValue=t}function Up(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ai(e,t){ma=e,ng=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(ng!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(ma===null)throw Error(U(308));Jr=e,ma.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var gr=null;function sg(e){gr===null?gr=[e]:gr.push(e)}function XN(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sg(t)):(n.next=i.next,i.next=n),t.interleaved=n,kn(e,r)}function kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function og(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kn(e,n)}return i=r.interleaved,i===null?(t.next=t,sg(r)):(t.next=i.next,i.next=t),r.interleaved=t,kn(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vm(e,n)}}function dy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ga(e,t,n,r){var i=e.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(h=t,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=je({},d,h);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);jr|=o,e.lanes=o,e.memoizedState=d}}function fy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Ks={},sn=lr(Ks),Ts=lr(Ks),As=lr(Ks);function yr(e){if(e===Ks)throw Error(U(174));return e}function ag(e,t){switch(ge(As,t),ge(Ts,e),ge(sn,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ep(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ep(t,e)}we(sn),ge(sn,t)}function gi(){we(sn),we(Ts),we(As)}function ZN(e){yr(As.current);var t=yr(sn.current),n=Ep(t,e.type);t!==n&&(ge(Ts,e),ge(sn,n))}function lg(e){Ts.current===e&&(we(sn),we(Ts))}var ke=lr(0);function ya(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function ug(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var zo=An.ReactCurrentDispatcher,Jl=An.ReactCurrentBatchConfig,Cr=0,Ce=null,De=null,He=null,va=!1,ms=!1,Is=0,C3=0;function Ze(){throw Error(U(321))}function cg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function dg(e,t,n,r,i,s){if(Cr=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zo.current=e===null||e.memoizedState===null?A3:I3,e=n(r,i),ms){s=0;do{if(ms=!1,Is=0,25<=s)throw Error(U(301));s+=1,He=De=null,t.updateQueue=null,zo.current=P3,e=n(r,i)}while(ms)}if(zo.current=xa,t=De!==null&&De.next!==null,Cr=0,He=De=Ce=null,va=!1,t)throw Error(U(300));return e}function fg(){var e=Is!==0;return Is=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=e:He=He.next=e,He}function Ot(){if(De===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=He===null?Ce.memoizedState:He.next;if(t!==null)He=t,De=e;else{if(e===null)throw Error(U(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},He===null?Ce.memoizedState=He=e:He=He.next=e}return He}function Ps(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=Ot(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Cr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ce.lanes|=c,jr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Kt(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,jr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tu(e){var t=Ot(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Kt(s,t.memoizedState)||(ut=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function JN(){}function eE(e,t){var n=Ce,r=Ot(),i=t(),s=!Kt(r.memoizedState,i);if(s&&(r.memoizedState=i,ut=!0),r=r.queue,hg(rE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Ms(9,nE.bind(null,n,r,i,t),void 0,null),Ue===null)throw Error(U(349));Cr&30||tE(n,t,i)}return i}function tE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nE(e,t,n,r){t.value=n,t.getSnapshot=r,iE(t)&&sE(e)}function rE(e,t,n){return n(function(){iE(t)&&sE(e)})}function iE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function sE(e){var t=kn(e,1);t!==null&&Wt(t,e,1,-1)}function hy(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=T3.bind(null,Ce,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oE(){return Ot().memoizedState}function Bo(e,t,n,r){var i=en();Ce.flags|=e,i.memoizedState=Ms(1|t,n,void 0,r===void 0?null:r)}function Va(e,t,n,r){var i=Ot();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&cg(r,o.deps)){i.memoizedState=Ms(t,n,s,r);return}}Ce.flags|=e,i.memoizedState=Ms(1|t,n,s,r)}function py(e,t){return Bo(8390656,8,e,t)}function hg(e,t){return Va(2048,8,e,t)}function aE(e,t){return Va(4,2,e,t)}function lE(e,t){return Va(4,4,e,t)}function uE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cE(e,t,n){return n=n!=null?n.concat([e]):null,Va(4,4,uE.bind(null,t,e),n)}function pg(){}function dE(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fE(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hE(e,t,n){return Cr&21?(Kt(n,t)||(n=vN(),Ce.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function j3(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Jl.transition;Jl.transition={};try{e(!1),t()}finally{me=n,Jl.transition=r}}function pE(){return Ot().memoizedState}function R3(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mE(e))gE(t,n);else if(n=XN(e,t,n,r),n!==null){var i=rt();Wt(n,e,r,i),yE(n,t,r)}}function T3(e,t,n){var r=Jn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mE(e))gE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kt(a,o)){var l=t.interleaved;l===null?(i.next=i,sg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=XN(e,t,i,r),n!==null&&(i=rt(),Wt(n,e,r,i),yE(n,t,r))}}function mE(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function gE(e,t){ms=va=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vm(e,n)}}var xa={readContext:Mt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},A3={readContext:Mt,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:py,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4194308,4,uE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=en();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=R3.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:hy,useDebugValue:pg,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=hy(!1),t=e[0];return e=j3.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=en();if(be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ue===null)throw Error(U(349));Cr&30||tE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,py(rE.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,nE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=en(),t=Ue.identifierPrefix;if(be){var n=vn,r=yn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=C3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I3={readContext:Mt,useCallback:dE,useContext:Mt,useEffect:hg,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:fE,useReducer:eu,useRef:oE,useState:function(){return eu(Ps)},useDebugValue:pg,useDeferredValue:function(e){var t=Ot();return hE(t,De.memoizedState,e)},useTransition:function(){var e=eu(Ps)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:JN,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1},P3={readContext:Mt,useCallback:dE,useContext:Mt,useEffect:hg,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:fE,useReducer:tu,useRef:oE,useState:function(){return tu(Ps)},useDebugValue:pg,useDeferredValue:function(e){var t=Ot();return De===null?t.memoizedState=e:hE(t,De.memoizedState,e)},useTransition:function(){var e=tu(Ps)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:JN,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ga={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),i=Jn(e),s=bn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Qn(e,s,i),t!==null&&(Wt(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),i=Jn(e),s=bn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Qn(e,s,i),t!==null&&(Wt(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=Jn(e),i=bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,r),t!==null&&(Wt(t,e,r,n),Do(t,e,r))}};function my(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ks(n,r)||!ks(i,s):!0}function vE(e,t,n){var r=!1,i=sr,s=t.contextType;return typeof s=="object"&&s!==null?s=Mt(s):(i=ft(t)?Sr:tt.current,r=t.contextTypes,s=(r=r!=null)?hi(e,i):sr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ga,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function gy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ga.enqueueReplaceState(t,t.state,null)}function Gp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},og(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Mt(s):(s=ft(t)?Sr:tt.current,i.context=hi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Vp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ga.enqueueReplaceState(i,i.state,null),ga(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var n="",r=t;do n+=aj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M3=typeof WeakMap=="function"?WeakMap:Map;function xE(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_a||(_a=!0,rm=r),Wp(e,t)},n}function wE(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wp(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function yy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=K3.bind(null,e,t,n),t.then(e,e))}function vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var O3=An.ReactCurrentOwner,ut=!1;function nt(e,t,n,r){t.child=e===null?YN(t,null,n,r):mi(t,e.child,n,r)}function wy(e,t,n,r,i){n=n.render;var s=t.ref;return ai(t,i),r=dg(e,t,n,r,s,i),n=fg(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cn(e,t,i)):(be&&n&&Jm(t),t.flags|=1,nt(e,t,r,i),t.child)}function _y(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!bg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_E(e,t,s,r,i)):(e=Go(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(o,r)&&e.ref===t.ref)return Cn(e,t,i)}return t.flags|=1,e=er(s,r),e.ref=t.ref,e.return=t,t.child=e}function _E(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ks(s,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Cn(e,t,i)}return Kp(e,t,n,r,i)}function bE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ti,yt),yt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ti,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(ti,yt),yt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ge(ti,yt),yt|=r;return nt(e,t,i,n),t.child}function NE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Kp(e,t,n,r,i){var s=ft(n)?Sr:tt.current;return s=hi(t,s),ai(t,i),n=dg(e,t,n,r,s,i),r=fg(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cn(e,t,i)):(be&&r&&Jm(t),t.flags|=1,nt(e,t,n,i),t.child)}function by(e,t,n,r,i){if(ft(n)){var s=!0;da(t)}else s=!1;if(ai(t,i),t.stateNode===null)Ho(e,t),vE(t,n,r),Gp(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=ft(n)?Sr:tt.current,u=hi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gy(t,o,r,u),$n=!1;var h=t.memoizedState;o.state=h,ga(t,r,o,i),l=t.memoizedState,a!==r||h!==l||dt.current||$n?(typeof c=="function"&&(Vp(t,n,c,r),l=t.memoizedState),(a=$n||my(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,QN(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Dt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=ft(n)?Sr:tt.current,l=hi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&gy(t,o,r,l),$n=!1,h=t.memoizedState,o.state=h,ga(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||dt.current||$n?(typeof p=="function"&&(Vp(t,n,p,r),v=t.memoizedState),(u=$n||my(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Yp(e,t,n,r,s,i)}function Yp(e,t,n,r,i,s){NE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ay(t,n,!1),Cn(e,t,s);r=t.stateNode,O3.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mi(t,e.child,null,s),t.child=mi(t,null,a,s)):nt(e,t,a,s),t.memoizedState=r.state,i&&ay(t,n,!0),t.child}function EE(e){var t=e.stateNode;t.pendingContext?oy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oy(e,t.context,!1),ag(e,t.containerInfo)}function Ny(e,t,n,r,i){return pi(),tg(i),t.flags|=256,nt(e,t,n,r),t.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function SE(e,t,n){var r=t.pendingProps,i=ke.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(ke,i&1),e===null)return Hp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ya(o,r,0,null),e=br(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qp(n),t.memoizedState=Xp,e):mg(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L3(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=er(a,s):(s=br(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Xp,r}return s=e.child,e=s.sibling,r=er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mg(e,t){return t=Ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vo(e,t,n,r){return r!==null&&tg(r),mi(t,e.child,null,n),e=mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L3(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=nu(Error(U(422))),vo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ya({mode:"visible",children:r.children},i,0,null),s=br(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&mi(t,e.child,null,o),t.child.memoizedState=Qp(o),t.memoizedState=Xp,s);if(!(t.mode&1))return vo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=nu(s,r,void 0),vo(e,t,o,r)}if(a=(o&e.childLanes)!==0,ut||a){if(r=Ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kn(e,i),Wt(r,e,i,-1))}return _g(),r=nu(Error(U(421))),vo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y3.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xt=Xn(i.nextSibling),wt=t,be=!0,Ut=null,e!==null&&(kt[Ct++]=yn,kt[Ct++]=vn,kt[Ct++]=kr,yn=e.id,vn=e.overflow,kr=t),t=mg(t,r.children),t.flags|=4096,t)}function Ey(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Up(e.return,t,n)}function ru(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(nt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,n,t);else if(e.tag===19)Ey(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ya(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ya(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,s);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q3(e,t,n){switch(t.tag){case 3:EE(t),pi();break;case 5:ZN(t);break;case 1:ft(t.type)&&da(t);break;case 4:ag(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ge(pa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?SE(e,t,n):(ge(ke,ke.current&1),e=Cn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,bE(e,t,n)}return Cn(e,t,n)}var CE,Zp,jE,RE;CE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zp=function(){};jE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(sn.current);var s=null;switch(n){case"input":i=wp(e,i),r=wp(e,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=Np(e,i),r=Np(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ua)}Sp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};RE=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $3(e,t,n){var r=t.pendingProps;switch(eg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return ft(t.type)&&ca(),Je(t),null;case 3:return r=t.stateNode,gi(),we(dt),we(tt),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(om(Ut),Ut=null))),Zp(e,t),Je(t),null;case 5:lg(t);var i=yr(As.current);if(n=t.type,e!==null&&t.stateNode!=null)jE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Je(t),null}if(e=yr(sn.current),go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[tn]=t,r[Rs]=s,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Ji.length;i++)xe(Ji[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":P0(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":O0(r,s),xe("invalid",r)}Sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,a,e),i=["children",""+a]):xs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":oo(r),M0(r,s,!0);break;case"textarea":oo(r),L0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ua)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tn]=t,e[Rs]=r,CE(e,t,!1,!1),t.stateNode=e;e:{switch(o=kp(n,r),n){case"dialog":xe("cancel",e),xe("close",e),i=r;break;case"iframe":case"object":case"embed":xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ji.length;i++)xe(Ji[i],e);i=r;break;case"source":xe("error",e),i=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=r;break;case"details":xe("toggle",e),i=r;break;case"input":P0(e,r),i=wp(e,r),xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),xe("invalid",e);break;case"textarea":O0(e,r),i=Np(e,r),xe("invalid",e);break;default:i=r}Sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oN(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iN(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ws(e,l):typeof l=="number"&&ws(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",e):l!=null&&Fm(e,s,l,o))}switch(n){case"input":oo(e),M0(e,r,!1);break;case"textarea":oo(e),L0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ir(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ri(e,!!r.multiple,s,!1):r.defaultValue!=null&&ri(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ua)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)RE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=yr(As.current),yr(sn.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(s=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:mo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return Je(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&xt!==null&&t.mode&1&&!(t.flags&128))WN(),pi(),t.flags|=98560,s=!1;else if(s=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[tn]=t}else pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),s=!1}else Ut!==null&&(om(Ut),Ut=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?ze===0&&(ze=3):_g())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return gi(),Zp(e,t),e===null&&Cs(t.stateNode.containerInfo),Je(t),null;case 10:return ig(t.type._context),Je(t),null;case 17:return ft(t.type)&&ca(),Je(t),null;case 19:if(we(ke),s=t.memoizedState,s===null)return Je(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zi(s,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ya(e),o!==null){for(t.flags|=128,zi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ie()>vi&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304)}else{if(!r)if(e=ya(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return Je(t),null}else 2*Ie()-s.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ie(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return wg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function F3(e,t){switch(eg(t),t.tag){case 1:return ft(t.type)&&ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),we(dt),we(tt),ug(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lg(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return gi(),null;case 10:return ig(t.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var xo=!1,et=!1,D3=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Jp(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Sy=!1;function z3(e,t){if(Lp=oa,e=MN(),Zm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:e,selectionRange:n},oa=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Dt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=Sy,Sy=!1,v}function gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jp(t,n,s)}i=i.next}while(i!==r)}}function Wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function em(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Rs],delete t[Dp],delete t[N3],delete t[E3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AE(e){return e.tag===5||e.tag===3||e.tag===4}function ky(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ua));else if(r!==4&&(e=e.child,e!==null))for(tm(e,t,n),e=e.sibling;e!==null;)tm(e,t,n),e=e.sibling}function nm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nm(e,t,n),e=e.sibling;e!==null;)nm(e,t,n),e=e.sibling}var We=null,zt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)IE(e,t,n),n=n.sibling}function IE(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Fa,n)}catch{}switch(n.tag){case 5:et||ei(n,t);case 6:var r=We,i=zt;We=null,Mn(e,t,n),We=r,zt=i,We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?Xl(e.parentNode,n):e.nodeType===1&&Xl(e,n),Es(e)):Xl(We,n.stateNode));break;case 4:r=We,i=zt,We=n.stateNode.containerInfo,zt=!0,Mn(e,t,n),We=r,zt=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jp(n,t,o),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!et&&(ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Mn(e,t,n),et=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function Cy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new D3),t.forEach(function(r){var i=X3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,zt=!1;break e;case 3:We=a.stateNode.containerInfo,zt=!0;break e;case 4:We=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(We===null)throw Error(U(160));IE(s,o,i),We=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PE(t,e),t=t.sibling}function PE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Jt(e),r&4){try{gs(3,e,e.return),Wa(3,e)}catch(y){Te(e,e.return,y)}try{gs(5,e,e.return)}catch(y){Te(e,e.return,y)}}break;case 1:Ft(t,e),Jt(e),r&512&&n!==null&&ei(n,n.return);break;case 5:if(Ft(t,e),Jt(e),r&512&&n!==null&&ei(n,n.return),e.flags&32){var i=e.stateNode;try{ws(i,"")}catch(y){Te(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tN(i,s),kp(a,o);var u=kp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?oN(i,d):c==="dangerouslySetInnerHTML"?iN(i,d):c==="children"?ws(i,d):Fm(i,c,d,u)}switch(a){case"input":_p(i,s);break;case"textarea":nN(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ri(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?ri(i,!!s.multiple,s.defaultValue,!0):ri(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rs]=s}catch(y){Te(e,e.return,y)}}break;case 6:if(Ft(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Te(e,e.return,y)}}break;case 3:if(Ft(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(y){Te(e,e.return,y)}break;case 4:Ft(t,e),Jt(e);break;case 13:Ft(t,e),Jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vg=Ie())),r&4&&Cy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||c,Ft(t,e),et=u):Ft(t,e),Jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:gs(4,h,h.return);break;case 1:ei(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Te(r,n,y)}}break;case 5:ei(h,h.return);break;case 22:if(h.memoizedState!==null){Ry(d);continue}}p!==null?(p.return=h,Y=p):Ry(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sN("display",o))}catch(y){Te(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Te(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(t,e),Jt(e),r&4&&Cy(e);break;case 21:break;default:Ft(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ws(i,""),r.flags&=-33);var s=ky(e);nm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ky(e);tm(e,a,o);break;default:throw Error(U(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B3(e,t,n){Y=e,ME(e)}function ME(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||et;a=xo;var u=et;if(xo=o,(et=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Ty(i):l!==null?(l.return=o,Y=l):Ty(i);for(;s!==null;)Y=s,ME(s),s=s.sibling;Y=i,xo=a,et=u}jy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):jy(e)}}function jy(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fy(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Es(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}et||t.flags&512&&em(t)}catch(h){Te(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ry(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ty(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wa(4,t)}catch(l){Te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Te(t,i,l)}}var s=t.return;try{em(t)}catch(l){Te(t,s,l)}break;case 5:var o=t.return;try{em(t)}catch(l){Te(t,o,l)}}}catch(l){Te(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var H3=Math.ceil,wa=An.ReactCurrentDispatcher,gg=An.ReactCurrentOwner,It=An.ReactCurrentBatchConfig,he=0,Ue=null,Me=null,Ke=0,yt=0,ti=lr(0),ze=0,Os=null,jr=0,Ka=0,yg=0,ys=null,lt=null,vg=0,vi=1/0,mn=null,_a=!1,rm=null,Zn=null,wo=!1,Gn=null,ba=0,vs=0,im=null,Uo=-1,Vo=0;function rt(){return he&6?Ie():Uo!==-1?Uo:Uo=Ie()}function Jn(e){return e.mode&1?he&2&&Ke!==0?Ke&-Ke:k3.transition!==null?(Vo===0&&(Vo=vN()),Vo):(e=me,e!==0||(e=window.event,e=e===void 0?16:SN(e.type)),e):1}function Wt(e,t,n,r){if(50<vs)throw vs=0,im=null,Error(U(185));Vs(e,n,r),(!(he&2)||e!==Ue)&&(e===Ue&&(!(he&2)&&(Ka|=n),ze===4&&Bn(e,Ke)),ht(e,r),n===1&&he===0&&!(t.mode&1)&&(vi=Ie()+500,Ua&&ur()))}function ht(e,t){var n=e.callbackNode;kj(e,t);var r=sa(e,e===Ue?Ke:0);if(r===0)n!==null&&F0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&F0(n),t===1)e.tag===0?S3(Ay.bind(null,e)):UN(Ay.bind(null,e)),_3(function(){!(he&6)&&ur()}),n=null;else{switch(xN(r)){case 1:n=Um;break;case 4:n=gN;break;case 16:n=ia;break;case 536870912:n=yN;break;default:n=ia}n=BE(n,OE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OE(e,t){if(Uo=-1,Vo=0,he&6)throw Error(U(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var r=sa(e,e===Ue?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var i=he;he|=2;var s=qE();(Ue!==e||Ke!==t)&&(mn=null,vi=Ie()+500,_r(e,t));do try{G3();break}catch(a){LE(e,a)}while(!0);rg(),wa.current=s,he=i,Me!==null?t=0:(Ue=null,Ke=0,t=ze)}if(t!==0){if(t===2&&(i=Ap(e),i!==0&&(r=i,t=sm(e,i))),t===1)throw n=Os,_r(e,0),Bn(e,r),ht(e,Ie()),n;if(t===6)Bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!U3(i)&&(t=Na(e,r),t===2&&(s=Ap(e),s!==0&&(r=s,t=sm(e,s))),t===1))throw n=Os,_r(e,0),Bn(e,r),ht(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:hr(e,lt,mn);break;case 3:if(Bn(e,r),(r&130023424)===r&&(t=vg+500-Ie(),10<t)){if(sa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fp(hr.bind(null,e,lt,mn),t);break}hr(e,lt,mn);break;case 4:if(Bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Gt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H3(r/1960))-r,10<r){e.timeoutHandle=Fp(hr.bind(null,e,lt,mn),r);break}hr(e,lt,mn);break;case 5:hr(e,lt,mn);break;default:throw Error(U(329))}}}return ht(e,Ie()),e.callbackNode===n?OE.bind(null,e):null}function sm(e,t){var n=ys;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Na(e,t),e!==2&&(t=lt,lt=n,t!==null&&om(t)),e}function om(e){lt===null?lt=e:lt.push.apply(lt,e)}function U3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~yg,t&=~Ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Ay(e){if(he&6)throw Error(U(327));li();var t=sa(e,0);if(!(t&1))return ht(e,Ie()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var r=Ap(e);r!==0&&(t=r,n=sm(e,r))}if(n===1)throw n=Os,_r(e,0),Bn(e,t),ht(e,Ie()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,lt,mn),ht(e,Ie()),null}function xg(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(vi=Ie()+500,Ua&&ur())}}function Rr(e){Gn!==null&&Gn.tag===0&&!(he&6)&&li();var t=he;he|=1;var n=It.transition,r=me;try{if(It.transition=null,me=1,e)return e()}finally{me=r,It.transition=n,he=t,!(he&6)&&ur()}}function wg(){yt=ti.current,we(ti)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,w3(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ca();break;case 3:gi(),we(dt),we(tt),ug();break;case 5:lg(r);break;case 4:gi();break;case 13:we(ke);break;case 19:we(ke);break;case 10:ig(r.type._context);break;case 22:case 23:wg()}n=n.return}if(Ue=e,Me=e=er(e.current,null),Ke=yt=t,ze=0,Os=null,yg=Ka=jr=0,lt=ys=null,gr!==null){for(t=0;t<gr.length;t++)if(n=gr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gr=null}return e}function LE(e,t){do{var n=Me;try{if(rg(),zo.current=xa,va){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}va=!1}if(Cr=0,He=De=Ce=null,ms=!1,Is=0,gg.current=null,n===null||n.return===null){ze=1,Os=t,Me=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vy(o);if(p!==null){p.flags&=-257,xy(p,o,a,s,t),p.mode&1&&yy(s,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){yy(s,u,t),_g();break e}l=Error(U(426))}}else if(be&&a.mode&1){var w=vy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xy(w,o,a,s,t),tg(yi(l,a));break e}}s=l=yi(l,a),ze!==4&&(ze=2),ys===null?ys=[s]:ys.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=xE(s,l,t);dy(s,m);break e;case 1:a=l;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zn===null||!Zn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=wE(s,a,t);dy(s,_);break e}}s=s.return}while(s!==null)}FE(n)}catch(E){t=E,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function qE(){var e=wa.current;return wa.current=xa,e===null?xa:e}function _g(){(ze===0||ze===3||ze===2)&&(ze=4),Ue===null||!(jr&268435455)&&!(Ka&268435455)||Bn(Ue,Ke)}function Na(e,t){var n=he;he|=2;var r=qE();(Ue!==e||Ke!==t)&&(mn=null,_r(e,t));do try{V3();break}catch(i){LE(e,i)}while(!0);if(rg(),he=n,wa.current=r,Me!==null)throw Error(U(261));return Ue=null,Ke=0,ze}function V3(){for(;Me!==null;)$E(Me)}function G3(){for(;Me!==null&&!yj();)$E(Me)}function $E(e){var t=zE(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?FE(e):Me=t,gg.current=null}function FE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=F3(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Me=null;return}}else if(n=$3(n,t,yt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);ze===0&&(ze=5)}function hr(e,t,n){var r=me,i=It.transition;try{It.transition=null,me=1,W3(e,t,n,r)}finally{It.transition=i,me=r}return null}function W3(e,t,n,r){do li();while(Gn!==null);if(he&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cj(e,s),e===Ue&&(Me=Ue=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,BE(ia,function(){return li(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=It.transition,It.transition=null;var o=me;me=1;var a=he;he|=4,gg.current=null,z3(e,n),PE(n,e),h3(qp),oa=!!Lp,qp=Lp=null,e.current=n,B3(n),vj(),he=a,me=o,It.transition=s}else e.current=n;if(wo&&(wo=!1,Gn=e,ba=i),s=e.pendingLanes,s===0&&(Zn=null),_j(n.stateNode),ht(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_a)throw _a=!1,e=rm,rm=null,e;return ba&1&&e.tag!==0&&li(),s=e.pendingLanes,s&1?e===im?vs++:(vs=0,im=e):vs=0,ur(),null}function li(){if(Gn!==null){var e=xN(ba),t=It.transition,n=me;try{if(It.transition=null,me=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,ba=0,he&6)throw Error(U(331));var i=he;for(he|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:gs(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(TE(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Y=m;break e}Y=s.return}}var g=e.current;for(Y=g;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wa(9,a)}}catch(E){Te(a,a.return,E)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(he=i,ur(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Fa,e)}catch{}r=!0}return r}finally{me=n,It.transition=t}}return!1}function Iy(e,t,n){t=yi(n,t),t=xE(e,t,1),e=Qn(e,t,1),t=rt(),e!==null&&(Vs(e,1,t),ht(e,t))}function Te(e,t,n){if(e.tag===3)Iy(e,e,n);else for(;t!==null;){if(t.tag===3){Iy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=yi(n,e),e=wE(t,e,1),t=Qn(t,e,1),e=rt(),t!==null&&(Vs(t,1,e),ht(t,e));break}}t=t.return}}function K3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Ke&n)===n&&(ze===4||ze===3&&(Ke&130023424)===Ke&&500>Ie()-vg?_r(e,0):yg|=n),ht(e,t)}function DE(e,t){t===0&&(e.mode&1?(t=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):t=1);var n=rt();e=kn(e,t),e!==null&&(Vs(e,t,n),ht(e,n))}function Y3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DE(e,n)}function X3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),DE(e,n)}var zE;zE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,q3(e,t,n);ut=!!(e.flags&131072)}else ut=!1,be&&t.flags&1048576&&VN(t,ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=hi(t,tt.current);ai(t,n),i=dg(null,t,r,e,i,n);var s=fg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(s=!0,da(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,og(t),i.updater=Ga,t.stateNode=i,i._reactInternals=t,Gp(t,r,e,n),t=Yp(null,t,r,!0,s,n)):(t.tag=0,be&&s&&Jm(t),nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Z3(r),e=Dt(r,e),i){case 0:t=Kp(null,t,r,e,n);break e;case 1:t=by(null,t,r,e,n);break e;case 11:t=wy(null,t,r,e,n);break e;case 14:t=_y(null,t,r,Dt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Kp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),by(e,t,r,i,n);case 3:e:{if(EE(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,QN(e,t),ga(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=yi(Error(U(423)),t),t=Ny(e,t,r,n,i);break e}else if(r!==i){i=yi(Error(U(424)),t),t=Ny(e,t,r,n,i);break e}else for(xt=Xn(t.stateNode.containerInfo.firstChild),wt=t,be=!0,Ut=null,n=YN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pi(),r===i){t=Cn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return ZN(t),e===null&&Hp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$p(r,i)?o=null:s!==null&&$p(r,s)&&(t.flags|=32),NE(e,t),nt(e,t,o,n),t.child;case 6:return e===null&&Hp(t),null;case 13:return SE(e,t,n);case 4:return ag(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mi(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),wy(e,t,r,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ge(pa,r._currentValue),r._currentValue=o,s!==null)if(Kt(s.value,o)){if(s.children===i.children&&!dt.current){t=Cn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Up(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Up(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ai(t,n),i=Mt(i),r=r(i),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,i=Dt(r,t.pendingProps),i=Dt(r.type,i),_y(e,t,r,i,n);case 15:return _E(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Ho(e,t),t.tag=1,ft(r)?(e=!0,da(t)):e=!1,ai(t,n),vE(t,r,i),Gp(t,r,i,n),Yp(null,t,r,!0,e,n);case 19:return kE(e,t,n);case 22:return bE(e,t,n)}throw Error(U(156,t.tag))};function BE(e,t){return mN(e,t)}function Q3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Q3(e,t,n,r)}function bg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z3(e){if(typeof e=="function")return bg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zm)return 11;if(e===Bm)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Go(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")bg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vr:return br(n.children,i,s,t);case Dm:o=8,i|=8;break;case gp:return e=Tt(12,n,t,i|2),e.elementType=gp,e.lanes=s,e;case yp:return e=Tt(13,n,t,i),e.elementType=yp,e.lanes=s,e;case vp:return e=Tt(19,n,t,i),e.elementType=vp,e.lanes=s,e;case Zb:return Ya(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xb:o=10;break e;case Qb:o=9;break e;case zm:o=11;break e;case Bm:o=14;break e;case qn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function br(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Ya(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Zb,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function su(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ng(e,t,n,r,i,s,o,a,l){return e=new J3(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(s),e}function eR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HE(e){if(!e)return sr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(ft(n))return HN(e,n,t)}return t}function UE(e,t,n,r,i,s,o,a,l){return e=Ng(n,r,!0,e,i,s,o,a,l),e.context=HE(null),n=e.current,r=rt(),i=Jn(n),s=bn(r,i),s.callback=t??null,Qn(n,s,i),e.current.lanes=i,Vs(e,i,r),ht(e,r),e}function Xa(e,t,n,r){var i=t.current,s=rt(),o=Jn(i);return n=HE(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(i,t,o),e!==null&&(Wt(e,i,o,s),Do(e,i,o)),o}function Ea(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Py(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eg(e,t){Py(e,t),(e=e.alternate)&&Py(e,t)}function tR(){return null}var VE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sg(e){this._internalRoot=e}Qa.prototype.render=Sg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Xa(e,t,null,null)};Qa.prototype.unmount=Sg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Xa(null,e,null,null)}),t[Sn]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=bN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&EN(e)}};function kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function My(){}function nR(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ea(o);s.call(u)}}var o=UE(t,r,e,0,null,!1,!1,"",My);return e._reactRootContainer=o,e[Sn]=o.current,Cs(e.nodeType===8?e.parentNode:e),Rr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ea(l);a.call(u)}}var l=Ng(e,0,!1,null,null,!1,!1,"",My);return e._reactRootContainer=l,e[Sn]=l.current,Cs(e.nodeType===8?e.parentNode:e),Rr(function(){Xa(t,l,n,r)}),l}function Ja(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ea(o);a.call(l)}}Xa(t,o,e,i)}else o=nR(n,t,e,i,r);return Ea(o)}wN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zi(t.pendingLanes);n!==0&&(Vm(t,n|1),ht(t,Ie()),!(he&6)&&(vi=Ie()+500,ur()))}break;case 13:Rr(function(){var r=kn(e,1);if(r!==null){var i=rt();Wt(r,e,1,i)}}),Eg(e,1)}};Gm=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var n=rt();Wt(t,e,134217728,n)}Eg(e,134217728)}};_N=function(e){if(e.tag===13){var t=Jn(e),n=kn(e,t);if(n!==null){var r=rt();Wt(n,e,t,r)}Eg(e,t)}};bN=function(){return me};NN=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};jp=function(e,t,n){switch(t){case"input":if(_p(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ha(r);if(!i)throw Error(U(90));eN(r),_p(r,i)}}}break;case"textarea":nN(e,n);break;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}};uN=xg;cN=Rr;var rR={usingClientEntryPoint:!1,Events:[Ws,Yr,Ha,aN,lN,xg]},Bi={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iR={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hN(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Fa=_o.inject(iR),rn=_o}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rR;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(t))throw Error(U(200));return eR(e,t,null,n)};Nt.createRoot=function(e,t){if(!kg(e))throw Error(U(299));var n=!1,r="",i=VE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ng(e,1,!1,null,null,n,!1,r,i),e[Sn]=t.current,Cs(e.nodeType===8?e.parentNode:e),new Sg(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=hN(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return Rr(e)};Nt.hydrate=function(e,t,n){if(!Za(t))throw Error(U(200));return Ja(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!kg(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=UE(t,null,e,1,n??null,i,!1,s,o),e[Sn]=t.current,Cs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qa(t)};Nt.render=function(e,t,n){if(!Za(t))throw Error(U(200));return Ja(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Za(e))throw Error(U(40));return e._reactRootContainer?(Rr(function(){Ja(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Nt.unstable_batchedUpdates=xg;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Za(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ja(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(e){console.error(e)}}GE(),Gb.exports=Nt;var sR=Gb.exports,Oy=sR;pp.createRoot=Oy.createRoot,pp.hydrateRoot=Oy.hydrateRoot;function Xe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Xe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var WE={exports:{}},KE={},YE={exports:{}},XE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=N;function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aR=typeof Object.is=="function"?Object.is:oR,lR=xi.useState,uR=xi.useEffect,cR=xi.useLayoutEffect,dR=xi.useDebugValue;function fR(e,t){var n=t(),r=lR({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return cR(function(){i.value=n,i.getSnapshot=t,ou(i)&&s({inst:i})},[e,n,t]),uR(function(){return ou(i)&&s({inst:i}),e(function(){ou(i)&&s({inst:i})})},[e]),dR(n),n}function ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aR(e,n)}catch{return!0}}function hR(e,t){return t()}var pR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hR:fR;XE.useSyncExternalStore=xi.useSyncExternalStore!==void 0?xi.useSyncExternalStore:pR;YE.exports=XE;var mR=YE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=N,gR=mR;function yR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vR=typeof Object.is=="function"?Object.is:yR,xR=gR.useSyncExternalStore,wR=el.useRef,_R=el.useEffect,bR=el.useMemo,NR=el.useDebugValue;KE.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=wR(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=bR(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,vR(c,p))return v;var y=r(p);return i!==void 0&&i(v,y)?(c=p,v):(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=xR(e,s[0],s[1]);return _R(function(){o.hasValue=!0,o.value=a},[a]),NR(a),a};WE.exports=KE;var ER=WE.exports;const SR=Im(ER),kR={},Ly=e=>{let t;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(kR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},CR=e=>e?Ly(e):Ly,{useDebugValue:jR}=q,{useSyncExternalStoreWithSelector:RR}=SR,TR=e=>e;function QE(e,t=TR,n){const r=RR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jR(r),r}const qy=(e,t)=>{const n=CR(e),r=(i,s=t)=>QE(n,i,s);return Object.assign(r,n),r},AR=(e,t)=>e?qy(e,t):qy;function Ve(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var IR={value:()=>{}};function tl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wo(n)}function Wo(e){this._=e}function PR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wo.prototype=tl.prototype={constructor:Wo,on:function(e,t){var n=this._,r=PR(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=MR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=$y(n[i],e.name,t);else if(t==null)for(i in n)n[i]=$y(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function MR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function $y(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=IR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var am="http://www.w3.org/1999/xhtml";const Fy={svg:"http://www.w3.org/2000/svg",xhtml:am,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fy.hasOwnProperty(t)?{space:Fy[t],local:e}:e}function OR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===am&&t.documentElement.namespaceURI===am?t.createElement(e):t.createElementNS(n,e)}}function LR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ZE(e){var t=nl(e);return(t.local?LR:OR)(t)}function qR(){}function Cg(e){return e==null?qR:function(){return this.querySelector(e)}}function $R(e){typeof e!="function"&&(e=Cg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new bt(r,this._parents)}function FR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function DR(){return[]}function JE(e){return e==null?DR:function(){return this.querySelectorAll(e)}}function zR(e){return function(){return FR(e.apply(this,arguments))}}function BR(e){typeof e=="function"?e=zR(e):e=JE(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new bt(r,i)}function eS(e){return function(){return this.matches(e)}}function tS(e){return function(t){return t.matches(e)}}var HR=Array.prototype.find;function UR(e){return function(){return HR.call(this.children,e)}}function VR(){return this.firstElementChild}function GR(e){return this.select(e==null?VR:UR(typeof e=="function"?e:tS(e)))}var WR=Array.prototype.filter;function KR(){return Array.from(this.children)}function YR(e){return function(){return WR.call(this.children,e)}}function XR(e){return this.selectAll(e==null?KR:YR(typeof e=="function"?e:tS(e)))}function QR(e){typeof e!="function"&&(e=eS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new bt(r,this._parents)}function nS(e){return new Array(e.length)}function ZR(){return new bt(this._enter||this._groups.map(nS),this._parents)}function Sa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sa.prototype={constructor:Sa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function JR(e){return function(){return e}}function eT(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Sa(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function tT(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=o.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(e,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):n[a]=new Sa(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function nT(e){return e.__data__}function rT(e,t){if(!arguments.length)return Array.from(this,nT);var n=t?tT:eT,r=this._parents,i=this._groups;typeof e!="function"&&(e=JR(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],h=d.length,p=iT(e.call(c,c&&c.__data__,u,r)),v=p.length,y=a[u]=new Array(v),w=o[u]=new Array(v),m=l[u]=new Array(h);n(c,d,y,w,m,p,t);for(var g=0,x=0,_,E;g<v;++g)if(_=y[g]){for(g>=x&&(x=g+1);!(E=w[x])&&++x<v;);_._next=E||null}}return o=new bt(o,r),o._enter=a,o._exit=l,o}function iT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sT(){return new bt(this._exit||this._groups.map(nS),this._parents)}function oT(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function aT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),p,v=0;v<d;++v)(p=u[v]||c[v])&&(h[v]=p);for(;l<i;++l)a[l]=n[l];return new bt(a,this._parents)}function lT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function uT(e){e||(e=cT);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new bt(i,this._parents).order()}function cT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fT(){return Array.from(this)}function hT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function pT(){let e=0;for(const t of this)++e;return e}function mT(){return!this.node()}function gT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function yT(e){return function(){this.removeAttribute(e)}}function vT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xT(e,t){return function(){this.setAttribute(e,t)}}function wT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _T(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function NT(e,t){var n=nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vT:yT:typeof t=="function"?n.local?bT:_T:n.local?wT:xT)(n,t))}function rS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ET(e){return function(){this.style.removeProperty(e)}}function ST(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kT(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function CT(e,t,n){return arguments.length>1?this.each((t==null?ET:typeof t=="function"?kT:ST)(e,t,n??"")):wi(this.node(),e)}function wi(e,t){return e.style.getPropertyValue(t)||rS(e).getComputedStyle(e,null).getPropertyValue(t)}function jT(e){return function(){delete this[e]}}function RT(e,t){return function(){this[e]=t}}function TT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function AT(e,t){return arguments.length>1?this.each((t==null?jT:typeof t=="function"?TT:RT)(e,t)):this.node()[e]}function iS(e){return e.trim().split(/^|\s+/)}function jg(e){return e.classList||new sS(e)}function sS(e){this._node=e,this._names=iS(e.getAttribute("class")||"")}sS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oS(e,t){for(var n=jg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function aS(e,t){for(var n=jg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function IT(e){return function(){oS(this,e)}}function PT(e){return function(){aS(this,e)}}function MT(e,t){return function(){(t.apply(this,arguments)?oS:aS)(this,e)}}function OT(e,t){var n=iS(e+"");if(arguments.length<2){for(var r=jg(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?MT:t?IT:PT)(n,t))}function LT(){this.textContent=""}function qT(e){return function(){this.textContent=e}}function $T(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function FT(e){return arguments.length?this.each(e==null?LT:(typeof e=="function"?$T:qT)(e)):this.node().textContent}function DT(){this.innerHTML=""}function zT(e){return function(){this.innerHTML=e}}function BT(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HT(e){return arguments.length?this.each(e==null?DT:(typeof e=="function"?BT:zT)(e)):this.node().innerHTML}function UT(){this.nextSibling&&this.parentNode.appendChild(this)}function VT(){return this.each(UT)}function GT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WT(){return this.each(GT)}function KT(e){var t=typeof e=="function"?e:ZE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function YT(){return null}function XT(e,t){var n=typeof e=="function"?e:ZE(e),r=t==null?YT:typeof t=="function"?t:Cg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function QT(){var e=this.parentNode;e&&e.removeChild(this)}function ZT(){return this.each(QT)}function JT(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tA(e){return this.select(e?eA:JT)}function nA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function rA(e){return function(t){e.call(this,t,this.__data__)}}function iA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function sA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function oA(e,t,n){return function(){var r=this.__on,i,s=rA(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function aA(e,t,n){var r=iA(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?oA:sA,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function lS(e,t,n){var r=rS(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lA(e,t){return function(){return lS(this,e,t)}}function uA(e,t){return function(){return lS(this,e,t.apply(this,arguments))}}function cA(e,t){return this.each((typeof t=="function"?uA:lA)(e,t))}function*dA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var uS=[null];function bt(e,t){this._groups=e,this._parents=t}function Ys(){return new bt([[document.documentElement]],uS)}function fA(){return this}bt.prototype=Ys.prototype={constructor:bt,select:$R,selectAll:BR,selectChild:GR,selectChildren:XR,filter:QR,data:rT,enter:ZR,exit:sT,join:oT,merge:aT,selection:fA,order:lT,sort:uT,call:dT,nodes:fT,node:hT,size:pT,empty:mT,each:gT,attr:NT,style:CT,property:AT,classed:OT,text:FT,html:HT,raise:VT,lower:WT,append:KT,insert:XT,remove:ZT,clone:tA,datum:nA,on:aA,dispatch:cA,[Symbol.iterator]:dA};function Rt(e){return typeof e=="string"?new bt([[document.querySelector(e)]],[document.documentElement]):new bt([[e]],uS)}function hA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Bt(e,t){if(e=hA(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const pA={passive:!1},Ls={capture:!0,passive:!1};function au(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function cS(e){var t=e.document.documentElement,n=Rt(e).on("dragstart.drag",ui,Ls);"onselectstart"in t?n.on("selectstart.drag",ui,Ls):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function dS(e,t){var n=e.document.documentElement,r=Rt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ui,Ls),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bo=e=>()=>e;function lm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}lm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function mA(e){return!e.ctrlKey&&!e.button}function gA(){return this.parentNode}function yA(e,t){return t??{x:e.x,y:e.y}}function vA(){return navigator.maxTouchPoints||"ontouchstart"in this}function xA(){var e=mA,t=gA,n=yA,r=vA,i={},s=tl("start","drag","end"),o=0,a,l,u,c,d=0;function h(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,pA).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,E){if(!(c||!e.call(this,_,E))){var S=x(this,t.call(this,_,E),_,E,"mouse");S&&(Rt(_.view).on("mousemove.drag",v,Ls).on("mouseup.drag",y,Ls),cS(_.view),au(_),u=!1,a=_.clientX,l=_.clientY,S("start",_))}}function v(_){if(ui(_),!u){var E=_.clientX-a,S=_.clientY-l;u=E*E+S*S>d}i.mouse("drag",_)}function y(_){Rt(_.view).on("mousemove.drag mouseup.drag",null),dS(_.view,u),ui(_),i.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var S=_.changedTouches,k=t.call(this,_,E),j=S.length,I,P;for(I=0;I<j;++I)(P=x(this,k,_,E,S[I].identifier,S[I]))&&(au(_),P("start",_,S[I]))}}function m(_){var E=_.changedTouches,S=E.length,k,j;for(k=0;k<S;++k)(j=i[E[k].identifier])&&(ui(_),j("drag",_,E[k]))}function g(_){var E=_.changedTouches,S=E.length,k,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<S;++k)(j=i[E[k].identifier])&&(au(_),j("end",_,E[k]))}function x(_,E,S,k,j,I){var P=s.copy(),L=Bt(I||S,E),B,z,b;if((b=n.call(_,new lm("beforestart",{sourceEvent:S,target:h,identifier:j,active:o,x:L[0],y:L[1],dx:0,dy:0,dispatch:P}),k))!=null)return B=b.x-L[0]||0,z=b.y-L[1]||0,function O(R,D,A){var C=L,M;switch(R){case"start":i[j]=O,M=o++;break;case"end":delete i[j],--o;case"drag":L=Bt(A||D,E),M=o;break}P.call(R,_,new lm(R,{sourceEvent:D,subject:b,target:h,identifier:j,active:M,x:L[0]+B,y:L[1]+z,dx:L[0]-C[0],dy:L[1]-C[1],dispatch:P}),k)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:bo(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:bo(_),h):t},h.subject=function(_){return arguments.length?(n=typeof _=="function"?_:bo(_),h):n},h.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:bo(!!_),h):r},h.on=function(){var _=s.on.apply(s,arguments);return _===s?h:_},h.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,h):Math.sqrt(d)},h}function Rg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xs(){}var qs=.7,ka=1/qs,ci="\\s*([+-]?\\d+)\\s*",$s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wA=/^#([0-9a-f]{3,8})$/,_A=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),bA=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),NA=new RegExp(`^rgba\\(${ci},${ci},${ci},${$s}\\)$`),EA=new RegExp(`^rgba\\(${on},${on},${on},${$s}\\)$`),SA=new RegExp(`^hsl\\(${$s},${on},${on}\\)$`),kA=new RegExp(`^hsla\\(${$s},${on},${on},${$s}\\)$`),Dy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rg(Xs,Fs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zy,formatHex:zy,formatHex8:CA,formatHsl:jA,formatRgb:By,toString:By});function zy(){return this.rgb().formatHex()}function CA(){return this.rgb().formatHex8()}function jA(){return hS(this).formatHsl()}function By(){return this.rgb().formatRgb()}function Fs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hy(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?No(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?No(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_A.exec(e))?new ct(t[1],t[2],t[3],1):(t=bA.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NA.exec(e))?No(t[1],t[2],t[3],t[4]):(t=EA.exec(e))?No(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SA.exec(e))?Gy(t[1],t[2]/100,t[3]/100,1):(t=kA.exec(e))?Gy(t[1],t[2]/100,t[3]/100,t[4]):Dy.hasOwnProperty(e)?Hy(Dy[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Hy(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function No(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function RA(e){return e instanceof Xs||(e=Fs(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function um(e,t,n,r){return arguments.length===1?RA(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rg(ct,um,fS(Xs,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qs:Math.pow(qs,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(Nr(this.r),Nr(this.g),Nr(this.b),Ca(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uy,formatHex:Uy,formatHex8:TA,formatRgb:Vy,toString:Vy}));function Uy(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}`}function TA(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}${vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vy(){const e=Ca(this.opacity);return`${e===1?"rgb(":"rgba("}${Nr(this.r)}, ${Nr(this.g)}, ${Nr(this.b)}${e===1?")":`, ${e})`}`}function Ca(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vr(e){return e=Nr(e),(e<16?"0":"")+e.toString(16)}function Gy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vt(e,t,n,r)}function hS(e){if(e instanceof Vt)return new Vt(e.h,e.s,e.l,e.opacity);if(e instanceof Xs||(e=Fs(e)),!e)return new Vt;if(e instanceof Vt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Vt(o,a,l,e.opacity)}function AA(e,t,n,r){return arguments.length===1?hS(e):new Vt(e,t,n,r??1)}function Vt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rg(Vt,AA,fS(Xs,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new Vt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qs:Math.pow(qs,e),new Vt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ct(lu(e>=240?e-240:e+120,i,r),lu(e,i,r),lu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vt(Wy(this.h),Eo(this.s),Eo(this.l),Ca(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ca(this.opacity);return`${e===1?"hsl(":"hsla("}${Wy(this.h)}, ${Eo(this.s)*100}%, ${Eo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wy(e){return e=(e||0)%360,e<0?e+360:e}function Eo(e){return Math.max(0,Math.min(1,e||0))}function lu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pS=e=>()=>e;function IA(e,t){return function(n){return e+n*t}}function PA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function MA(e){return(e=+e)==1?mS:function(t,n){return n-t?PA(t,n,e):pS(isNaN(t)?n:t)}}function mS(e,t){var n=t-e;return n?IA(e,n):pS(isNaN(e)?t:e)}const Ky=function e(t){var n=MA(t);function r(i,s){var o=n((i=um(i)).r,(s=um(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=mS(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Fn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var cm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uu=new RegExp(cm.source,"g");function OA(e){return function(){return e}}function LA(e){return function(t){return e(t)+""}}function qA(e,t){var n=cm.lastIndex=uu.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=cm.exec(e))&&(i=uu.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Fn(r,i)})),n=uu.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?LA(l[0].x):OA(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var Yy=180/Math.PI,dm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gS(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Yy,skewX:Math.atan(l)*Yy,scaleX:o,scaleY:a}}var So;function $A(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dm:gS(t.a,t.b,t.c,t.d,t.e,t.f)}function FA(e){return e==null||(So||(So=document.createElementNS("http://www.w3.org/2000/svg","g")),So.setAttribute("transform",e),!(e=So.transform.baseVal.consolidate()))?dm:(e=e.matrix,gS(e.a,e.b,e.c,e.d,e.e,e.f))}function yS(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,p,v){if(u!==d||c!==h){var y=p.push("translate(",null,t,null,n);v.push({i:y-4,x:Fn(u,d)},{i:y-2,x:Fn(c,h)})}else(d||h)&&p.push("translate("+d+t+h+n)}function o(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Fn(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Fn(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,p,v){if(u!==d||c!==h){var y=p.push(i(p)+"scale(",null,",",null,")");v.push({i:y-4,x:Fn(u,d)},{i:y-2,x:Fn(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),o(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(p){for(var v=-1,y=h.length,w;++v<y;)d[(w=h[v]).i]=w.x(p);return d.join("")}}}var DA=yS($A,"px, ","px)","deg)"),zA=yS(FA,", ",")",")"),BA=1e-12;function Xy(e){return((e=Math.exp(e))+1/e)/2}function HA(e){return((e=Math.exp(e))-1/e)/2}function UA(e){return((e=Math.exp(2*e))-1)/(e+1)}const VA=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],h=o[2],p=c-a,v=d-l,y=p*p+v*v,w,m;if(y<BA)m=Math.log(h/u)/t,w=function(k){return[a+k*p,l+k*v,u*Math.exp(t*k*m)]};else{var g=Math.sqrt(y),x=(h*h-u*u+r*y)/(2*u*n*g),_=(h*h-u*u-r*y)/(2*h*n*g),E=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(_*_+1)-_);m=(S-E)/t,w=function(k){var j=k*m,I=Xy(E),P=u/(n*g)*(I*UA(t*j+E)-HA(E));return[a+P*p,l+P*v,u*I/Xy(t*j+E)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var _i=0,es=0,Hi=0,vS=1e3,ja,ts,Ra=0,Tr=0,rl=0,Ds=typeof performance=="object"&&performance.now?performance:Date,xS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tg(){return Tr||(xS(GA),Tr=Ds.now()+rl)}function GA(){Tr=0}function Ta(){this._call=this._time=this._next=null}Ta.prototype=wS.prototype={constructor:Ta,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Tg():+n)+(t==null?0:+t),!this._next&&ts!==this&&(ts?ts._next=this:ja=this,ts=this),this._call=e,this._time=n,fm()},stop:function(){this._call&&(this._call=null,this._time=1/0,fm())}};function wS(e,t,n){var r=new Ta;return r.restart(e,t,n),r}function WA(){Tg(),++_i;for(var e=ja,t;e;)(t=Tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_i}function Qy(){Tr=(Ra=Ds.now())+rl,_i=es=0;try{WA()}finally{_i=0,YA(),Tr=0}}function KA(){var e=Ds.now(),t=e-Ra;t>vS&&(rl-=t,Ra=e)}function YA(){for(var e,t=ja,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ja=n);ts=e,fm(r)}function fm(e){if(!_i){es&&(es=clearTimeout(es));var t=e-Tr;t>24?(e<1/0&&(es=setTimeout(Qy,e-Ds.now()-rl)),Hi&&(Hi=clearInterval(Hi))):(Hi||(Ra=Ds.now(),Hi=setInterval(KA,vS)),_i=1,xS(Qy))}}function Zy(e,t,n){var r=new Ta;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var XA=tl("start","end","cancel","interrupt"),QA=[],_S=0,Jy=1,hm=2,Ko=3,ev=4,pm=5,Yo=6;function il(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;ZA(e,n,{name:t,index:r,group:i,on:XA,tween:QA,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:_S})}function Ag(e,t){var n=Yt(e,t);if(n.state>_S)throw new Error("too late; already scheduled");return n}function un(e,t){var n=Yt(e,t);if(n.state>Ko)throw new Error("too late; already running");return n}function Yt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ZA(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=wS(s,0,n.time);function s(u){n.state=Jy,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,h,p;if(n.state!==Jy)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Ko)return Zy(o);p.state===ev?(p.state=Yo,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Yo,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Zy(function(){n.state===Ko&&(n.state=ev,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=hm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===hm){for(n.state=Ko,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=pm,1),d=-1,h=i.length;++d<h;)i[d].call(e,c);n.state===pm&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Yo,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Xo(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>hm&&r.state<pm,r.state=Yo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function JA(e){return this.each(function(){Xo(this,e)})}function e5(e,t){var n,r;return function(){var i=un(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function t5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=un(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function n5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?e5:t5)(n,e,t))}function Ig(e,t,n){var r=e._id;return e.each(function(){var i=un(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Yt(i,r).value[t]}}function bS(e,t){var n;return(typeof t=="number"?Fn:t instanceof Fs?Ky:(n=Fs(t))?(t=n,Ky):qA)(e,t)}function r5(e){return function(){this.removeAttribute(e)}}function i5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s5(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function o5(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function a5(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function l5(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function u5(e,t){var n=nl(e),r=n==="transform"?zA:bS;return this.attrTween(e,typeof t=="function"?(n.local?l5:a5)(n,r,Ig(this,"attr."+e,t)):t==null?(n.local?i5:r5)(n):(n.local?o5:s5)(n,r,t))}function c5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function d5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function f5(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&d5(e,s)),n}return i._value=t,i}function h5(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&c5(e,s)),n}return i._value=t,i}function p5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=nl(e);return this.tween(n,(r.local?f5:h5)(r,t))}function m5(e,t){return function(){Ag(this,e).delay=+t.apply(this,arguments)}}function g5(e,t){return t=+t,function(){Ag(this,e).delay=t}}function y5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m5:g5)(t,e)):Yt(this.node(),t).delay}function v5(e,t){return function(){un(this,e).duration=+t.apply(this,arguments)}}function x5(e,t){return t=+t,function(){un(this,e).duration=t}}function w5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v5:x5)(t,e)):Yt(this.node(),t).duration}function _5(e,t){if(typeof t!="function")throw new Error;return function(){un(this,e).ease=t}}function b5(e){var t=this._id;return arguments.length?this.each(_5(t,e)):Yt(this.node(),t).ease}function N5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;un(this,e).ease=n}}function E5(e){if(typeof e!="function")throw new Error;return this.each(N5(this._id,e))}function S5(e){typeof e!="function"&&(e=eS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new jn(r,this._parents,this._name,this._id)}function k5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<r;++a)o[a]=t[a];return new jn(o,this._parents,this._name,this._id)}function C5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function j5(e,t,n){var r,i,s=C5(t)?Ag:un;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function R5(e,t){var n=this._id;return arguments.length<2?Yt(this.node(),n).on.on(e):this.each(j5(n,e,t))}function T5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A5(){return this.on("end.remove",T5(this._id))}function I5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cg(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,il(u[h],t,n,h,u,Yt(c,n)));return new jn(s,this._parents,t,n)}function P5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=JE(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),p,v=Yt(c,n),y=0,w=h.length;y<w;++y)(p=h[y])&&il(p,t,n,y,h,v);s.push(h),o.push(c)}return new jn(s,o,t,n)}var M5=Ys.prototype.constructor;function O5(){return new M5(this._groups,this._parents)}function L5(e,t){var n,r,i;return function(){var s=wi(this,e),o=(this.style.removeProperty(e),wi(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function NS(e){return function(){this.style.removeProperty(e)}}function q5(e,t,n){var r,i=n+"",s;return function(){var o=wi(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function $5(e,t,n){var r,i,s;return function(){var o=wi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),wi(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function F5(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=un(this,e),u=l.on,c=l.value[s]==null?a||(a=NS(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function D5(e,t,n){var r=(e+="")=="transform"?DA:bS;return t==null?this.styleTween(e,L5(e,r)).on("end.style."+e,NS(e)):typeof t=="function"?this.styleTween(e,$5(e,r,Ig(this,"style."+e,t))).each(F5(this._id,e)):this.styleTween(e,q5(e,r,t),n).on("end.style."+e,null)}function z5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function B5(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&z5(e,o,n)),r}return s._value=t,s}function H5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,B5(e,t,n??""))}function U5(e){return function(){this.textContent=e}}function V5(e){return function(){var t=e(this);this.textContent=t??""}}function G5(e){return this.tween("text",typeof e=="function"?V5(Ig(this,"text",e)):U5(e==null?"":e+""))}function W5(e){return function(t){this.textContent=e.call(this,t)}}function K5(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&W5(i)),t}return r._value=e,r}function Y5(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,K5(e))}function X5(){for(var e=this._name,t=this._id,n=ES(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Yt(l,t);il(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new jn(r,this._parents,e,n)}function Q5(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=un(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var Z5=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ES(){return++Z5}var hn=Ys.prototype;jn.prototype={constructor:jn,select:I5,selectAll:P5,selectChild:hn.selectChild,selectChildren:hn.selectChildren,filter:S5,merge:k5,selection:O5,transition:X5,call:hn.call,nodes:hn.nodes,node:hn.node,size:hn.size,empty:hn.empty,each:hn.each,on:R5,attr:u5,attrTween:p5,style:D5,styleTween:H5,text:G5,textTween:Y5,remove:A5,tween:n5,delay:y5,duration:w5,ease:b5,easeVarying:E5,end:Q5,[Symbol.iterator]:hn[Symbol.iterator]};function J5(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var e4={time:null,delay:0,duration:250,ease:J5};function t4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function n4(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=ES(),(n=e4).time=Tg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&il(l,e,t,u,o,n||t4(l,t));return new jn(r,this._parents,e,t)}Ys.prototype.interrupt=JA;Ys.prototype.transition=n4;const ko=e=>()=>e;function r4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xn(e,t,n){this.k=e,this.x=t,this.y=n}xn.prototype={constructor:xn,scale:function(e){return e===1?this:new xn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nn=new xn(1,0,0);xn.prototype;function cu(e){e.stopImmediatePropagation()}function Ui(e){e.preventDefault(),e.stopImmediatePropagation()}function i4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function s4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tv(){return this.__zoom||Nn}function o4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function a4(){return navigator.maxTouchPoints||"ontouchstart"in this}function l4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function SS(){var e=i4,t=s4,n=l4,r=o4,i=a4,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=VA,u=tl("start","zoom","end"),c,d,h,p=500,v=150,y=0,w=10;function m(b){b.property("__zoom",tv).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,O,R,D){var A=b.selection?b.selection():b;A.property("__zoom",tv),b!==A?E(b,O,R,D):A.interrupt().each(function(){S(this,arguments).event(D).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},m.scaleBy=function(b,O,R,D){m.scaleTo(b,function(){var A=this.__zoom.k,C=typeof O=="function"?O.apply(this,arguments):O;return A*C},R,D)},m.scaleTo=function(b,O,R,D){m.transform(b,function(){var A=t.apply(this,arguments),C=this.__zoom,M=R==null?_(A):typeof R=="function"?R.apply(this,arguments):R,$=C.invert(M),F=typeof O=="function"?O.apply(this,arguments):O;return n(x(g(C,F),M,$),A,o)},R,D)},m.translateBy=function(b,O,R,D){m.transform(b,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,D)},m.translateTo=function(b,O,R,D,A){m.transform(b,function(){var C=t.apply(this,arguments),M=this.__zoom,$=D==null?_(C):typeof D=="function"?D.apply(this,arguments):D;return n(Nn.translate($[0],$[1]).scale(M.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof R=="function"?-R.apply(this,arguments):-R),C,o)},D,A)};function g(b,O){return O=Math.max(s[0],Math.min(s[1],O)),O===b.k?b:new xn(O,b.x,b.y)}function x(b,O,R){var D=O[0]-R[0]*b.k,A=O[1]-R[1]*b.k;return D===b.x&&A===b.y?b:new xn(b.k,D,A)}function _(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function E(b,O,R,D){b.on("start.zoom",function(){S(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(D).end()}).tween("zoom",function(){var A=this,C=arguments,M=S(A,C).event(D),$=t.apply(A,C),F=R==null?_($):typeof R=="function"?R.apply(A,C):R,W=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),G=A.__zoom,J=typeof O=="function"?O.apply(A,C):O,ee=l(G.invert(F).concat(W/G.k),J.invert(F).concat(W/J.k));return function(ne){if(ne===1)ne=J;else{var fe=ee(ne),oe=W/fe[2];ne=new xn(oe,F[0]-fe[0]*oe,F[1]-fe[1]*oe)}M.zoom(null,ne)}})}function S(b,O,R){return!R&&b.__zooming||new k(b,O)}function k(b,O){this.that=b,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,O),this.taps=0}k.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,O){return this.mouse&&b!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var O=Rt(this.that).datum();u.call(b,this.that,new r4(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),O)}};function j(b,...O){if(!e.apply(this,arguments))return;var R=S(this,O).event(b),D=this.__zoom,A=Math.max(s[0],Math.min(s[1],D.k*Math.pow(2,r.apply(this,arguments)))),C=Bt(b);if(R.wheel)(R.mouse[0][0]!==C[0]||R.mouse[0][1]!==C[1])&&(R.mouse[1]=D.invert(R.mouse[0]=C)),clearTimeout(R.wheel);else{if(D.k===A)return;R.mouse=[C,D.invert(C)],Xo(this),R.start()}Ui(b),R.wheel=setTimeout(M,v),R.zoom("mouse",n(x(g(D,A),R.mouse[0],R.mouse[1]),R.extent,o));function M(){R.wheel=null,R.end()}}function I(b,...O){if(h||!e.apply(this,arguments))return;var R=b.currentTarget,D=S(this,O,!0).event(b),A=Rt(b.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",W,!0),C=Bt(b,R),M=b.clientX,$=b.clientY;cS(b.view),cu(b),D.mouse=[C,this.__zoom.invert(C)],Xo(this),D.start();function F(G){if(Ui(G),!D.moved){var J=G.clientX-M,ee=G.clientY-$;D.moved=J*J+ee*ee>y}D.event(G).zoom("mouse",n(x(D.that.__zoom,D.mouse[0]=Bt(G,R),D.mouse[1]),D.extent,o))}function W(G){A.on("mousemove.zoom mouseup.zoom",null),dS(G.view,D.moved),Ui(G),D.event(G).end()}}function P(b,...O){if(e.apply(this,arguments)){var R=this.__zoom,D=Bt(b.changedTouches?b.changedTouches[0]:b,this),A=R.invert(D),C=R.k*(b.shiftKey?.5:2),M=n(x(g(R,C),D,A),t.apply(this,O),o);Ui(b),a>0?Rt(this).transition().duration(a).call(E,M,D,b):Rt(this).call(m.transform,M,D,b)}}function L(b,...O){if(e.apply(this,arguments)){var R=b.touches,D=R.length,A=S(this,O,b.changedTouches.length===D).event(b),C,M,$,F;for(cu(b),M=0;M<D;++M)$=R[M],F=Bt($,this),F=[F,this.__zoom.invert(F),$.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,C=!0,A.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(A.taps<2&&(d=F[0],c=setTimeout(function(){c=null},p)),Xo(this),A.start())}}function B(b,...O){if(this.__zooming){var R=S(this,O).event(b),D=b.changedTouches,A=D.length,C,M,$,F;for(Ui(b),C=0;C<A;++C)M=D[C],$=Bt(M,this),R.touch0&&R.touch0[2]===M.identifier?R.touch0[0]=$:R.touch1&&R.touch1[2]===M.identifier&&(R.touch1[0]=$);if(M=R.that.__zoom,R.touch1){var W=R.touch0[0],G=R.touch0[1],J=R.touch1[0],ee=R.touch1[1],ne=(ne=J[0]-W[0])*ne+(ne=J[1]-W[1])*ne,fe=(fe=ee[0]-G[0])*fe+(fe=ee[1]-G[1])*fe;M=g(M,Math.sqrt(ne/fe)),$=[(W[0]+J[0])/2,(W[1]+J[1])/2],F=[(G[0]+ee[0])/2,(G[1]+ee[1])/2]}else if(R.touch0)$=R.touch0[0],F=R.touch0[1];else return;R.zoom("touch",n(x(M,$,F),R.extent,o))}}function z(b,...O){if(this.__zooming){var R=S(this,O).event(b),D=b.changedTouches,A=D.length,C,M;for(cu(b),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),C=0;C<A;++C)M=D[C],R.touch0&&R.touch0[2]===M.identifier?delete R.touch0:R.touch1&&R.touch1[2]===M.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(M=Bt(M,this),Math.hypot(d[0]-M[0],d[1]-M[1])<w)){var $=Rt(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:ko(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ko(!!b),m):e},m.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:ko(!!b),m):i},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ko([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],m):[s[0],s[1]]},m.translateExtent=function(b){return arguments.length?(o[0][0]=+b[0][0],o[1][0]=+b[1][0],o[0][1]=+b[0][1],o[1][1]=+b[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(a=+b,m):a},m.interpolate=function(b){return arguments.length?(l=b,m):l},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,m):Math.sqrt(y)},m.tapDistance=function(b){return arguments.length?(w=+b,m):w},m}const sl=N.createContext(null),u4=sl.Provider,Rn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},kS=Rn.error001();function ye(e,t){const n=N.useContext(sl);if(n===null)throw new Error(kS);return QE(n,e,t)}const Be=()=>{const e=N.useContext(sl);if(e===null)throw new Error(kS);return N.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},c4=e=>e.userSelectionActive?"none":"all";function Pg({position:e,children:t,className:n,style:r,...i}){const s=ye(c4),o=`${e}`.split("-");return q.createElement("div",{className:Xe(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function d4({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:q.createElement(Pg,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const f4=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=N.useRef(null),[h,p]=N.useState({x:0,y:0,width:0,height:0}),v=Xe(["react-flow__edge-textwrapper",u]);return N.useEffect(()=>{if(d.current){const y=d.current.getBBox();p({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:q.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...c},i&&q.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),q.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:r},n),l)};var h4=N.memo(f4);const Mg=e=>({width:e.offsetWidth,height:e.offsetHeight}),bi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Og=(e={x:0,y:0},t)=>({x:bi(e.x,t[0][0],t[1][0]),y:bi(e.y,t[0][1],t[1][1])}),nv=(e,t,n)=>e<t?bi(Math.abs(e-t),1,50)/50:e>n?-bi(Math.abs(e-n),1,50)/50:0,CS=(e,t)=>{const n=nv(e.x,35,t.width-35)*20,r=nv(e.y,35,t.height-35)*20;return[n,r]},jS=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},RS=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),zs=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),TS=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),rv=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),p4=(e,t)=>TS(RS(zs(e),zs(t))),mm=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},m4=e=>At(e.width)&&At(e.height)&&At(e.x)&&At(e.y),At=e=>!isNaN(e)&&isFinite(e),Ae=Symbol.for("internals"),AS=["Enter"," ","Escape"],g4=(e,t)=>{},y4=e=>"nativeEvent"in e;function gm(e){var i,s;const t=y4(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const IS=e=>"clientX"in e,tr=(e,t)=>{var s,o;const n=IS(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Aa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Qs=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p=20})=>q.createElement(q.Fragment,null,q.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),p&&q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&At(n)&&At(r)?q.createElement(h4,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Qs.displayName="BaseEdge";function Vi(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function PS({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function MS({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}var Ar;(function(e){e.Strict="strict",e.Loose="loose"})(Ar||(Ar={}));var xr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(xr||(xr={}));var Bs;(function(e){e.Partial="partial",e.Full="full"})(Bs||(Bs={}));var Hn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Hn||(Hn={}));var at;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(at||(at={}));var Z;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Z||(Z={}));function iv({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Z.Left||e===Z.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function OS({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top}){const[o,a]=iv({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=iv({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,d,h,p]=MS({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,c,d,h,p]}const Lg=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Z.Bottom,targetPosition:s=Z.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[w,m,g]=OS({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return q.createElement(Qs,{path:w,labelX:m,labelY:g,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:v,interactionWidth:y})});Lg.displayName="SimpleBezierEdge";const sv={[Z.Left]:{x:-1,y:0},[Z.Right]:{x:1,y:0},[Z.Top]:{x:0,y:-1},[Z.Bottom]:{x:0,y:1}},v4=({source:e,sourcePosition:t=Z.Bottom,target:n})=>t===Z.Left||t===Z.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ov=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function x4({source:e,sourcePosition:t=Z.Bottom,target:n,targetPosition:r=Z.Top,center:i,offset:s}){const o=sv[t],a=sv[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=v4({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",h=c[d];let p=[],v,y;const w={x:0,y:0},m={x:0,y:0},[g,x,_,E]=PS({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){v=i.x??g,y=i.y??x;const k=[{x:v,y:l.y},{x:v,y:u.y}],j=[{x:l.x,y},{x:u.x,y}];o[d]===h?p=d==="x"?k:j:p=d==="x"?j:k}else{const k=[{x:l.x,y:u.y}],j=[{x:u.x,y:l.y}];if(d==="x"?p=o.x===h?j:k:p=o.y===h?k:j,t===r){const z=Math.abs(e[d]-n[d]);if(z<=s){const b=Math.min(s-1,s-z);o[d]===h?w[d]=(l[d]>e[d]?-1:1)*b:m[d]=(u[d]>n[d]?-1:1)*b}}if(t!==r){const z=d==="x"?"y":"x",b=o[d]===a[z],O=l[z]>u[z],R=l[z]<u[z];(o[d]===1&&(!b&&O||b&&R)||o[d]!==1&&(!b&&R||b&&O))&&(p=d==="x"?k:j)}const I={x:l.x+w.x,y:l.y+w.y},P={x:u.x+m.x,y:u.y+m.y},L=Math.max(Math.abs(I.x-p[0].x),Math.abs(P.x-p[0].x)),B=Math.max(Math.abs(I.y-p[0].y),Math.abs(P.y-p[0].y));L>=B?(v=(I.x+P.x)/2,y=p[0].y):(v=p[0].x,y=(I.y+P.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...p,{x:u.x+m.x,y:u.y+m.y},n],v,y,_,E]}function w4(e,t,n,r){const i=Math.min(ov(e,t)/2,ov(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function ym({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,p,v]=x4({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((w,m,g)=>{let x="";return g>0&&g<c.length-1?x=w4(c[g-1],m,c[g+1],o):x=`${g===0?"M":"L"}${m.x} ${m.y}`,w+=x,w},""),d,h,p,v]}const ol=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=Z.Bottom,targetPosition:h=Z.Top,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[m,g,x]=ym({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:h,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return q.createElement(Qs,{path:m,labelX:g,labelY:x,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:v,interactionWidth:w})});ol.displayName="SmoothStepEdge";const qg=N.memo(e=>{var t;return q.createElement(ol,{...e,pathOptions:N.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});qg.displayName="StepEdge";function _4({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=PS({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const $g=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p})=>{const[v,y,w]=_4({sourceX:e,sourceY:t,targetX:n,targetY:r});return q.createElement(Qs,{path:v,labelX:y,labelY:w,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p})});$g.displayName="StraightEdge";function Co(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function av({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Z.Left:return[t-Co(t-r,s),n];case Z.Right:return[t+Co(r-t,s),n];case Z.Top:return[t,n-Co(n-i,s)];case Z.Bottom:return[t,n+Co(i-n,s)]}}function LS({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top,curvature:o=.25}){const[a,l]=av({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=av({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,h,p,v]=MS({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,d,h,p,v]}const Ia=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Z.Bottom,targetPosition:s=Z.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[m,g,x]=LS({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:y==null?void 0:y.curvature});return q.createElement(Qs,{path:m,labelX:g,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:v,interactionWidth:w})});Ia.displayName="BezierEdge";const Fg=N.createContext(null),b4=Fg.Provider;Fg.Consumer;const N4=()=>N.useContext(Fg),E4=e=>"id"in e&&"source"in e&&"target"in e,S4=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,vm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,k4=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),al=(e,t)=>{if(!e.source||!e.target)return t;let n;return E4(e)?n={...e}:n={...e,id:S4(e)},k4(n,t)?t:t.concat(n)},xm=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},qS=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Er=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},ll=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=Er(i,t).positionAbsolute;return RS(r,zs({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return TS(n)},$S=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:h,selectable:p=!0,hidden:v=!1}=c;if(o&&!p||v)return!1;const{positionAbsolute:y}=Er(c,a),w={x:y.x,y:y.y,width:d||0,height:h||0},m=mm(l,w),g=typeof d>"u"||typeof h>"u"||d===null||h===null,x=s&&m>0,_=(d||0)*(h||0);(g||x||m>=_||c.dragging)&&u.push(c)}),u},FS=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},DS=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=bi(l,r,i),c=e.x+e.width/2,d=e.y+e.height/2,h=t/2-c*u,p=n/2-d*u;return{x:h,y:p,zoom:u}},pr=(e,t=0)=>e.transition().duration(t);function lv(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function C4(e,t,n,r,i,s){const{x:o,y:a}=tr(e),u=t.elementsFromPoint(o,a).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const y=Dg(void 0,u),w=u.getAttribute("data-handleid"),m=s({nodeId:v,id:w,type:y});if(m){const g=i.find(x=>x.nodeId===v&&x.type===y&&x.id===w);return{handle:{id:w,type:y,nodeId:v,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(v=>{const y=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(y<=r){const w=s(v);y<=d&&(y<d?c=[{handle:v,validHandleResult:w}]:y===d&&c.push({handle:v,validHandleResult:w}),d=y)}}),!c.length)return{handle:null,validHandleResult:zS()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:v})=>v.isValid),p=c.some(({handle:v})=>v.type==="target");return c.find(({handle:v,validHandleResult:y})=>p?v.type==="target":h?y.isValid:!0)||c[0]}const j4={source:null,target:null,sourceHandle:null,targetHandle:null},zS=()=>({handleDomNode:null,isValid:!1,connection:j4,endHandle:null});function BS(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...zS(),handleDomNode:l};if(l){const c=Dg(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),y={source:a?d:n,sourceHandle:a?h:r,target:a?n:d,targetHandle:a?r:h};u.connection=y,p&&v&&(t===Ar.Strict?a&&c==="source"||!a&&c==="target":d!==n||h!==r)&&(u.endHandle={nodeId:d,handleId:h,type:c},u.isValid=s(y))}return u}function R4({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[Ae]){const{handleBounds:o}=s[Ae];let a=[],l=[];o&&(a=lv(s,o,"source",`${t}-${n}-${r}`),l=lv(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Dg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function du(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function T4(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function HS({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=jS(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:p,connectionRadius:v,onConnectStart:y,panBy:w,getNodes:m,cancelConnection:g}=s();let x=0,_;const{x:E,y:S}=tr(e),k=c==null?void 0:c.elementFromPoint(E,S),j=Dg(l,k),I=h==null?void 0:h.getBoundingClientRect();if(!I||!j)return;let P,L=tr(e,I),B=!1,z=null,b=!1,O=null;const R=R4({nodes:m(),nodeId:n,handleId:t,handleType:j}),D=()=>{if(!p)return;const[M,$]=CS(L,I);w({x:M,y:$}),x=requestAnimationFrame(D)};o({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:j});function A(M){const{transform:$}=s();L=tr(M,I);const{handle:F,validHandleResult:W}=C4(M,c,xm(L,$,!1,[1,1]),v,R,G=>BS(G,d,n,t,i?"target":"source",a,c));if(_=F,B||(D(),B=!0),O=W.handleDomNode,z=W.connection,b=W.isValid,o({connectionPosition:_&&b?qS({x:_.x,y:_.y},$):L,connectionStatus:T4(!!_,b),connectionEndHandle:W.endHandle}),!_&&!b&&!O)return du(P);z.source!==z.target&&O&&(du(P),P=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",b),O.classList.toggle("react-flow__handle-valid",b))}function C(M){var $,F;(_||O)&&z&&b&&(r==null||r(z)),(F=($=s()).onConnectEnd)==null||F.call($,M),l&&(u==null||u(M)),du(P),g(),cancelAnimationFrame(x),B=!1,b=!1,z=null,O=null,c.removeEventListener("mousemove",A),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",A),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",A),c.addEventListener("mouseup",C),c.addEventListener("touchmove",A),c.addEventListener("touchend",C)}const uv=()=>!0,A4=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),I4=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},US=N.forwardRef(({type:e="source",position:t=Z.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},p)=>{var I,P;const v=o||null,y=e==="target",w=Be(),m=N4(),{connectOnClick:g,noPanClassName:x}=ye(A4,Ve),{connecting:_,clickConnecting:E}=ye(I4(m,v,e),Ve);m||(P=(I=w.getState()).onError)==null||P.call(I,"010",Rn.error010());const S=L=>{const{defaultEdgeOptions:B,onConnect:z,hasDefaultEdges:b}=w.getState(),O={...B,...L};if(b){const{edges:R,setEdges:D}=w.getState();D(al(O,R))}z==null||z(O),a==null||a(O)},k=L=>{if(!m)return;const B=IS(L);i&&(B&&L.button===0||!B)&&HS({event:L,handleId:v,nodeId:m,onConnect:S,isTarget:y,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||uv}),B?c==null||c(L):d==null||d(L)},j=L=>{const{onClickConnectStart:B,onClickConnectEnd:z,connectionClickStartHandle:b,connectionMode:O,isValidConnection:R}=w.getState();if(!m||!b&&!i)return;if(!b){B==null||B(L,{nodeId:m,handleId:v,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:v}});return}const D=jS(L.target),A=n||R||uv,{connection:C,isValid:M}=BS({nodeId:m,id:v,type:e},O,b.nodeId,b.handleId||null,b.type,A,D);M&&S(C),z==null||z(L),w.setState({connectionClickStartHandle:null})};return q.createElement("div",{"data-handleid":v,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${v}-${e}`,className:Xe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,connecting:E,connectionindicator:r&&(i&&!_||s&&_)}]),onMouseDown:k,onTouchStart:k,onClick:g?j:void 0,ref:p,...h},l)});US.displayName="Handle";var pt=N.memo(US);const VS=({data:e,isConnectable:t,targetPosition:n=Z.Top,sourcePosition:r=Z.Bottom})=>q.createElement(q.Fragment,null,q.createElement(pt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,q.createElement(pt,{type:"source",position:r,isConnectable:t}));VS.displayName="DefaultNode";var wm=N.memo(VS);const GS=({data:e,isConnectable:t,sourcePosition:n=Z.Bottom})=>q.createElement(q.Fragment,null,e==null?void 0:e.label,q.createElement(pt,{type:"source",position:n,isConnectable:t}));GS.displayName="InputNode";var WS=N.memo(GS);const KS=({data:e,isConnectable:t,targetPosition:n=Z.Top})=>q.createElement(q.Fragment,null,q.createElement(pt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);KS.displayName="OutputNode";var YS=N.memo(KS);const zg=()=>null;zg.displayName="GroupNode";const P4=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),jo=e=>e.id;function M4(e,t){return Ve(e.selectedNodes.map(jo),t.selectedNodes.map(jo))&&Ve(e.selectedEdges.map(jo),t.selectedEdges.map(jo))}const XS=N.memo(({onSelectionChange:e})=>{const t=Be(),{selectedNodes:n,selectedEdges:r}=ye(P4,M4);return N.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});XS.displayName="SelectionListener";const O4=e=>!!e.onSelectionChange;function L4({onSelectionChange:e}){const t=ye(O4);return e||t?q.createElement(XS,{onSelectionChange:e}):null}const q4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Dr(e,t){N.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function se(e,t,n){N.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const $4=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:v,minZoom:y,maxZoom:w,nodeExtent:m,onNodesChange:g,onEdgesChange:x,elementsSelectable:_,connectionMode:E,snapGrid:S,snapToGrid:k,translateExtent:j,connectOnClick:I,defaultEdgeOptions:P,fitView:L,fitViewOptions:B,onNodesDelete:z,onEdgesDelete:b,onNodeDrag:O,onNodeDragStart:R,onNodeDragStop:D,onSelectionDrag:A,onSelectionDragStart:C,onSelectionDragStop:M,noPanClassName:$,nodeOrigin:F,rfId:W,autoPanOnConnect:G,autoPanOnNodeDrag:J,onError:ee,connectionRadius:ne,isValidConnection:fe,nodeDragThreshold:oe})=>{const{setNodes:le,setEdges:Re,setDefaultNodesAndEdges:Ee,setMinZoom:qe,setMaxZoom:Pe,setTranslateExtent:te,setNodeExtent:de,reset:X}=ye(q4,Ve),Q=Be();return N.useEffect(()=>{const ve=r==null?void 0:r.map(ot=>({...ot,...P}));return Ee(n,ve),()=>{X()}},[]),se("defaultEdgeOptions",P,Q.setState),se("connectionMode",E,Q.setState),se("onConnect",i,Q.setState),se("onConnectStart",s,Q.setState),se("onConnectEnd",o,Q.setState),se("onClickConnectStart",a,Q.setState),se("onClickConnectEnd",l,Q.setState),se("nodesDraggable",u,Q.setState),se("nodesConnectable",c,Q.setState),se("nodesFocusable",d,Q.setState),se("edgesFocusable",h,Q.setState),se("edgesUpdatable",p,Q.setState),se("elementsSelectable",_,Q.setState),se("elevateNodesOnSelect",v,Q.setState),se("snapToGrid",k,Q.setState),se("snapGrid",S,Q.setState),se("onNodesChange",g,Q.setState),se("onEdgesChange",x,Q.setState),se("connectOnClick",I,Q.setState),se("fitViewOnInit",L,Q.setState),se("fitViewOnInitOptions",B,Q.setState),se("onNodesDelete",z,Q.setState),se("onEdgesDelete",b,Q.setState),se("onNodeDrag",O,Q.setState),se("onNodeDragStart",R,Q.setState),se("onNodeDragStop",D,Q.setState),se("onSelectionDrag",A,Q.setState),se("onSelectionDragStart",C,Q.setState),se("onSelectionDragStop",M,Q.setState),se("noPanClassName",$,Q.setState),se("nodeOrigin",F,Q.setState),se("rfId",W,Q.setState),se("autoPanOnConnect",G,Q.setState),se("autoPanOnNodeDrag",J,Q.setState),se("onError",ee,Q.setState),se("connectionRadius",ne,Q.setState),se("isValidConnection",fe,Q.setState),se("nodeDragThreshold",oe,Q.setState),Dr(e,le),Dr(t,Re),Dr(y,qe),Dr(w,Pe),Dr(j,te),Dr(m,de),null},cv={display:"none"},F4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},QS="react-flow__node-desc",ZS="react-flow__edge-desc",D4="react-flow__aria-live",z4=e=>e.ariaLiveMessage;function B4({rfId:e}){const t=ye(z4);return q.createElement("div",{id:`${D4}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:F4},t)}function H4({rfId:e,disableKeyboardA11y:t}){return q.createElement(q.Fragment,null,q.createElement("div",{id:`${QS}-${e}`,style:cv},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),q.createElement("div",{id:`${ZS}-${e}`,style:cv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&q.createElement(B4,{rfId:e}))}var Hs=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=N.useState(!1),i=N.useRef(!1),s=N.useRef(new Set([])),[o,a]=N.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return N.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&gm(p))return!1;const y=fv(p.code,a);s.current.add(p[y]),dv(o,s.current,!1)&&(p.preventDefault(),r(!0))},d=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&gm(p))return!1;const y=fv(p.code,a);dv(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[y]),p.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[e,r]),n};function dv(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function fv(e,t){return t.includes(e)?"code":"key"}function JS(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=Er(s,r);return JS(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[Ae])==null?void 0:a.z)??0)>(n.z??0)?((l=s[Ae])==null?void 0:l.z)??0:n.z??0},r)}function e2(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=JS(r,e,{...r.position,z:((s=r[Ae])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[Ae].z=l,n!=null&&n[r.id]&&(r[Ae].isParent=!0)}})}function fu(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var p;const l=(At(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Ae,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Ae])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),e2(i,n,s),i}function t2(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),h=t.initial&&!u&&c;if(a&&l&&(h||!t.initial)){const v=n().filter(w=>{var g;const m=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(x=>x.id===w.id):m}),y=v.every(w=>w.width&&w.height);if(v.length>0&&y){const w=ll(v,d),{x:m,y:g,zoom:x}=DS(w,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),_=Nn.translate(m,g).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(pr(l,t.duration),_):a.transform(l,_),!0}}return!1}function U4(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ae]:r[Ae],selected:n.selected})}),new Map(t)}function V4(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ro({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:U4(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:V4(t,s)}),a==null||a(t))}const zr=()=>{},G4={zoomIn:zr,zoomOut:zr,zoomTo:zr,getZoom:()=>1,setViewport:zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:zr,fitBounds:zr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},W4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),K4=()=>{const e=Be(),{d3Zoom:t,d3Selection:n}=ye(W4,Ve);return N.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(pr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(pr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(pr(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=Nn.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(pr(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>t2(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,d=a/2-i*c,h=l/2-s*c,p=Nn.translate(d,h).scale(c);t.transform(pr(n,o==null?void 0:o.duration),p)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:h}=DS(i,o,a,l,u,(s==null?void 0:s.padding)??.1),p=Nn.translate(c,d).scale(h);t.transform(pr(n,s==null?void 0:s.duration),p)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),xm(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return xm(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=qS(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:G4,[t,n])};function Bg(){const e=K4(),t=Be(),n=N.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=N.useCallback(y=>t.getState().nodeInternals.get(y),[]),i=N.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(w=>({...w}))},[]),s=N.useCallback(y=>{const{edges:w=[]}=t.getState();return w.find(m=>m.id===y)},[]),o=N.useCallback(y=>{const{getNodes:w,setNodes:m,hasDefaultNodes:g,onNodesChange:x}=t.getState(),_=w(),E=typeof y=="function"?y(_):y;if(g)m(E);else if(x){const S=E.length===0?_.map(k=>({type:"remove",id:k.id})):E.map(k=>({item:k,type:"reset"}));x(S)}},[]),a=N.useCallback(y=>{const{edges:w=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:x}=t.getState(),_=typeof y=="function"?y(w):y;if(g)m(_);else if(x){const E=_.length===0?w.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));x(E)}},[]),l=N.useCallback(y=>{const w=Array.isArray(y)?y:[y],{getNodes:m,setNodes:g,hasDefaultNodes:x,onNodesChange:_}=t.getState();if(x){const S=[...m(),...w];g(S)}else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),u=N.useCallback(y=>{const w=Array.isArray(y)?y:[y],{edges:m=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:_}=t.getState();if(x)g([...m,...w]);else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),c=N.useCallback(()=>{const{getNodes:y,edges:w=[],transform:m}=t.getState(),[g,x,_]=m;return{nodes:y().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x:g,y:x,zoom:_}}},[]),d=N.useCallback(({nodes:y,edges:w})=>{const{nodeInternals:m,getNodes:g,edges:x,hasDefaultNodes:_,hasDefaultEdges:E,onNodesDelete:S,onEdgesDelete:k,onNodesChange:j,onEdgesChange:I}=t.getState(),P=(y||[]).map(O=>O.id),L=(w||[]).map(O=>O.id),B=g().reduce((O,R)=>{const D=R.parentNode||R.parentId,A=!P.includes(R.id)&&D&&O.find(M=>M.id===D);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(P.includes(R.id)||A)&&O.push(R),O},[]),z=x.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),b=z.filter(O=>L.includes(O.id));if(B||b){const O=FS(B,z),R=[...b,...O],D=R.reduce((A,C)=>(A.includes(C.id)||A.push(C.id),A),[]);if((E||_)&&(E&&t.setState({edges:x.filter(A=>!D.includes(A.id))}),_&&(B.forEach(A=>{m.delete(A.id)}),t.setState({nodeInternals:new Map(m)}))),D.length>0&&(k==null||k(R),I&&I(D.map(A=>({id:A,type:"remove"})))),B.length>0&&(S==null||S(B),j)){const A=B.map(C=>({id:C.id,type:"remove"}));j(A)}}},[]),h=N.useCallback(y=>{const w=m4(y),m=w?null:t.getState().nodeInternals.get(y.id);return!w&&!m?[null,null,w]:[w?y:rv(m),m,w]},[]),p=N.useCallback((y,w=!0,m)=>{const[g,x,_]=h(y);return g?(m||t.getState().getNodes()).filter(E=>{if(!_&&(E.id===x.id||!E.positionAbsolute))return!1;const S=rv(E),k=mm(S,g);return w&&k>0||k>=g.width*g.height}):[]},[]),v=N.useCallback((y,w,m=!0)=>{const[g]=h(y);if(!g)return!1;const x=mm(g,w);return m&&x>0||x>=g.width*g.height},[]);return N.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:v}),[e,n,r,i,s,o,a,l,u,c,d,p,v])}const Y4={actInsideInputWithModifier:!1};var X4=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Be(),{deleteElements:r}=Bg(),i=Hs(e,Y4),s=Hs(t);N.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),N.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Q4(e){const t=Be();N.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=Mg(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Rn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Hg={position:"absolute",width:"100%",height:"100%",top:0,left:0},Z4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,To=e=>({x:e.x,y:e.y,zoom:e.k}),Br=(e,t)=>e.target.closest(`.${t}`),hv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pv=e=>{const t=e.ctrlKey&&Aa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},J4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),eI=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=xr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:h,translateExtent:p,minZoom:v,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:m=!0,children:g,noWheelClassName:x,noPanClassName:_})=>{const E=N.useRef(),S=Be(),k=N.useRef(!1),j=N.useRef(!1),I=N.useRef(null),P=N.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:B,d3ZoomHandler:z,userSelectionActive:b}=ye(J4,Ve),O=Hs(w),R=N.useRef(0),D=N.useRef(!1),A=N.useRef();return Q4(I),N.useEffect(()=>{if(I.current){const C=I.current.getBoundingClientRect(),M=SS().scaleExtent([v,y]).translateExtent(p),$=Rt(I.current).call(M),F=Nn.translate(h.x,h.y).scale(bi(h.zoom,v,y)),W=[[0,0],[C.width,C.height]],G=M.constrain()(F,W,p);M.transform($,G),M.wheelDelta(pv),S.setState({d3Zoom:M,d3Selection:$,d3ZoomHandler:$.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:I.current.closest(".react-flow")})}},[]),N.useEffect(()=>{B&&L&&(o&&!O&&!b?B.on("wheel.zoom",C=>{if(Br(C,x))return!1;C.preventDefault(),C.stopImmediatePropagation();const M=B.property("__zoom").k||1;if(C.ctrlKey&&s){const fe=Bt(C),oe=pv(C),le=M*Math.pow(2,oe);L.scaleTo(B,le,fe,C);return}const $=C.deltaMode===1?20:1;let F=l===xr.Vertical?0:C.deltaX*$,W=l===xr.Horizontal?0:C.deltaY*$;!Aa()&&C.shiftKey&&l!==xr.Vertical&&(F=C.deltaY*$,W=0),L.translateBy(B,-(F/M)*a,-(W/M)*a,{internal:!0});const G=To(B.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ee,onViewportChangeEnd:ne}=S.getState();clearTimeout(A.current),D.current||(D.current=!0,t==null||t(C,G),J==null||J(G)),D.current&&(e==null||e(C,G),ee==null||ee(G),A.current=setTimeout(()=>{n==null||n(C,G),ne==null||ne(G),D.current=!1},150))},{passive:!1}):typeof z<"u"&&B.on("wheel.zoom",function(C,M){if(!m&&C.type==="wheel"&&!C.ctrlKey||Br(C,x))return null;C.preventDefault(),z.call(this,C,M)},{passive:!1}))},[b,o,l,B,L,z,O,s,m,x,t,e,n]),N.useEffect(()=>{L&&L.on("start",C=>{var F,W;if(!C.sourceEvent||C.sourceEvent.internal)return null;R.current=(F=C.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:M}=S.getState(),$=To(C.transform);k.current=!0,P.current=$,((W=C.sourceEvent)==null?void 0:W.type)==="mousedown"&&S.setState({paneDragging:!0}),M==null||M($),t==null||t(C.sourceEvent,$)})},[L,t]),N.useEffect(()=>{L&&(b&&!k.current?L.on("zoom",null):b||L.on("zoom",C=>{var $;const{onViewportChange:M}=S.getState();if(S.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),j.current=!!(r&&hv(d,R.current??0)),(e||M)&&!(($=C.sourceEvent)!=null&&$.internal)){const F=To(C.transform);M==null||M(F),e==null||e(C.sourceEvent,F)}}))},[b,L,e,d,r]),N.useEffect(()=>{L&&L.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=S.getState();if(k.current=!1,S.setState({paneDragging:!1}),r&&hv(d,R.current??0)&&!j.current&&r(C.sourceEvent),j.current=!1,(n||M)&&Z4(P.current,C.transform)){const $=To(C.transform);P.current=$,clearTimeout(E.current),E.current=setTimeout(()=>{M==null||M($),n==null||n(C.sourceEvent,$)},o?150:0)}})},[L,o,d,n,r]),N.useEffect(()=>{L&&L.filter(C=>{const M=O||i,$=s&&C.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&C.button===1&&C.type==="mousedown"&&(Br(C,"react-flow__node")||Br(C,"react-flow__edge")))return!0;if(!d&&!M&&!o&&!u&&!s||b||!u&&C.type==="dblclick"||Br(C,x)&&C.type==="wheel"||Br(C,_)&&(C.type!=="wheel"||o&&C.type==="wheel"&&!O)||!s&&C.ctrlKey&&C.type==="wheel"||!M&&!o&&!$&&C.type==="wheel"||!d&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(d)&&!d.includes(C.button)&&C.type==="mousedown")return!1;const F=Array.isArray(d)&&d.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&F})},[b,L,i,s,o,u,d,c,O]),q.createElement("div",{className:"react-flow__renderer",ref:I,style:Hg},g)},tI=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function nI(){const{userSelectionActive:e,userSelectionRect:t}=ye(tI,Ve);return e&&t?q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function mv(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function n2(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&mv(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&mv(r,o);break}case"remove":return r}return r.push(o),r},n)}function r2(e,t){return n2(e,t)}function rI(e,t){return n2(e,t)}const Dn=(e,t)=>({id:e,type:"select",selected:t});function ni(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Dn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Dn(r.id,!1))),n},[])}const hu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},iI=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),i2=N.memo(({isSelecting:e,selectionMode:t=Bs.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const h=N.useRef(null),p=Be(),v=N.useRef(0),y=N.useRef(0),w=N.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:x}=ye(iI,Ve),_=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},E=z=>{s==null||s(z),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},S=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}o==null||o(z)},k=a?z=>a(z):void 0,j=z=>{const{resetSelectedElements:b,domNode:O}=p.getState();if(w.current=O==null?void 0:O.getBoundingClientRect(),!g||!e||z.button!==0||z.target!==h.current||!w.current)return;const{x:R,y:D}=tr(z,w.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:R,startY:D,x:R,y:D}}),r==null||r(z)},I=z=>{const{userSelectionRect:b,nodeInternals:O,edges:R,transform:D,onNodesChange:A,onEdgesChange:C,nodeOrigin:M,getNodes:$}=p.getState();if(!e||!w.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=tr(z,w.current),W=b.startX??0,G=b.startY??0,J={...b,x:F.x<W?F.x:W,y:F.y<G?F.y:G,width:Math.abs(F.x-W),height:Math.abs(F.y-G)},ee=$(),ne=$S(O,J,D,t===Bs.Partial,!0,M),fe=FS(ne,R).map(le=>le.id),oe=ne.map(le=>le.id);if(v.current!==oe.length){v.current=oe.length;const le=ni(ee,oe);le.length&&(A==null||A(le))}if(y.current!==fe.length){y.current=fe.length;const le=ni(R,fe);le.length&&(C==null||C(le))}p.setState({userSelectionRect:J})},P=z=>{if(z.button!==0)return;const{userSelectionRect:b}=p.getState();!m&&b&&z.target===h.current&&(E==null||E(z)),p.setState({nodesSelectionActive:v.current>0}),_(),i==null||i(z)},L=z=>{m&&(p.setState({nodesSelectionActive:v.current>0}),i==null||i(z)),_()},B=g&&(e||m);return q.createElement("div",{className:Xe(["react-flow__pane",{dragging:x,selection:e}]),onClick:B?void 0:hu(E,h),onContextMenu:hu(S,h),onWheel:hu(k,h),onMouseEnter:B?void 0:l,onMouseDown:B?j:void 0,onMouseMove:B?I:u,onMouseUp:B?P:void 0,onMouseLeave:B?L:c,ref:h,style:Hg},d,q.createElement(nI,null))});i2.displayName="Pane";function s2(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:s2(r,t):!1}function gv(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sI(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!s2(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function oI(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function o2(e,t,n,r,i=[0,0],s){const o=oI(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:h,y:p}=Er(d,i).positionAbsolute;a=d&&At(h)&&At(p)&&At(d.width)&&At(d.height)?[[h+e.width*i[0],p+e.height*i[1]],[h+d.width-e.width+e.width*i[0],p+d.height-e.height+e.height*i[1]]]:a}else s==null||s("005",Rn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:h,y:p}=Er(d,i).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const d=n.get(l);u=Er(d,i).positionAbsolute}const c=a&&a!=="parent"?Og(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function pu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const yv=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...Mg(l)}})};function Gi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function _m({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Rn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function aI(){const e=Be();return N.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function mu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function a2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=Be(),[l,u]=N.useState(!1),c=N.useRef([]),d=N.useRef({x:null,y:null}),h=N.useRef(0),p=N.useRef(null),v=N.useRef({x:0,y:0}),y=N.useRef(null),w=N.useRef(!1),m=N.useRef(!1),g=N.useRef(!1),x=aI();return N.useEffect(()=>{if(e!=null&&e.current){const _=Rt(e.current),E=({x:j,y:I})=>{const{nodeInternals:P,onNodeDrag:L,onSelectionDrag:B,updateNodePositions:z,nodeExtent:b,snapGrid:O,snapToGrid:R,nodeOrigin:D,onError:A}=a.getState();d.current={x:j,y:I};let C=!1,M={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const F=ll(c.current,D);M=zs(F)}if(c.current=c.current.map(F=>{const W={x:j-F.distance.x,y:I-F.distance.y};R&&(W.x=O[0]*Math.round(W.x/O[0]),W.y=O[1]*Math.round(W.y/O[1]));const G=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!F.extent&&(G[0][0]=F.positionAbsolute.x-M.x+b[0][0],G[1][0]=F.positionAbsolute.x+(F.width??0)-M.x2+b[1][0],G[0][1]=F.positionAbsolute.y-M.y+b[0][1],G[1][1]=F.positionAbsolute.y+(F.height??0)-M.y2+b[1][1]);const J=o2(F,W,P,G,D,A);return C=C||F.position.x!==J.position.x||F.position.y!==J.position.y,F.position=J.position,F.positionAbsolute=J.positionAbsolute,F}),!C)return;z(c.current,!0,!0),u(!0);const $=i?L:mu(B);if($&&y.current){const[F,W]=pu({nodeId:i,dragItems:c.current,nodeInternals:P});$(y.current,F,W)}},S=()=>{if(!p.current)return;const[j,I]=CS(v.current,p.current);if(j!==0||I!==0){const{transform:P,panBy:L}=a.getState();d.current.x=(d.current.x??0)-j/P[2],d.current.y=(d.current.y??0)-I/P[2],L({x:j,y:I})&&E(d.current)}h.current=requestAnimationFrame(S)},k=j=>{var D;const{nodeInternals:I,multiSelectionActive:P,nodesDraggable:L,unselectNodesAndEdges:B,onNodeDragStart:z,onSelectionDragStart:b}=a.getState();m.current=!0;const O=i?z:mu(b);(!o||!s)&&!P&&i&&((D=I.get(i))!=null&&D.selected||B()),i&&s&&o&&_m({id:i,store:a,nodeRef:e});const R=x(j);if(d.current=R,c.current=sI(I,L,R,i),O&&c.current){const[A,C]=pu({nodeId:i,dragItems:c.current,nodeInternals:I});O(j.sourceEvent,A,C)}};if(t)_.on(".drag",null);else{const j=xA().on("start",I=>{const{domNode:P,nodeDragThreshold:L}=a.getState();L===0&&k(I),g.current=!1;const B=x(I);d.current=B,p.current=(P==null?void 0:P.getBoundingClientRect())||null,v.current=tr(I.sourceEvent,p.current)}).on("drag",I=>{var z,b;const P=x(I),{autoPanOnNodeDrag:L,nodeDragThreshold:B}=a.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&m.current&&L&&(w.current=!0,S()),!m.current){const O=P.xSnapped-(((z=d==null?void 0:d.current)==null?void 0:z.x)??0),R=P.ySnapped-(((b=d==null?void 0:d.current)==null?void 0:b.y)??0);Math.sqrt(O*O+R*R)>B&&k(I)}(d.current.x!==P.xSnapped||d.current.y!==P.ySnapped)&&c.current&&m.current&&(y.current=I.sourceEvent,v.current=tr(I.sourceEvent,p.current),E(P))}}).on("end",I=>{if(!(!m.current||g.current)&&(u(!1),w.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:P,nodeInternals:L,onNodeDragStop:B,onSelectionDragStop:z}=a.getState(),b=i?B:mu(z);if(P(c.current,!1,!1),b){const[O,R]=pu({nodeId:i,dragItems:c.current,nodeInternals:L});b(I.sourceEvent,O,R)}}}).filter(I=>{const P=I.target;return!I.button&&(!n||!gv(P,`.${n}`,e))&&(!r||gv(P,r,e))});return _.call(j),()=>{_.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,x]),l}function l2(){const e=Be();return N.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),d=o().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,v=n.isShiftPressed?4:1,y=n.x*h*v,w=n.y*p*v,m=d.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+y,y:g.positionAbsolute.y+w};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:_,position:E}=o2(g,x,r,i,void 0,u);g.position=E,g.positionAbsolute=_}return g});s(m,!0,!1)},[])}const di={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Wi=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onContextMenu:v,onDoubleClick:y,style:w,className:m,isDraggable:g,isSelectable:x,isConnectable:_,isFocusable:E,selectNodesOnDrag:S,sourcePosition:k,targetPosition:j,hidden:I,resizeObserver:P,dragHandle:L,zIndex:B,isParent:z,noDragClassName:b,noPanClassName:O,initialized:R,disableKeyboardA11y:D,ariaLabel:A,rfId:C,hasHandleBounds:M})=>{const $=Be(),F=N.useRef(null),W=N.useRef(null),G=N.useRef(k),J=N.useRef(j),ee=N.useRef(r),ne=x||g||c||d||h||p,fe=l2(),oe=Gi(n,$.getState,d),le=Gi(n,$.getState,h),Re=Gi(n,$.getState,p),Ee=Gi(n,$.getState,v),qe=Gi(n,$.getState,y),Pe=X=>{const{nodeDragThreshold:Q}=$.getState();if(x&&(!S||!g||Q>0)&&_m({id:n,store:$,nodeRef:F}),c){const ve=$.getState().nodeInternals.get(n);ve&&c(X,{...ve})}},te=X=>{if(!gm(X)&&!D)if(AS.includes(X.key)&&x){const Q=X.key==="Escape";_m({id:n,store:$,unselect:Q,nodeRef:F})}else g&&u&&Object.prototype.hasOwnProperty.call(di,X.key)&&($.setState({ariaLiveMessage:`Moved selected node ${X.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),fe({x:di[X.key].x,y:di[X.key].y,isShiftPressed:X.shiftKey}))};N.useEffect(()=>()=>{W.current&&(P==null||P.unobserve(W.current),W.current=null)},[]),N.useEffect(()=>{if(F.current&&!I){const X=F.current;(!R||!M||W.current!==X)&&(W.current&&(P==null||P.unobserve(W.current)),P==null||P.observe(X),W.current=X)}},[I,R,M]),N.useEffect(()=>{const X=ee.current!==r,Q=G.current!==k,ve=J.current!==j;F.current&&(X||Q||ve)&&(X&&(ee.current=r),Q&&(G.current=k),ve&&(J.current=j),$.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,r,k,j]);const de=a2({nodeRef:F,disabled:I||!g,noDragClassName:b,handleSelector:L,nodeId:n,isSelectable:x,selectNodesOnDrag:S});return I?null:q.createElement("div",{className:Xe(["react-flow__node",`react-flow__node-${r}`,{[O]:g},m,{selected:u,selectable:x,parent:z,dragging:de}]),ref:F,style:{zIndex:B,transform:`translate(${a}px,${l}px)`,pointerEvents:ne?"all":"none",visibility:R?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:le,onMouseLeave:Re,onContextMenu:Ee,onClick:Pe,onDoubleClick:qe,onKeyDown:E?te:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":D?void 0:`${QS}-${C}`,"aria-label":A},q.createElement(b4,{value:n},q.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:_,sourcePosition:k,targetPosition:j,dragging:de,dragHandle:L,zIndex:B})))};return t.displayName="NodeWrapper",N.memo(t)};const lI=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ll(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function uI({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Be(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=ye(lI,Ve),c=l2(),d=N.useRef(null);if(N.useEffect(()=>{var v;n||(v=d.current)==null||v.focus({preventScroll:!0})},[n]),a2({nodeRef:d}),u||!i||!s)return null;const h=e?v=>{const y=r.getState().getNodes().filter(w=>w.selected);e(v,y)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(di,v.key)&&c({x:di[v.key].x,y:di[v.key].y,isShiftPressed:v.shiftKey})};return q.createElement("div",{className:Xe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},q.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s,top:a,left:o}}))}var cI=N.memo(uI);const dI=e=>e.nodesSelectionActive,u2=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:h,selectionMode:p,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:S,panOnScrollSpeed:k,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:P,defaultViewport:L,translateExtent:B,minZoom:z,maxZoom:b,preventScrolling:O,onSelectionContextMenu:R,noWheelClassName:D,noPanClassName:A,disableKeyboardA11y:C})=>{const M=ye(dI),$=Hs(d),F=Hs(m),W=F||P,G=F||S,J=$||h&&W!==!0;return X4({deleteKeyCode:a,multiSelectionKeyCode:w}),q.createElement(eI,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:G,panOnScrollSpeed:k,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:!$&&W,defaultViewport:L,translateExtent:B,minZoom:z,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:O,noWheelClassName:D,noPanClassName:A},q.createElement(i2,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:W,isSelecting:!!J,selectionMode:p},e,M&&q.createElement(cI,{onSelectionContextMenu:R,noPanClassName:A,disableKeyboardA11y:C})))};u2.displayName="FlowRenderer";var fI=N.memo(u2);function hI(e){return ye(N.useCallback(n=>e?$S(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function pI(e){const t={input:Wi(e.input||WS),default:Wi(e.default||wm),output:Wi(e.output||YS),group:Wi(e.group||zg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Wi(e[s]||wm),i),n);return{...t,...r}}const mI=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},gI=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),c2=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ye(gI,Ve),a=hI(e.onlyRenderVisibleElements),l=N.useRef(),u=N.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const h=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(h)});return l.current=c,c},[]);return N.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),q.createElement("div",{className:"react-flow__nodes",style:Hg},a.map(c=>{var E,S,k;let d=c.type||"default";e.nodeTypes[d]||(o==null||o("003",Rn.error003(d)),d="default");const h=e.nodeTypes[d]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),v=!!(c.selectable||i&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?Og(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,_=mI({x:g,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return q.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Z.Bottom,targetPosition:c.targetPosition||Z.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:v,isConnectable:y,isFocusable:w,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[Ae])==null?void 0:E.z)??0,isParent:!!((S=c[Ae])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((k=c[Ae])!=null&&k.handleBounds)})}))};c2.displayName="NodeRenderer";var yI=N.memo(c2);const vI=(e,t,n)=>n===Z.Left?e-t:n===Z.Right?e+t:e,xI=(e,t,n)=>n===Z.Top?e-t:n===Z.Bottom?e+t:e,vv="react-flow__edgeupdater",xv=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>q.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Xe([vv,`${vv}-${a}`]),cx:vI(t,r,e),cy:xI(n,r,e),r,stroke:"transparent",fill:"transparent"}),wI=()=>!0;var Hr=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,style:w,source:m,target:g,sourceX:x,sourceY:_,targetX:E,targetY:S,sourcePosition:k,targetPosition:j,elementsSelectable:I,hidden:P,sourceHandleId:L,targetHandleId:B,onContextMenu:z,onMouseEnter:b,onMouseMove:O,onMouseLeave:R,reconnectRadius:D,onReconnect:A,onReconnectStart:C,onReconnectEnd:M,markerEnd:$,markerStart:F,rfId:W,ariaLabel:G,isFocusable:J,isReconnectable:ee,pathOptions:ne,interactionWidth:fe,disableKeyboardA11y:oe})=>{const le=N.useRef(null),[Re,Ee]=N.useState(!1),[qe,Pe]=N.useState(!1),te=Be(),de=N.useMemo(()=>`url('#${vm(F,W)}')`,[F,W]),X=N.useMemo(()=>`url('#${vm($,W)}')`,[$,W]);if(P)return null;const Q=ue=>{var Zt;const{edges:Fe,addSelectedEdges:_e,unselectNodesAndEdges:Ge,multiSelectionActive:dn}=te.getState(),fn=Fe.find(Pi=>Pi.id===n);fn&&(I&&(te.setState({nodesSelectionActive:!1}),fn.selected&&dn?(Ge({nodes:[],edges:[fn]}),(Zt=le.current)==null||Zt.blur()):_e([n])),o&&o(ue,fn))},ve=Vi(n,te.getState,a),ot=Vi(n,te.getState,z),St=Vi(n,te.getState,b),$e=Vi(n,te.getState,O),Se=Vi(n,te.getState,R),Qe=(ue,Fe)=>{if(ue.button!==0)return;const{edges:_e,isValidConnection:Ge}=te.getState(),dn=Fe?g:m,fn=(Fe?B:L)||null,Zt=Fe?"target":"source",Pi=Ge||wI,Al=Fe,Mi=_e.find(dr=>dr.id===n);Pe(!0),C==null||C(ue,Mi,Zt);const Il=dr=>{Pe(!1),M==null||M(dr,Mi,Zt)};HS({event:ue,handleId:fn,nodeId:dn,onConnect:dr=>A==null?void 0:A(Mi,dr),isTarget:Al,getState:te.getState,setState:te.setState,isValidConnection:Pi,edgeUpdaterType:Zt,onReconnectEnd:Il})},gt=ue=>Qe(ue,!0),$t=ue=>Qe(ue,!1),T=()=>Ee(!0),H=()=>Ee(!1),V=!I&&!o,K=ue=>{var Fe;if(!oe&&AS.includes(ue.key)&&I){const{unselectNodesAndEdges:_e,addSelectedEdges:Ge,edges:dn}=te.getState();ue.key==="Escape"?((Fe=le.current)==null||Fe.blur(),_e({edges:[dn.find(Zt=>Zt.id===n)]})):Ge([n])}};return q.createElement("g",{className:Xe(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:V,updating:Re}]),onClick:Q,onDoubleClick:ve,onContextMenu:ot,onMouseEnter:St,onMouseMove:$e,onMouseLeave:Se,onKeyDown:J?K:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${m} to ${g}`,"aria-describedby":J?`${ZS}-${W}`:void 0,ref:le},!qe&&q.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,data:s,style:w,sourceX:x,sourceY:_,targetX:E,targetY:S,sourcePosition:k,targetPosition:j,sourceHandleId:L,targetHandleId:B,markerStart:de,markerEnd:X,pathOptions:ne,interactionWidth:fe}),ee&&q.createElement(q.Fragment,null,(ee==="source"||ee===!0)&&q.createElement(xv,{position:k,centerX:x,centerY:_,radius:D,onMouseDown:gt,onMouseEnter:T,onMouseOut:H,type:"source"}),(ee==="target"||ee===!0)&&q.createElement(xv,{position:j,centerX:E,centerY:S,radius:D,onMouseDown:$t,onMouseEnter:T,onMouseOut:H,type:"target"})))};return t.displayName="EdgeWrapper",N.memo(t)};function _I(e){const t={default:Hr(e.default||Ia),straight:Hr(e.bezier||$g),step:Hr(e.step||qg),smoothstep:Hr(e.step||ol),simplebezier:Hr(e.simplebezier||Lg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Hr(e[s]||Ia),i),n);return{...t,...r}}function wv(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Z.Top:return{x:r+s/2,y:i};case Z.Right:return{x:r+s,y:i+o/2};case Z.Bottom:return{x:r+s/2,y:i+o};case Z.Left:return{x:r,y:i+o/2}}}function _v(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const bI=(e,t,n,r,i,s)=>{const o=wv(n,e,t),a=wv(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function NI({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=zs({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*h)>0}function bv(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[Ae])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const EI=[{level:0,isMaxLevel:!0,edges:[]}];function SI(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var c,d;const l=At(a.zIndex);let u=l?a.zIndex:0;if(n){const h=t.get(a.target),p=t.get(a.source),v=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),y=Math.max(((c=p==null?void 0:p[Ae])==null?void 0:c.z)||0,((d=h==null?void 0:h[Ae])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(v?y:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?EI:s}function kI(e,t,n){const r=ye(N.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&NI({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return SI(r,t,n)}const CI=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),jI=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Nv={[at.Arrow]:CI,[at.ArrowClosed]:jI};function RI(e){const t=Be();return N.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(Nv,e)?Nv[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Rn.error009(e)),null)},[e])}const TI=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=RI(t);return l?q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},q.createElement(l,{color:n,strokeWidth:o})):null},AI=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=vm(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},d2=({defaultColor:e,rfId:t})=>{const n=ye(N.useCallback(AI({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return q.createElement("defs",null,n.map(r=>q.createElement(TI,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};d2.displayName="MarkerDefinitions";var II=N.memo(d2);const PI=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),f2=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,children:w,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:_,width:E,height:S,connectionMode:k,nodeInternals:j,onError:I}=ye(PI,Ve),P=kI(t,j,n);return E?q.createElement(q.Fragment,null,P.map(({level:L,edges:B,isMaxLevel:z})=>q.createElement("svg",{key:L,style:{zIndex:L},width:E,height:S,className:"react-flow__edges react-flow__container"},z&&q.createElement(II,{defaultColor:e,rfId:r}),q.createElement("g",null,B.map(b=>{const[O,R,D]=bv(j.get(b.source)),[A,C,M]=bv(j.get(b.target));if(!D||!M)return null;let $=b.type||"default";i[$]||(I==null||I("011",Rn.error011($)),$="default");const F=i[$]||i.default,W=k===Ar.Strict?C.target:(C.target??[]).concat(C.source??[]),G=_v(R.source,b.sourceHandle),J=_v(W,b.targetHandle),ee=(G==null?void 0:G.position)||Z.Bottom,ne=(J==null?void 0:J.position)||Z.Top,fe=!!(b.focusable||g&&typeof b.focusable>"u"),oe=b.reconnectable||b.updatable,le=typeof h<"u"&&(oe||x&&typeof oe>"u");if(!G||!J)return I==null||I("008",Rn.error008(G,b)),null;const{sourceX:Re,sourceY:Ee,targetX:qe,targetY:Pe}=bI(O,G,ee,A,J,ne);return q.createElement(F,{key:b.id,id:b.id,className:Xe([b.className,s]),type:$,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Re,sourceY:Ee,targetX:qe,targetY:Pe,sourcePosition:ee,targetPosition:ne,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,rfId:r,ariaLabel:b.ariaLabel,isFocusable:fe,isReconnectable:le,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),w):null};f2.displayName="EdgeRenderer";var MI=N.memo(f2);const OI=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function LI({children:e}){const t=ye(OI);return q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function qI(e){const t=Bg(),n=N.useRef(!1);N.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const $I={[Z.Left]:Z.Right,[Z.Right]:Z.Left,[Z.Top]:Z.Bottom,[Z.Bottom]:Z.Top},h2=({nodeId:e,handleType:t,style:n,type:r=Hn.Bezier,CustomComponent:i,connectionStatus:s})=>{var S,k,j;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:c}=ye(N.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),Ve),d=(S=o==null?void 0:o[Ae])==null?void 0:S.handleBounds;let h=d==null?void 0:d[t];if(c===Ar.Loose&&(h=h||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!h)return null;const p=a?h.find(I=>I.id===a):h[0],v=p?p.x+p.width/2:(o.width??0)/2,y=p?p.y+p.height/2:o.height??0,w=(((k=o.positionAbsolute)==null?void 0:k.x)??0)+v,m=(((j=o.positionAbsolute)==null?void 0:j.y)??0)+y,g=p==null?void 0:p.position,x=g?$I[g]:null;if(!g||!x)return null;if(i)return q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:w,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:x,connectionStatus:s});let _="";const E={sourceX:w,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:x};return r===Hn.Bezier?[_]=LS(E):r===Hn.Step?[_]=ym({...E,borderRadius:0}):r===Hn.SmoothStep?[_]=ym(E):r===Hn.SimpleBezier?[_]=OS(E):_=`M${w},${m} ${l},${u}`,q.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};h2.displayName="ConnectionLine";const FI=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function DI({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=ye(FI,Ve);return!(i&&s&&a&&o)?null:q.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},q.createElement("g",{className:Xe(["react-flow__connection",u])},q.createElement(h2,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Ev(e,t){return N.useRef(null),Be(),N.useMemo(()=>t(e),[e])}const p2=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:w,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:S,selectionMode:k,multiSelectionKeyCode:j,panActivationKeyCode:I,zoomActivationKeyCode:P,deleteKeyCode:L,onlyRenderVisibleElements:B,elementsSelectable:z,selectNodesOnDrag:b,defaultViewport:O,translateExtent:R,minZoom:D,maxZoom:A,preventScrolling:C,defaultMarkerColor:M,zoomOnScroll:$,zoomOnPinch:F,panOnScroll:W,panOnScrollSpeed:G,panOnScrollMode:J,zoomOnDoubleClick:ee,panOnDrag:ne,onPaneClick:fe,onPaneMouseEnter:oe,onPaneMouseMove:le,onPaneMouseLeave:Re,onPaneScroll:Ee,onPaneContextMenu:qe,onEdgeContextMenu:Pe,onEdgeMouseEnter:te,onEdgeMouseMove:de,onEdgeMouseLeave:X,onReconnect:Q,onReconnectStart:ve,onReconnectEnd:ot,reconnectRadius:St,noDragClassName:$e,noWheelClassName:Se,noPanClassName:Qe,elevateEdgesOnSelect:gt,disableKeyboardA11y:$t,nodeOrigin:T,nodeExtent:H,rfId:V})=>{const K=Ev(e,pI),ue=Ev(t,_I);return qI(s),q.createElement(fI,{onPaneClick:fe,onPaneMouseEnter:oe,onPaneMouseMove:le,onPaneMouseLeave:Re,onPaneContextMenu:qe,onPaneScroll:Ee,deleteKeyCode:L,selectionKeyCode:E,selectionOnDrag:S,selectionMode:k,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:j,panActivationKeyCode:I,zoomActivationKeyCode:P,elementsSelectable:z,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:$,zoomOnPinch:F,zoomOnDoubleClick:ee,panOnScroll:W,panOnScrollSpeed:G,panOnScrollMode:J,panOnDrag:ne,defaultViewport:O,translateExtent:R,minZoom:D,maxZoom:A,onSelectionContextMenu:v,preventScrolling:C,noDragClassName:$e,noWheelClassName:Se,noPanClassName:Qe,disableKeyboardA11y:$t},q.createElement(LI,null,q.createElement(MI,{edgeTypes:ue,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:Pe,onEdgeMouseEnter:te,onEdgeMouseMove:de,onEdgeMouseLeave:X,onReconnect:Q,onReconnectStart:ve,onReconnectEnd:ot,reconnectRadius:St,defaultMarkerColor:M,noPanClassName:Qe,elevateEdgesOnSelect:!!gt,disableKeyboardA11y:$t,rfId:V},q.createElement(DI,{style:g,type:m,component:x,containerStyle:_})),q.createElement("div",{className:"react-flow__edgelabel-renderer"}),q.createElement(yI,{nodeTypes:K,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:B,noPanClassName:Qe,noDragClassName:$e,disableKeyboardA11y:$t,nodeOrigin:T,nodeExtent:H,rfId:V})))};p2.displayName="GraphView";var zI=N.memo(p2);const bm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],On={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:bm,nodeExtent:bm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ar.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:g4,isValidConnection:void 0},BI=()=>AR((e,t)=>({...On,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:fu(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?fu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((y,w)=>{const m=i.get(w.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Ae]:{...m[Ae],handleBounds:void 0}});else if(m){const g=Mg(w.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||w.forceUpdate))&&(i.set(m.id,{...m,[Ae]:{...m[Ae],handleBounds:{source:yv(".source",w.nodeElement,h,u),target:yv(".target",w.nodeElement,h,u)}},...g}),y.push({id:m.id,type:"dimensions",dimensions:g}))}return y},[]);e2(i,u);const v=o||s&&!o&&t2(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:v}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=r2(n,a()),c=fu(u,i,o,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Dn(l,!0)):(o=ni(s(),n),a=ni(i,[])),Ro({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Dn(l,!0)):(o=ni(i,n),a=ni(s(),[])),Ro({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(c=>(c.selected=!1,Dn(c.id,!1))),u=a.map(c=>Dn(c.id,!1));Ro({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>Dn(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Dn(a.id,!1));Ro({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Og(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Nn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(u,c,l);return o.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:On.connectionNodeId,connectionHandleId:On.connectionHandleId,connectionHandleType:On.connectionHandleType,connectionStatus:On.connectionStatus,connectionStartHandle:On.connectionStartHandle,connectionEndHandle:On.connectionEndHandle}),reset:()=>e({...On})}),Object.is),m2=({children:e})=>{const t=N.useRef(null);return t.current||(t.current=BI()),q.createElement(u4,{value:t.current},e)};m2.displayName="ReactFlowProvider";const g2=({children:e})=>N.useContext(sl)?q.createElement(q.Fragment,null,e):q.createElement(m2,null,e);g2.displayName="ReactFlowWrapper";const HI={input:WS,default:wm,output:YS,group:zg},UI={default:Ia,straight:$g,step:qg,smoothstep:ol,simplebezier:Lg},VI=[0,0],GI=[15,15],WI={x:0,y:0,zoom:1},KI={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ul=N.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=HI,edgeTypes:o=UI,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:k,onNodeDrag:j,onNodeDragStop:I,onNodesDelete:P,onEdgesDelete:L,onSelectionChange:B,onSelectionDragStart:z,onSelectionDrag:b,onSelectionDragStop:O,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:A,connectionMode:C=Ar.Strict,connectionLineType:M=Hn.Bezier,connectionLineStyle:$,connectionLineComponent:F,connectionLineContainerStyle:W,deleteKeyCode:G="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ee=!1,selectionMode:ne=Bs.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:oe=Aa()?"Meta":"Control",zoomActivationKeyCode:le=Aa()?"Meta":"Control",snapToGrid:Re=!1,snapGrid:Ee=GI,onlyRenderVisibleElements:qe=!1,selectNodesOnDrag:Pe=!0,nodesDraggable:te,nodesConnectable:de,nodesFocusable:X,nodeOrigin:Q=VI,edgesFocusable:ve,edgesUpdatable:ot,elementsSelectable:St,defaultViewport:$e=WI,minZoom:Se=.5,maxZoom:Qe=2,translateExtent:gt=bm,preventScrolling:$t=!0,nodeExtent:T,defaultMarkerColor:H="#b1b1b7",zoomOnScroll:V=!0,zoomOnPinch:K=!0,panOnScroll:ue=!1,panOnScrollSpeed:Fe=.5,panOnScrollMode:_e=xr.Free,zoomOnDoubleClick:Ge=!0,panOnDrag:dn=!0,onPaneClick:fn,onPaneMouseEnter:Zt,onPaneMouseMove:Pi,onPaneMouseLeave:Al,onPaneScroll:Mi,onPaneContextMenu:Il,children:N0,onEdgeContextMenu:dr,onEdgeDoubleClick:tC,onEdgeMouseEnter:nC,onEdgeMouseMove:rC,onEdgeMouseLeave:iC,onEdgeUpdate:sC,onEdgeUpdateStart:oC,onEdgeUpdateEnd:aC,onReconnect:lC,onReconnectStart:uC,onReconnectEnd:cC,reconnectRadius:dC=10,edgeUpdaterRadius:fC=10,onNodesChange:hC,onEdgesChange:pC,noDragClassName:mC="nodrag",noWheelClassName:gC="nowheel",noPanClassName:E0="nopan",fitView:yC=!1,fitViewOptions:vC,connectOnClick:xC=!0,attributionPosition:wC,proOptions:_C,defaultEdgeOptions:bC,elevateNodesOnSelect:NC=!0,elevateEdgesOnSelect:EC=!1,disableKeyboardA11y:S0=!1,autoPanOnConnect:SC=!0,autoPanOnNodeDrag:kC=!0,connectionRadius:CC=20,isValidConnection:jC,onError:RC,style:TC,id:k0,nodeDragThreshold:AC,...IC},PC)=>{const Pl=k0||"1";return q.createElement("div",{...IC,style:{...TC,...KI},ref:PC,className:Xe(["react-flow",i]),"data-testid":"rf__wrapper",id:k0},q.createElement(g2,null,q.createElement(zI,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:o,connectionLineType:M,connectionLineStyle:$,connectionLineComponent:F,connectionLineContainerStyle:W,selectionKeyCode:J,selectionOnDrag:ee,selectionMode:ne,deleteKeyCode:G,multiSelectionKeyCode:oe,panActivationKeyCode:fe,zoomActivationKeyCode:le,onlyRenderVisibleElements:qe,selectNodesOnDrag:Pe,defaultViewport:$e,translateExtent:gt,minZoom:Se,maxZoom:Qe,preventScrolling:$t,zoomOnScroll:V,zoomOnPinch:K,zoomOnDoubleClick:Ge,panOnScroll:ue,panOnScrollSpeed:Fe,panOnScrollMode:_e,panOnDrag:dn,onPaneClick:fn,onPaneMouseEnter:Zt,onPaneMouseMove:Pi,onPaneMouseLeave:Al,onPaneScroll:Mi,onPaneContextMenu:Il,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:A,onEdgeContextMenu:dr,onEdgeDoubleClick:tC,onEdgeMouseEnter:nC,onEdgeMouseMove:rC,onEdgeMouseLeave:iC,onReconnect:lC??sC,onReconnectStart:uC??oC,onReconnectEnd:cC??aC,reconnectRadius:dC??fC,defaultMarkerColor:H,noDragClassName:mC,noWheelClassName:gC,noPanClassName:E0,elevateEdgesOnSelect:EC,rfId:Pl,disableKeyboardA11y:S0,nodeOrigin:Q,nodeExtent:T}),q.createElement($4,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:te,nodesConnectable:de,nodesFocusable:X,edgesFocusable:ve,edgesUpdatable:ot,elementsSelectable:St,elevateNodesOnSelect:NC,minZoom:Se,maxZoom:Qe,nodeExtent:T,onNodesChange:hC,onEdgesChange:pC,snapToGrid:Re,snapGrid:Ee,connectionMode:C,translateExtent:gt,connectOnClick:xC,defaultEdgeOptions:bC,fitView:yC,fitViewOptions:vC,onNodesDelete:P,onEdgesDelete:L,onNodeDragStart:k,onNodeDrag:j,onNodeDragStop:I,onSelectionDrag:b,onSelectionDragStart:z,onSelectionDragStop:O,noPanClassName:E0,nodeOrigin:Q,rfId:Pl,autoPanOnConnect:SC,autoPanOnNodeDrag:kC,onError:RC,connectionRadius:CC,isValidConnection:jC,nodeDragThreshold:AC}),q.createElement(L4,{onSelectionChange:B}),N0,q.createElement(d4,{proOptions:_C,position:wC}),q.createElement(H4,{rfId:Pl,disableKeyboardA11y:S0})))});ul.displayName="ReactFlow";function y2(e){return t=>{const[n,r]=N.useState(t),i=N.useCallback(s=>r(o=>e(s,o)),[]);return[n,r,i]}}const Ug=y2(r2),Vg=y2(rI),v2=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,onClick:h,selected:p})=>{const{background:v,backgroundColor:y}=s||{},w=o||v||y;return q.createElement("rect",{className:Xe(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:w,stroke:a,strokeWidth:l,shapeRendering:d,onClick:h?m=>h(m,e):void 0})};v2.displayName="MiniMapNode";var YI=N.memo(v2);const XI=e=>e.nodeOrigin,QI=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),gu=e=>e instanceof Function?e:()=>e;function ZI({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=YI,onClick:o}){const a=ye(QI,Ve),l=ye(XI),u=gu(t),c=gu(e),d=gu(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return q.createElement(q.Fragment,null,a.map(p=>{const{x:v,y}=Er(p,l).positionAbsolute;return q.createElement(s,{key:p.id,x:v,y,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:h,onClick:o,id:p.id})}))}var JI=N.memo(ZI);const eP=200,tP=150,nP=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?p4(ll(t,e.nodeOrigin),n):n,rfId:e.rfId}},rP="react-flow__minimap-desc";function x2({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:v=!1,zoomable:y=!1,ariaLabel:w="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:x=5}){const _=Be(),E=N.useRef(null),{boundingRect:S,viewBB:k,rfId:j}=ye(nP,Ve),I=(e==null?void 0:e.width)??eP,P=(e==null?void 0:e.height)??tP,L=S.width/I,B=S.height/P,z=Math.max(L,B),b=z*I,O=z*P,R=x*z,D=S.x-(b-S.width)/2-R,A=S.y-(O-S.height)/2-R,C=b+R*2,M=O+R*2,$=`${rP}-${j}`,F=N.useRef(0);F.current=z,N.useEffect(()=>{if(E.current){const J=Rt(E.current),ee=oe=>{const{transform:le,d3Selection:Re,d3Zoom:Ee}=_.getState();if(oe.sourceEvent.type!=="wheel"||!Re||!Ee)return;const qe=-oe.sourceEvent.deltaY*(oe.sourceEvent.deltaMode===1?.05:oe.sourceEvent.deltaMode?1:.002)*g,Pe=le[2]*Math.pow(2,qe);Ee.scaleTo(Re,Pe)},ne=oe=>{const{transform:le,d3Selection:Re,d3Zoom:Ee,translateExtent:qe,width:Pe,height:te}=_.getState();if(oe.sourceEvent.type!=="mousemove"||!Re||!Ee)return;const de=F.current*Math.max(1,le[2])*(m?-1:1),X={x:le[0]-oe.sourceEvent.movementX*de,y:le[1]-oe.sourceEvent.movementY*de},Q=[[0,0],[Pe,te]],ve=Nn.translate(X.x,X.y).scale(le[2]),ot=Ee.constrain()(ve,Q,qe);Ee.transform(Re,ot)},fe=SS().on("zoom",v?ne:null).on("zoom.wheel",y?ee:null);return J.call(fe),()=>{J.on("zoom",null)}}},[v,y,m,g]);const W=h?J=>{const ee=Bt(J);h(J,{x:ee[0],y:ee[1]})}:void 0,G=p?(J,ee)=>{const ne=_.getState().nodeInternals.get(ee);p(J,ne)}:void 0;return q.createElement(Pg,{position:d,style:e,className:Xe(["react-flow__minimap",t]),"data-testid":"rf__minimap"},q.createElement("svg",{width:I,height:P,viewBox:`${D} ${A} ${C} ${M}`,role:"img","aria-labelledby":$,ref:E,onClick:W},w&&q.createElement("title",{id:$},w),q.createElement(JI,{onClick:G,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),q.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-R},${A-R}h${C+R*2}v${M+R*2}h${-C-R*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}x2.displayName="MiniMap";var Gg=N.memo(x2);function iP(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function sP(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function oP(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function aP(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function lP(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ns=({children:e,className:t,...n})=>q.createElement("button",{type:"button",className:Xe(["react-flow__controls-button",t]),...n},e);ns.displayName="ControlButton";const uP=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),w2=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const h=Be(),[p,v]=N.useState(!1),{isInteractive:y,minZoomReached:w,maxZoomReached:m}=ye(uP,Ve),{zoomIn:g,zoomOut:x,fitView:_}=Bg();if(N.useEffect(()=>{v(!0)},[]),!p)return null;const E=()=>{g(),s==null||s()},S=()=>{x(),o==null||o()},k=()=>{_(i),a==null||a()},j=()=>{h.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return q.createElement(Pg,{className:Xe(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&q.createElement(q.Fragment,null,q.createElement(ns,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},q.createElement(iP,null)),q.createElement(ns,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},q.createElement(sP,null))),n&&q.createElement(ns,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view"},q.createElement(oP,null)),r&&q.createElement(ns,{className:"react-flow__controls-interactive",onClick:j,title:"toggle interactivity","aria-label":"toggle interactivity"},y?q.createElement(lP,null):q.createElement(aP,null)),c)};w2.displayName="Controls";var Wg=N.memo(w2),Pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Pt||(Pt={}));function cP({color:e,dimensions:t,lineWidth:n}){return q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function dP({color:e,radius:t}){return q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const fP={[Pt.Dots]:"#91919a",[Pt.Lines]:"#eee",[Pt.Cross]:"#e2e2e2"},hP={[Pt.Dots]:1,[Pt.Lines]:1,[Pt.Cross]:6},pP=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function _2({id:e,variant:t=Pt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=N.useRef(null),{transform:c,patternId:d}=ye(pP,Ve),h=o||fP[t],p=r||hP[t],v=t===Pt.Dots,y=t===Pt.Cross,w=Array.isArray(n)?n:[n,n],m=[w[0]*c[2]||1,w[1]*c[2]||1],g=p*c[2],x=y?[g,g]:m,_=v?[g/s,g/s]:[x[0]/s,x[1]/s];return q.createElement("svg",{className:Xe(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},q.createElement("pattern",{id:d+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},v?q.createElement(dP,{color:h,radius:g/s}):q.createElement(cP,{dimensions:x,color:h,lineWidth:i})),q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}_2.displayName="Background";var Kg=N.memo(_2);function Yg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yu,Sv;function mP(){if(Sv)return yu;Sv=1;function e(){this.__data__=[],this.size=0}return yu=e,yu}var vu,kv;function ki(){if(kv)return vu;kv=1;function e(t,n){return t===n||t!==t&&n!==n}return vu=e,vu}var xu,Cv;function cl(){if(Cv)return xu;Cv=1;var e=ki();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return xu=t,xu}var wu,jv;function gP(){if(jv)return wu;jv=1;var e=cl(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return wu=r,wu}var _u,Rv;function yP(){if(Rv)return _u;Rv=1;var e=cl();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return _u=t,_u}var bu,Tv;function vP(){if(Tv)return bu;Tv=1;var e=cl();function t(n){return e(this.__data__,n)>-1}return bu=t,bu}var Nu,Av;function xP(){if(Av)return Nu;Av=1;var e=cl();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Nu=t,Nu}var Eu,Iv;function dl(){if(Iv)return Eu;Iv=1;var e=mP(),t=gP(),n=yP(),r=vP(),i=xP();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Eu=s,Eu}var Su,Pv;function wP(){if(Pv)return Su;Pv=1;var e=dl();function t(){this.__data__=new e,this.size=0}return Su=t,Su}var ku,Mv;function _P(){if(Mv)return ku;Mv=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return ku=e,ku}var Cu,Ov;function bP(){if(Ov)return Cu;Ov=1;function e(t){return this.__data__.get(t)}return Cu=e,Cu}var ju,Lv;function NP(){if(Lv)return ju;Lv=1;function e(t){return this.__data__.has(t)}return ju=e,ju}var Ru,qv;function b2(){if(qv)return Ru;qv=1;var e=typeof ro=="object"&&ro&&ro.Object===Object&&ro;return Ru=e,Ru}var Tu,$v;function Xt(){if($v)return Tu;$v=1;var e=b2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Tu=n,Tu}var Au,Fv;function Ci(){if(Fv)return Au;Fv=1;var e=Xt(),t=e.Symbol;return Au=t,Au}var Iu,Dv;function EP(){if(Dv)return Iu;Dv=1;var e=Ci(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return Iu=s,Iu}var Pu,zv;function SP(){if(zv)return Pu;zv=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Pu=n,Pu}var Mu,Bv;function Mr(){if(Bv)return Mu;Bv=1;var e=Ci(),t=EP(),n=SP(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Mu=o,Mu}var Ou,Hv;function Lt(){if(Hv)return Ou;Hv=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ou=e,Ou}var Lu,Uv;function Zs(){if(Uv)return Lu;Uv=1;var e=Mr(),t=Lt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return Lu=o,Lu}var qu,Vv;function kP(){if(Vv)return qu;Vv=1;var e=Xt(),t=e["__core-js_shared__"];return qu=t,qu}var $u,Gv;function CP(){if(Gv)return $u;Gv=1;var e=kP(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return $u=n,$u}var Fu,Wv;function N2(){if(Wv)return Fu;Wv=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Fu=n,Fu}var Du,Kv;function jP(){if(Kv)return Du;Kv=1;var e=Zs(),t=CP(),n=Lt(),r=N2(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||t(h))return!1;var p=e(h)?c:s;return p.test(r(h))}return Du=d,Du}var zu,Yv;function RP(){if(Yv)return zu;Yv=1;function e(t,n){return t==null?void 0:t[n]}return zu=e,zu}var Bu,Xv;function Or(){if(Xv)return Bu;Xv=1;var e=jP(),t=RP();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Bu=n,Bu}var Hu,Qv;function Xg(){if(Qv)return Hu;Qv=1;var e=Or(),t=Xt(),n=e(t,"Map");return Hu=n,Hu}var Uu,Zv;function fl(){if(Zv)return Uu;Zv=1;var e=Or(),t=e(Object,"create");return Uu=t,Uu}var Vu,Jv;function TP(){if(Jv)return Vu;Jv=1;var e=fl();function t(){this.__data__=e?e(null):{},this.size=0}return Vu=t,Vu}var Gu,ex;function AP(){if(ex)return Gu;ex=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Gu=e,Gu}var Wu,tx;function IP(){if(tx)return Wu;tx=1;var e=fl(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return Wu=i,Wu}var Ku,nx;function PP(){if(nx)return Ku;nx=1;var e=fl(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return Ku=r,Ku}var Yu,rx;function MP(){if(rx)return Yu;rx=1;var e=fl(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Yu=n,Yu}var Xu,ix;function OP(){if(ix)return Xu;ix=1;var e=TP(),t=AP(),n=IP(),r=PP(),i=MP();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Xu=s,Xu}var Qu,sx;function LP(){if(sx)return Qu;sx=1;var e=OP(),t=dl(),n=Xg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Qu=r,Qu}var Zu,ox;function qP(){if(ox)return Zu;ox=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Zu=e,Zu}var Ju,ax;function hl(){if(ax)return Ju;ax=1;var e=qP();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ju=t,Ju}var ec,lx;function $P(){if(lx)return ec;lx=1;var e=hl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ec=t,ec}var tc,ux;function FP(){if(ux)return tc;ux=1;var e=hl();function t(n){return e(this,n).get(n)}return tc=t,tc}var nc,cx;function DP(){if(cx)return nc;cx=1;var e=hl();function t(n){return e(this,n).has(n)}return nc=t,nc}var rc,dx;function zP(){if(dx)return rc;dx=1;var e=hl();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return rc=t,rc}var ic,fx;function Qg(){if(fx)return ic;fx=1;var e=LP(),t=$P(),n=FP(),r=DP(),i=zP();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,ic=s,ic}var sc,hx;function BP(){if(hx)return sc;hx=1;var e=dl(),t=Xg(),n=Qg(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return sc=i,sc}var oc,px;function pl(){if(px)return oc;px=1;var e=dl(),t=wP(),n=_P(),r=bP(),i=NP(),s=BP();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,oc=o,oc}var ac,mx;function Zg(){if(mx)return ac;mx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return ac=e,ac}var lc,gx;function E2(){if(gx)return lc;gx=1;var e=Or(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return lc=t,lc}var uc,yx;function ml(){if(yx)return uc;yx=1;var e=E2();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return uc=t,uc}var cc,vx;function gl(){if(vx)return cc;vx=1;var e=ml(),t=ki(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return cc=i,cc}var dc,xx;function Js(){if(xx)return dc;xx=1;var e=gl(),t=ml();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=o?o(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),a?t(s,c,d):e(s,c,d)}return s}return dc=n,dc}var fc,wx;function HP(){if(wx)return fc;wx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return fc=e,fc}var hc,_x;function cn(){if(_x)return hc;_x=1;function e(t){return t!=null&&typeof t=="object"}return hc=e,hc}var pc,bx;function UP(){if(bx)return pc;bx=1;var e=Mr(),t=cn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return pc=r,pc}var mc,Nx;function eo(){if(Nx)return mc;Nx=1;var e=UP(),t=cn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return mc=s,mc}var gc,Ex;function Le(){if(Ex)return gc;Ex=1;var e=Array.isArray;return gc=e,gc}var rs={exports:{}},yc,Sx;function VP(){if(Sx)return yc;Sx=1;function e(){return!1}return yc=e,yc}rs.exports;var kx;function ji(){return kx||(kx=1,function(e,t){var n=Xt(),r=VP(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(rs,rs.exports)),rs.exports}var vc,Cx;function yl(){if(Cx)return vc;Cx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return vc=n,vc}var xc,jx;function Jg(){if(jx)return xc;jx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return xc=t,xc}var wc,Rx;function GP(){if(Rx)return wc;Rx=1;var e=Mr(),t=Jg(),n=cn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",L={};L[g]=L[x]=L[_]=L[E]=L[S]=L[k]=L[j]=L[I]=L[P]=!0,L[r]=L[i]=L[w]=L[s]=L[m]=L[o]=L[a]=L[l]=L[u]=L[c]=L[d]=L[h]=L[p]=L[v]=L[y]=!1;function B(z){return n(z)&&t(z.length)&&!!L[e(z)]}return wc=B,wc}var _c,Tx;function vl(){if(Tx)return _c;Tx=1;function e(t){return function(n){return t(n)}}return _c=e,_c}var is={exports:{}};is.exports;var Ax;function e0(){return Ax||(Ax=1,function(e,t){var n=b2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(is,is.exports)),is.exports}var bc,Ix;function to(){if(Ix)return bc;Ix=1;var e=GP(),t=vl(),n=e0(),r=n&&n.isTypedArray,i=r?t(r):e;return bc=i,bc}var Nc,Px;function S2(){if(Px)return Nc;Px=1;var e=HP(),t=eo(),n=Le(),r=ji(),i=yl(),s=to(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var d=n(u),h=!d&&t(u),p=!d&&!h&&r(u),v=!d&&!h&&!p&&s(u),y=d||h||p||v,w=y?e(u.length,String):[],m=w.length;for(var g in u)(c||a.call(u,g))&&!(y&&(g=="length"||p&&(g=="offset"||g=="parent")||v&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&w.push(g);return w}return Nc=l,Nc}var Ec,Mx;function xl(){if(Mx)return Ec;Mx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Ec=t,Ec}var Sc,Ox;function k2(){if(Ox)return Sc;Ox=1;function e(t,n){return function(r){return t(n(r))}}return Sc=e,Sc}var kc,Lx;function WP(){if(Lx)return kc;Lx=1;var e=k2(),t=e(Object.keys,Object);return kc=t,kc}var Cc,qx;function t0(){if(qx)return Cc;qx=1;var e=xl(),t=WP(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Cc=i,Cc}var jc,$x;function In(){if($x)return jc;$x=1;var e=Zs(),t=Jg();function n(r){return r!=null&&t(r.length)&&!e(r)}return jc=n,jc}var Rc,Fx;function cr(){if(Fx)return Rc;Fx=1;var e=S2(),t=t0(),n=In();function r(i){return n(i)?e(i):t(i)}return Rc=r,Rc}var Tc,Dx;function KP(){if(Dx)return Tc;Dx=1;var e=Js(),t=cr();function n(r,i){return r&&e(i,t(i),r)}return Tc=n,Tc}var Ac,zx;function YP(){if(zx)return Ac;zx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Ac=e,Ac}var Ic,Bx;function XP(){if(Bx)return Ic;Bx=1;var e=Lt(),t=xl(),n=YP(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return Ic=s,Ic}var Pc,Hx;function Lr(){if(Hx)return Pc;Hx=1;var e=S2(),t=XP(),n=In();function r(i){return n(i)?e(i,!0):t(i)}return Pc=r,Pc}var Mc,Ux;function QP(){if(Ux)return Mc;Ux=1;var e=Js(),t=Lr();function n(r,i){return r&&e(i,t(i),r)}return Mc=n,Mc}var ss={exports:{}};ss.exports;var Vx;function C2(){return Vx||(Vx=1,function(e,t){var n=Xt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}e.exports=l}(ss,ss.exports)),ss.exports}var Oc,Gx;function j2(){if(Gx)return Oc;Gx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Oc=e,Oc}var Lc,Wx;function R2(){if(Wx)return Lc;Wx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return Lc=e,Lc}var qc,Kx;function T2(){if(Kx)return qc;Kx=1;function e(){return[]}return qc=e,qc}var $c,Yx;function n0(){if(Yx)return $c;Yx=1;var e=R2(),t=T2(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return $c=s,$c}var Fc,Xx;function ZP(){if(Xx)return Fc;Xx=1;var e=Js(),t=n0();function n(r,i){return e(r,t(r),i)}return Fc=n,Fc}var Dc,Qx;function r0(){if(Qx)return Dc;Qx=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return Dc=e,Dc}var zc,Zx;function wl(){if(Zx)return zc;Zx=1;var e=k2(),t=e(Object.getPrototypeOf,Object);return zc=t,zc}var Bc,Jx;function A2(){if(Jx)return Bc;Jx=1;var e=r0(),t=wl(),n=n0(),r=T2(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return Bc=s,Bc}var Hc,e1;function JP(){if(e1)return Hc;e1=1;var e=Js(),t=A2();function n(r,i){return e(r,t(r),i)}return Hc=n,Hc}var Uc,t1;function I2(){if(t1)return Uc;t1=1;var e=r0(),t=Le();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return Uc=n,Uc}var Vc,n1;function P2(){if(n1)return Vc;n1=1;var e=I2(),t=n0(),n=cr();function r(i){return e(i,n,t)}return Vc=r,Vc}var Gc,r1;function eM(){if(r1)return Gc;r1=1;var e=I2(),t=A2(),n=Lr();function r(i){return e(i,n,t)}return Gc=r,Gc}var Wc,i1;function tM(){if(i1)return Wc;i1=1;var e=Or(),t=Xt(),n=e(t,"DataView");return Wc=n,Wc}var Kc,s1;function nM(){if(s1)return Kc;s1=1;var e=Or(),t=Xt(),n=e(t,"Promise");return Kc=n,Kc}var Yc,o1;function M2(){if(o1)return Yc;o1=1;var e=Or(),t=Xt(),n=e(t,"Set");return Yc=n,Yc}var Xc,a1;function rM(){if(a1)return Xc;a1=1;var e=Or(),t=Xt(),n=e(t,"WeakMap");return Xc=n,Xc}var Qc,l1;function Ri(){if(l1)return Qc;l1=1;var e=tM(),t=Xg(),n=nM(),r=M2(),i=rM(),s=Mr(),o=N2(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",h="[object DataView]",p=o(e),v=o(t),y=o(n),w=o(r),m=o(i),g=s;return(e&&g(new e(new ArrayBuffer(1)))!=h||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=d)&&(g=function(x){var _=s(x),E=_==l?x.constructor:void 0,S=E?o(E):"";if(S)switch(S){case p:return h;case v:return a;case y:return u;case w:return c;case m:return d}return _}),Qc=g,Qc}var Zc,u1;function iM(){if(u1)return Zc;u1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Zc=n,Zc}var Jc,c1;function O2(){if(c1)return Jc;c1=1;var e=Xt(),t=e.Uint8Array;return Jc=t,Jc}var ed,d1;function i0(){if(d1)return ed;d1=1;var e=O2();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ed=t,ed}var td,f1;function sM(){if(f1)return td;f1=1;var e=i0();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return td=t,td}var nd,h1;function oM(){if(h1)return nd;h1=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return nd=t,nd}var rd,p1;function aM(){if(p1)return rd;p1=1;var e=Ci(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return rd=r,rd}var id,m1;function L2(){if(m1)return id;m1=1;var e=i0();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return id=t,id}var sd,g1;function lM(){if(g1)return sd;g1=1;var e=i0(),t=sM(),n=oM(),r=aM(),i=L2(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",x="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]";function j(I,P,L){var B=I.constructor;switch(P){case p:return e(I);case s:case o:return new B(+I);case v:return t(I,L);case y:case w:case m:case g:case x:case _:case E:case S:case k:return i(I,L);case a:return new B;case l:case d:return new B(I);case u:return n(I);case c:return new B;case h:return r(I)}}return sd=j,sd}var od,y1;function q2(){if(y1)return od;y1=1;var e=Lt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return od=n,od}var ad,v1;function $2(){if(v1)return ad;v1=1;var e=q2(),t=wl(),n=xl();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ad=r,ad}var ld,x1;function uM(){if(x1)return ld;x1=1;var e=Ri(),t=cn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return ld=r,ld}var ud,w1;function cM(){if(w1)return ud;w1=1;var e=uM(),t=vl(),n=e0(),r=n&&n.isMap,i=r?t(r):e;return ud=i,ud}var cd,_1;function dM(){if(_1)return cd;_1=1;var e=Ri(),t=cn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return cd=r,cd}var dd,b1;function fM(){if(b1)return dd;b1=1;var e=dM(),t=vl(),n=e0(),r=n&&n.isSet,i=r?t(r):e;return dd=i,dd}var fd,N1;function F2(){if(N1)return fd;N1=1;var e=pl(),t=Zg(),n=gl(),r=KP(),i=QP(),s=C2(),o=j2(),a=ZP(),l=JP(),u=P2(),c=eM(),d=Ri(),h=iM(),p=lM(),v=$2(),y=Le(),w=ji(),m=cM(),g=Lt(),x=fM(),_=cr(),E=Lr(),S=1,k=2,j=4,I="[object Arguments]",P="[object Array]",L="[object Boolean]",B="[object Date]",z="[object Error]",b="[object Function]",O="[object GeneratorFunction]",R="[object Map]",D="[object Number]",A="[object Object]",C="[object RegExp]",M="[object Set]",$="[object String]",F="[object Symbol]",W="[object WeakMap]",G="[object ArrayBuffer]",J="[object DataView]",ee="[object Float32Array]",ne="[object Float64Array]",fe="[object Int8Array]",oe="[object Int16Array]",le="[object Int32Array]",Re="[object Uint8Array]",Ee="[object Uint8ClampedArray]",qe="[object Uint16Array]",Pe="[object Uint32Array]",te={};te[I]=te[P]=te[G]=te[J]=te[L]=te[B]=te[ee]=te[ne]=te[fe]=te[oe]=te[le]=te[R]=te[D]=te[A]=te[C]=te[M]=te[$]=te[F]=te[Re]=te[Ee]=te[qe]=te[Pe]=!0,te[z]=te[b]=te[W]=!1;function de(X,Q,ve,ot,St,$e){var Se,Qe=Q&S,gt=Q&k,$t=Q&j;if(ve&&(Se=St?ve(X,ot,St,$e):ve(X)),Se!==void 0)return Se;if(!g(X))return X;var T=y(X);if(T){if(Se=h(X),!Qe)return o(X,Se)}else{var H=d(X),V=H==b||H==O;if(w(X))return s(X,Qe);if(H==A||H==I||V&&!St){if(Se=gt||V?{}:v(X),!Qe)return gt?l(X,i(Se,X)):a(X,r(Se,X))}else{if(!te[H])return St?X:{};Se=p(X,H,Qe)}}$e||($e=new e);var K=$e.get(X);if(K)return K;$e.set(X,Se),x(X)?X.forEach(function(_e){Se.add(de(_e,Q,ve,_e,X,$e))}):m(X)&&X.forEach(function(_e,Ge){Se.set(Ge,de(_e,Q,ve,Ge,X,$e))});var ue=$t?gt?c:u:gt?E:_,Fe=T?void 0:ue(X);return t(Fe||X,function(_e,Ge){Fe&&(Ge=_e,_e=X[Ge]),n(Se,Ge,de(_e,Q,ve,Ge,X,$e))}),Se}return fd=de,fd}var hd,E1;function hM(){if(E1)return hd;E1=1;var e=F2(),t=4;function n(r){return e(r,t)}return hd=n,hd}var pd,S1;function s0(){if(S1)return pd;S1=1;function e(t){return function(){return t}}return pd=e,pd}var md,k1;function pM(){if(k1)return md;k1=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return md=e,md}var gd,C1;function o0(){if(C1)return gd;C1=1;var e=pM(),t=e();return gd=t,gd}var yd,j1;function a0(){if(j1)return yd;j1=1;var e=o0(),t=cr();function n(r,i){return r&&e(r,i,t)}return yd=n,yd}var vd,R1;function mM(){if(R1)return vd;R1=1;var e=In();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return vd=t,vd}var xd,T1;function _l(){if(T1)return xd;T1=1;var e=a0(),t=mM(),n=t(e);return xd=n,xd}var wd,A1;function qr(){if(A1)return wd;A1=1;function e(t){return t}return wd=e,wd}var _d,I1;function D2(){if(I1)return _d;I1=1;var e=qr();function t(n){return typeof n=="function"?n:e}return _d=t,_d}var bd,P1;function z2(){if(P1)return bd;P1=1;var e=Zg(),t=_l(),n=D2(),r=Le();function i(s,o){var a=r(s)?e:t;return a(s,n(o))}return bd=i,bd}var Nd,M1;function B2(){return M1||(M1=1,Nd=z2()),Nd}var Ed,O1;function gM(){if(O1)return Ed;O1=1;var e=_l();function t(n,r){var i=[];return e(n,function(s,o,a){r(s,o,a)&&i.push(s)}),i}return Ed=t,Ed}var Sd,L1;function yM(){if(L1)return Sd;L1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Sd=t,Sd}var kd,q1;function vM(){if(q1)return kd;q1=1;function e(t){return this.__data__.has(t)}return kd=e,kd}var Cd,$1;function H2(){if($1)return Cd;$1=1;var e=Qg(),t=yM(),n=vM();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Cd=r,Cd}var jd,F1;function xM(){if(F1)return jd;F1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return jd=e,jd}var Rd,D1;function U2(){if(D1)return Rd;D1=1;function e(t,n){return t.has(n)}return Rd=e,Rd}var Td,z1;function V2(){if(z1)return Td;z1=1;var e=H2(),t=xM(),n=U2(),r=1,i=2;function s(o,a,l,u,c,d){var h=l&r,p=o.length,v=a.length;if(p!=v&&!(h&&v>p))return!1;var y=d.get(o),w=d.get(a);if(y&&w)return y==a&&w==o;var m=-1,g=!0,x=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++m<p;){var _=o[m],E=a[m];if(u)var S=h?u(E,_,m,a,o,d):u(_,E,m,o,a,d);if(S!==void 0){if(S)continue;g=!1;break}if(x){if(!t(a,function(k,j){if(!n(x,j)&&(_===k||c(_,k,l,u,d)))return x.push(j)})){g=!1;break}}else if(!(_===E||c(_,E,l,u,d))){g=!1;break}}return d.delete(o),d.delete(a),g}return Td=s,Td}var Ad,B1;function wM(){if(B1)return Ad;B1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Ad=e,Ad}var Id,H1;function l0(){if(H1)return Id;H1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Id=e,Id}var Pd,U1;function _M(){if(U1)return Pd;U1=1;var e=Ci(),t=O2(),n=ki(),r=V2(),i=wM(),s=l0(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function E(S,k,j,I,P,L,B){switch(j){case g:if(S.byteLength!=k.byteLength||S.byteOffset!=k.byteOffset)return!1;S=S.buffer,k=k.buffer;case m:return!(S.byteLength!=k.byteLength||!L(new t(S),new t(k)));case l:case u:case h:return n(+S,+k);case c:return S.name==k.name&&S.message==k.message;case p:case y:return S==k+"";case d:var z=i;case v:var b=I&o;if(z||(z=s),S.size!=k.size&&!b)return!1;var O=B.get(S);if(O)return O==k;I|=a,B.set(S,k);var R=r(z(S),z(k),I,P,L,B);return B.delete(S),R;case w:if(_)return _.call(S)==_.call(k)}return!1}return Pd=E,Pd}var Md,V1;function bM(){if(V1)return Md;V1=1;var e=P2(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var d=a&t,h=e(s),p=h.length,v=e(o),y=v.length;if(p!=y&&!d)return!1;for(var w=p;w--;){var m=h[w];if(!(d?m in o:r.call(o,m)))return!1}var g=c.get(s),x=c.get(o);if(g&&x)return g==o&&x==s;var _=!0;c.set(s,o),c.set(o,s);for(var E=d;++w<p;){m=h[w];var S=s[m],k=o[m];if(l)var j=d?l(k,S,m,o,s,c):l(S,k,m,s,o,c);if(!(j===void 0?S===k||u(S,k,a,l,c):j)){_=!1;break}E||(E=m=="constructor")}if(_&&!E){var I=s.constructor,P=o.constructor;I!=P&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(_=!1)}return c.delete(s),c.delete(o),_}return Md=i,Md}var Od,G1;function NM(){if(G1)return Od;G1=1;var e=pl(),t=V2(),n=_M(),r=bM(),i=Ri(),s=Le(),o=ji(),a=to(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(y,w,m,g,x,_){var E=s(y),S=s(w),k=E?c:i(y),j=S?c:i(w);k=k==u?d:k,j=j==u?d:j;var I=k==d,P=j==d,L=k==j;if(L&&o(y)){if(!o(w))return!1;E=!0,I=!1}if(L&&!I)return _||(_=new e),E||a(y)?t(y,w,m,g,x,_):n(y,w,k,m,g,x,_);if(!(m&l)){var B=I&&p.call(y,"__wrapped__"),z=P&&p.call(w,"__wrapped__");if(B||z){var b=B?y.value():y,O=z?w.value():w;return _||(_=new e),x(b,O,m,g,_)}}return L?(_||(_=new e),r(y,w,m,g,x,_)):!1}return Od=v,Od}var Ld,W1;function G2(){if(W1)return Ld;W1=1;var e=NM(),t=cn();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return Ld=n,Ld}var qd,K1;function EM(){if(K1)return qd;K1=1;var e=pl(),t=G2(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var h=a[u];if(d&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<c;){h=a[u];var p=h[0],v=s[p],y=h[1];if(d&&h[2]){if(v===void 0&&!(p in s))return!1}else{var w=new e;if(l)var m=l(v,y,p,s,o,w);if(!(m===void 0?t(y,v,n|r,l,w):m))return!1}}return!0}return qd=i,qd}var $d,Y1;function W2(){if(Y1)return $d;Y1=1;var e=Lt();function t(n){return n===n&&!e(n)}return $d=t,$d}var Fd,X1;function SM(){if(X1)return Fd;X1=1;var e=W2(),t=cr();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return Fd=n,Fd}var Dd,Q1;function K2(){if(Q1)return Dd;Q1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Dd=e,Dd}var zd,Z1;function kM(){if(Z1)return zd;Z1=1;var e=EM(),t=SM(),n=K2();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return zd=r,zd}var Bd,J1;function Ti(){if(J1)return Bd;J1=1;var e=Mr(),t=cn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Bd=r,Bd}var Hd,ew;function u0(){if(ew)return Hd;ew=1;var e=Le(),t=Ti(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Hd=i,Hd}var Ud,tw;function CM(){if(tw)return Ud;tw=1;var e=Qg(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,Ud=n,Ud}var Vd,nw;function jM(){if(nw)return Vd;nw=1;var e=CM(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return Vd=n,Vd}var Gd,rw;function RM(){if(rw)return Gd;rw=1;var e=jM(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return Gd=r,Gd}var Wd,iw;function bl(){if(iw)return Wd;iw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Wd=e,Wd}var Kd,sw;function TM(){if(sw)return Kd;sw=1;var e=Ci(),t=bl(),n=Le(),r=Ti(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Kd=o,Kd}var Yd,ow;function Y2(){if(ow)return Yd;ow=1;var e=TM();function t(n){return n==null?"":e(n)}return Yd=t,Yd}var Xd,aw;function Nl(){if(aw)return Xd;aw=1;var e=Le(),t=u0(),n=RM(),r=Y2();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return Xd=i,Xd}var Qd,lw;function no(){if(lw)return Qd;lw=1;var e=Ti();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Qd=t,Qd}var Zd,uw;function El(){if(uw)return Zd;uw=1;var e=Nl(),t=no();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return Zd=n,Zd}var Jd,cw;function AM(){if(cw)return Jd;cw=1;var e=El();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return Jd=t,Jd}var ef,dw;function IM(){if(dw)return ef;dw=1;function e(t,n){return t!=null&&n in Object(t)}return ef=e,ef}var tf,fw;function X2(){if(fw)return tf;fw=1;var e=Nl(),t=eo(),n=Le(),r=yl(),i=Jg(),s=no();function o(a,l,u){l=e(l,a);for(var c=-1,d=l.length,h=!1;++c<d;){var p=s(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=d?h:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||t(a)))}return tf=o,tf}var nf,hw;function Q2(){if(hw)return nf;hw=1;var e=IM(),t=X2();function n(r,i){return r!=null&&t(r,i,e)}return nf=n,nf}var rf,pw;function PM(){if(pw)return rf;pw=1;var e=G2(),t=AM(),n=Q2(),r=u0(),i=W2(),s=K2(),o=no(),a=1,l=2;function u(c,d){return r(c)&&i(d)?s(o(c),d):function(h){var p=t(h,c);return p===void 0&&p===d?n(h,c):e(d,p,a|l)}}return rf=u,rf}var sf,mw;function Z2(){if(mw)return sf;mw=1;function e(t){return function(n){return n==null?void 0:n[t]}}return sf=e,sf}var of,gw;function MM(){if(gw)return of;gw=1;var e=El();function t(n){return function(r){return e(r,n)}}return of=t,of}var af,yw;function OM(){if(yw)return af;yw=1;var e=Z2(),t=MM(),n=u0(),r=no();function i(s){return n(s)?e(r(s)):t(s)}return af=i,af}var lf,vw;function Pn(){if(vw)return lf;vw=1;var e=kM(),t=PM(),n=qr(),r=Le(),i=OM();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return lf=s,lf}var uf,xw;function J2(){if(xw)return uf;xw=1;var e=R2(),t=gM(),n=Pn(),r=Le();function i(s,o){var a=r(s)?e:t;return a(s,n(o,3))}return uf=i,uf}var cf,ww;function LM(){if(ww)return cf;ww=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return cf=n,cf}var df,_w;function ek(){if(_w)return df;_w=1;var e=LM(),t=X2();function n(r,i){return r!=null&&t(r,i,e)}return df=n,df}var ff,bw;function qM(){if(bw)return ff;bw=1;var e=t0(),t=Ri(),n=eo(),r=Le(),i=In(),s=ji(),o=xl(),a=to(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||s(p)||a(p)||n(p)))return!p.length;var v=t(p);if(v==l||v==u)return!p.size;if(o(p))return!e(p).length;for(var y in p)if(d.call(p,y))return!1;return!0}return ff=h,ff}var hf,Nw;function tk(){if(Nw)return hf;Nw=1;function e(t){return t===void 0}return hf=e,hf}var pf,Ew;function nk(){if(Ew)return pf;Ew=1;var e=_l(),t=In();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return pf=n,pf}var mf,Sw;function rk(){if(Sw)return mf;Sw=1;var e=bl(),t=Pn(),n=nk(),r=Le();function i(s,o){var a=r(s)?e:n;return a(s,t(o,3))}return mf=i,mf}var gf,kw;function $M(){if(kw)return gf;kw=1;function e(t,n,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return gf=e,gf}var yf,Cw;function FM(){if(Cw)return yf;Cw=1;function e(t,n,r,i,s){return s(t,function(o,a,l){r=i?(i=!1,o):n(r,o,a,l)}),r}return yf=e,yf}var vf,jw;function ik(){if(jw)return vf;jw=1;var e=$M(),t=_l(),n=Pn(),r=FM(),i=Le();function s(o,a,l){var u=i(o)?e:r,c=arguments.length<3;return u(o,n(a,4),l,c,t)}return vf=s,vf}var xf,Rw;function DM(){if(Rw)return xf;Rw=1;var e=Mr(),t=Le(),n=cn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return xf=i,xf}var wf,Tw;function zM(){if(Tw)return wf;Tw=1;var e=Z2(),t=e("length");return wf=t,wf}var _f,Aw;function BM(){if(Aw)return _f;Aw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function l(u){return a.test(u)}return _f=l,_f}var bf,Iw;function HM(){if(Iw)return bf;Iw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=u+"?",y="["+s+"]?",w="(?:"+p+"(?:"+[c,d,h].join("|")+")"+y+v+")*",m=y+v+w,g="(?:"+[c+a+"?",a,d,h,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+g+m,"g");function _(E){for(var S=x.lastIndex=0;x.test(E);)++S;return S}return bf=_,bf}var Nf,Pw;function UM(){if(Pw)return Nf;Pw=1;var e=zM(),t=BM(),n=HM();function r(i){return t(i)?n(i):e(i)}return Nf=r,Nf}var Ef,Mw;function VM(){if(Mw)return Ef;Mw=1;var e=t0(),t=Ri(),n=In(),r=DM(),i=UM(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==o?l.size:e(l).length}return Ef=a,Ef}var Sf,Ow;function GM(){if(Ow)return Sf;Ow=1;var e=Zg(),t=q2(),n=a0(),r=Pn(),i=wl(),s=Le(),o=ji(),a=Zs(),l=Lt(),u=to();function c(d,h,p){var v=s(d),y=v||o(d)||u(d);if(h=r(h,4),p==null){var w=d&&d.constructor;y?p=v?new w:[]:l(d)?p=a(w)?t(i(d)):{}:p={}}return(y?e:n)(d,function(m,g,x){return h(p,m,g,x)}),p}return Sf=c,Sf}var kf,Lw;function WM(){if(Lw)return kf;Lw=1;var e=Ci(),t=eo(),n=Le(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return kf=i,kf}var Cf,qw;function c0(){if(qw)return Cf;qw=1;var e=r0(),t=WM();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=t),a||(a=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return Cf=n,Cf}var jf,$w;function KM(){if($w)return jf;$w=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return jf=e,jf}var Rf,Fw;function sk(){if(Fw)return Rf;Fw=1;var e=KM(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(u),e(r,this,c)}}return Rf=n,Rf}var Tf,Dw;function YM(){if(Dw)return Tf;Dw=1;var e=s0(),t=E2(),n=qr(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Tf=r,Tf}var Af,zw;function XM(){if(zw)return Af;zw=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Af=r,Af}var If,Bw;function ok(){if(Bw)return If;Bw=1;var e=YM(),t=XM(),n=t(e);return If=n,If}var Pf,Hw;function Sl(){if(Hw)return Pf;Hw=1;var e=qr(),t=sk(),n=ok();function r(i,s){return n(t(i,s,e),i+"")}return Pf=r,Pf}var Mf,Uw;function ak(){if(Uw)return Mf;Uw=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Mf=e,Mf}var Of,Vw;function QM(){if(Vw)return Of;Vw=1;function e(t){return t!==t}return Of=e,Of}var Lf,Gw;function ZM(){if(Gw)return Lf;Gw=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Lf=e,Lf}var qf,Ww;function JM(){if(Ww)return qf;Ww=1;var e=ak(),t=QM(),n=ZM();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return qf=r,qf}var $f,Kw;function eO(){if(Kw)return $f;Kw=1;var e=JM();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return $f=t,$f}var Ff,Yw;function tO(){if(Yw)return Ff;Yw=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return Ff=e,Ff}var Df,Xw;function nO(){if(Xw)return Df;Xw=1;function e(){}return Df=e,Df}var zf,Qw;function rO(){if(Qw)return zf;Qw=1;var e=M2(),t=nO(),n=l0(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return zf=i,zf}var Bf,Zw;function iO(){if(Zw)return Bf;Zw=1;var e=H2(),t=eO(),n=tO(),r=U2(),i=rO(),s=l0(),o=200;function a(l,u,c){var d=-1,h=t,p=l.length,v=!0,y=[],w=y;if(c)v=!1,h=n;else if(p>=o){var m=u?null:i(l);if(m)return s(m);v=!1,h=r,w=new e}else w=u?[]:y;e:for(;++d<p;){var g=l[d],x=u?u(g):g;if(g=c||g!==0?g:0,v&&x===x){for(var _=w.length;_--;)if(w[_]===x)continue e;u&&w.push(x),y.push(g)}else h(w,x,c)||(w!==y&&w.push(x),y.push(g))}return y}return Bf=a,Bf}var Hf,Jw;function lk(){if(Jw)return Hf;Jw=1;var e=In(),t=cn();function n(r){return t(r)&&e(r)}return Hf=n,Hf}var Uf,e_;function sO(){if(e_)return Uf;e_=1;var e=c0(),t=Sl(),n=iO(),r=lk(),i=t(function(s){return n(e(s,1,r,!0))});return Uf=i,Uf}var Vf,t_;function oO(){if(t_)return Vf;t_=1;var e=bl();function t(n,r){return e(r,function(i){return n[i]})}return Vf=t,Vf}var Gf,n_;function uk(){if(n_)return Gf;n_=1;var e=oO(),t=cr();function n(r){return r==null?[]:e(r,t(r))}return Gf=n,Gf}var Wf,r_;function qt(){if(r_)return Wf;r_=1;var e;if(typeof Yg=="function")try{e={clone:hM(),constant:s0(),each:B2(),filter:J2(),has:ek(),isArray:Le(),isEmpty:qM(),isFunction:Zs(),isUndefined:tk(),keys:cr(),map:rk(),reduce:ik(),size:VM(),transform:GM(),union:sO(),values:uk()}}catch{}return e||(e=window._),Wf=e,Wf}var Kf,i_;function d0(){if(i_)return Kf;i_=1;var e=qt();Kf=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var h=arguments,p=this;return e.each(c,function(v){h.length>1?p.setNode(v,d):p.setNode(v)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var h=function(p){d.removeEdge(d._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){d.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var h=d;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;e.each(this._nodes,function(y,w){c(w)&&d.setNode(w,y)}),e.each(this._edgeObjs,function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,h.edge(y))});var p={};function v(y){var w=h.parent(y);return w===void 0||d.hasNode(w)?(p[y]=w,w):w in p?p[w]:v(w)}return this._isCompound&&e.each(d.nodes(),function(y){d.setParent(y,v(y))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var h=this,p=arguments;return e.reduce(c,function(v,y){return p.length>1?h.setEdge(v,y,d):h.setEdge(v,y),y}),this},i.prototype.setEdge=function(){var c,d,h,p,v=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,h=y.name,arguments.length===2&&(p=arguments[1],v=!0)):(c=y,d=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],v=!0)),c=""+c,d=""+d,e.isUndefined(h)||(h=""+h);var w=a(this._isDirected,c,d,h);if(e.has(this._edgeLabels,w))return v&&(this._edgeLabels[w]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=v?p:this._defaultEdgeLabelFn(c,d,h);var m=l(this._isDirected,c,d,h);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[w]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][w]=m,this._out[c][w]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,d,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,d,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,h),v=this._edgeObjs[p];return v&&(c=v.v,d=v.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var h=this._in[c];if(h){var p=e.values(h);return d?e.filter(p,function(v){return v.v===d}):p}},i.prototype.outEdges=function(c,d){var h=this._out[c];if(h){var p=e.values(h);return d?e.filter(p,function(v){return v.w===d}):p}},i.prototype.nodeEdges=function(c,d){var h=this.inEdges(c,d);if(h)return h.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,h,p){var v=""+d,y=""+h;if(!c&&v>y){var w=v;v=y,y=w}return v+r+y+r+(e.isUndefined(p)?t:p)}function l(c,d,h,p){var v=""+d,y=""+h;if(!c&&v>y){var w=v;v=y,y=w}var m={v,w:y};return p&&(m.name=p),m}function u(c,d){return a(c,d.v,d.w,d.name)}return Kf}var Yf,s_;function aO(){return s_||(s_=1,Yf="2.1.8"),Yf}var Xf,o_;function lO(){return o_||(o_=1,Xf={Graph:d0(),version:aO()}),Xf}var Qf,a_;function uO(){if(a_)return Qf;a_=1;var e=qt(),t=d0();Qf={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function r(o){return e.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(o){return e.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Qf}var Zf,l_;function cO(){if(l_)return Zf;l_=1;var e=qt();Zf=t;function t(n){var r={},i=[],s;function o(a){e.has(r,a)||(r[a]=!0,s.push(a),e.each(n.successors(a),o),e.each(n.predecessors(a),o))}return e.each(n.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return Zf}var Jf,u_;function ck(){if(u_)return Jf;u_=1;var e=qt();Jf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r},Jf}var eh,c_;function dk(){if(c_)return eh;c_=1;var e=qt(),t=ck();eh=r;var n=e.constant(1);function r(s,o,a,l){return i(s,String(o),a||n,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},c=new t,d,h,p=function(v){var y=v.v!==d?v.v:v.w,w=u[y],m=a(v),g=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+m);g<w.distance&&(w.distance=g,w.predecessor=d,c.decrease(y,g))};for(s.nodes().forEach(function(v){var y=v===o?0:Number.POSITIVE_INFINITY;u[v]={distance:y},c.add(v,y)});c.size()>0&&(d=c.removeMin(),h=u[d],h.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(p);return u}return eh}var th,d_;function dO(){if(d_)return th;d_=1;var e=dk(),t=qt();th=n;function n(r,i,s){return t.transform(r.nodes(),function(o,a){o[a]=e(r,a,i,s)},{})}return th}var nh,f_;function fk(){if(f_)return nh;f_=1;var e=qt();nh=t;function t(n){var r=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(s,h)?s[h].onStack&&(u.lowlink=Math.min(u.lowlink,s[h].index)):(a(h),u.lowlink=Math.min(u.lowlink,s[h].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);o.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||a(l)}),o}return nh}var rh,h_;function fO(){if(h_)return rh;h_=1;var e=qt(),t=fk();rh=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return rh}var ih,p_;function hO(){if(p_)return ih;p_=1;var e=qt();ih=n;var t=e.constant(1);function n(i,s,o){return r(i,s||t,o||function(a){return i.outEdges(a)})}function r(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var d=c.v===u?c.w:c.v,h=s(c);a[u][d]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(d){var h=a[d];l.forEach(function(p){var v=h[u],y=c[p],w=h[p],m=v.distance+y.distance;m<w.distance&&(w.distance=m,w.predecessor=y.predecessor)})})}),a}return ih}var sh,m_;function hk(){if(m_)return sh;m_=1;var e=qt();sh=t,t.CycleException=n;function t(r){var i={},s={},o=[];function a(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete s[l],o.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,sh}var oh,g_;function pO(){if(g_)return oh;g_=1;var e=hk();oh=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return oh}var ah,y_;function pk(){if(y_)return ah;y_=1;var e=qt();ah=t;function t(r,i,s){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,o,a)}),a}function n(r,i,s,o,a,l){e.has(o,i)||(o[i]=!0,s||l.push(i),e.each(a(i),function(u){n(r,u,s,o,a,l)}),s&&l.push(i))}return ah}var lh,v_;function mO(){if(v_)return lh;v_=1;var e=pk();lh=t;function t(n,r){return e(n,r,"post")}return lh}var uh,x_;function gO(){if(x_)return uh;x_=1;var e=pk();uh=t;function t(n,r){return e(n,r,"pre")}return uh}var ch,w_;function yO(){if(w_)return ch;w_=1;var e=qt(),t=d0(),n=ck();ch=r;function r(i,s){var o=new t,a={},l=new n,u;function c(h){var p=h.v===u?h.w:h.v,v=l.priority(p);if(v!==void 0){var y=s(h);y<v&&(a[p]=u,l.decrease(p,y))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),o.setNode(h)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))o.setEdge(u,a[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return o}return ch}var dh,__;function vO(){return __||(__=1,dh={components:cO(),dijkstra:dk(),dijkstraAll:dO(),findCycles:fO(),floydWarshall:hO(),isAcyclic:pO(),postorder:mO(),preorder:gO(),prim:yO(),tarjan:fk(),topsort:hk()}),dh}var fh,b_;function xO(){if(b_)return fh;b_=1;var e=lO();return fh={Graph:e.Graph,json:uO(),alg:vO(),version:e.version},fh}var Pa;if(typeof Yg=="function")try{Pa=xO()}catch{}Pa||(Pa=window.graphlib);var Qt=Pa,hh,N_;function wO(){if(N_)return hh;N_=1;var e=F2(),t=1,n=4;function r(i){return e(i,t|n)}return hh=r,hh}var ph,E_;function kl(){if(E_)return ph;E_=1;var e=ki(),t=In(),n=yl(),r=Lt();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&n(o,a.length):l=="string"&&o in a)?e(a[o],s):!1}return ph=i,ph}var mh,S_;function _O(){if(S_)return mh;S_=1;var e=Sl(),t=ki(),n=kl(),r=Lr(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,l){a=Object(a);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var h=l[u],p=r(h),v=-1,y=p.length;++v<y;){var w=p[v],m=a[w];(m===void 0||t(m,i[w])&&!s.call(a,w))&&(a[w]=h[w])}return a});return mh=o,mh}var gh,k_;function bO(){if(k_)return gh;k_=1;var e=Pn(),t=In(),n=cr();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(d){return u(l[d],d,l)}}var c=i(s,o,a);return c>-1?l[u?s[c]:c]:void 0}}return gh=r,gh}var yh,C_;function NO(){if(C_)return yh;C_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return yh=t,yh}var vh,j_;function EO(){if(j_)return vh;j_=1;var e=NO(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return vh=n,vh}var xh,R_;function SO(){if(R_)return xh;R_=1;var e=EO(),t=Lt(),n=Ti(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?r:+u}return xh=l,xh}var wh,T_;function mk(){if(T_)return wh;T_=1;var e=SO(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return wh=r,wh}var _h,A_;function kO(){if(A_)return _h;A_=1;var e=mk();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return _h=t,_h}var bh,I_;function CO(){if(I_)return bh;I_=1;var e=ak(),t=Pn(),n=kO(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(s,t(o,3),u)}return bh=i,bh}var Nh,P_;function jO(){if(P_)return Nh;P_=1;var e=bO(),t=CO(),n=e(t);return Nh=n,Nh}var Eh,M_;function gk(){if(M_)return Eh;M_=1;var e=c0();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Eh=t,Eh}var Sh,O_;function RO(){if(O_)return Sh;O_=1;var e=o0(),t=D2(),n=Lr();function r(i,s){return i==null?i:e(i,t(s),n)}return Sh=r,Sh}var kh,L_;function TO(){if(L_)return kh;L_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return kh=e,kh}var Ch,q_;function AO(){if(q_)return Ch;q_=1;var e=ml(),t=a0(),n=Pn();function r(i,s){var o={};return s=n(s,3),t(i,function(a,l,u){e(o,l,s(a,l,u))}),o}return Ch=r,Ch}var jh,$_;function f0(){if($_)return jh;$_=1;var e=Ti();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return jh=t,jh}var Rh,F_;function IO(){if(F_)return Rh;F_=1;function e(t,n){return t>n}return Rh=e,Rh}var Th,D_;function PO(){if(D_)return Th;D_=1;var e=f0(),t=IO(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return Th=r,Th}var Ah,z_;function yk(){if(z_)return Ah;z_=1;var e=ml(),t=ki();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Ah=n,Ah}var Ih,B_;function MO(){if(B_)return Ih;B_=1;var e=Mr(),t=wl(),n=cn(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return Ih=u,Ih}var Ph,H_;function vk(){if(H_)return Ph;H_=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Ph=e,Ph}var Mh,U_;function OO(){if(U_)return Mh;U_=1;var e=Js(),t=Lr();function n(r){return e(r,t(r))}return Mh=n,Mh}var Oh,V_;function LO(){if(V_)return Oh;V_=1;var e=yk(),t=C2(),n=L2(),r=j2(),i=$2(),s=eo(),o=Le(),a=lk(),l=ji(),u=Zs(),c=Lt(),d=MO(),h=to(),p=vk(),v=OO();function y(w,m,g,x,_,E,S){var k=p(w,g),j=p(m,g),I=S.get(j);if(I){e(w,g,I);return}var P=E?E(k,j,g+"",w,m,S):void 0,L=P===void 0;if(L){var B=o(j),z=!B&&l(j),b=!B&&!z&&h(j);P=j,B||z||b?o(k)?P=k:a(k)?P=r(k):z?(L=!1,P=t(j,!0)):b?(L=!1,P=n(j,!0)):P=[]:d(j)||s(j)?(P=k,s(k)?P=v(k):(!c(k)||u(k))&&(P=i(j))):L=!1}L&&(S.set(j,P),_(P,j,x,E,S),S.delete(j)),e(w,g,P)}return Oh=y,Oh}var Lh,G_;function qO(){if(G_)return Lh;G_=1;var e=pl(),t=yk(),n=o0(),r=LO(),i=Lt(),s=Lr(),o=vk();function a(l,u,c,d,h){l!==u&&n(u,function(p,v){if(h||(h=new e),i(p))r(l,u,v,c,a,d,h);else{var y=d?d(o(l,v),p,v+"",l,u,h):void 0;y===void 0&&(y=p),t(l,v,y)}},s)}return Lh=a,Lh}var qh,W_;function $O(){if(W_)return qh;W_=1;var e=Sl(),t=kl();function n(r){return e(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var c=s[o];c&&r(i,c,o,l)}return i})}return qh=n,qh}var $h,K_;function FO(){if(K_)return $h;K_=1;var e=qO(),t=$O(),n=t(function(r,i,s){e(r,i,s)});return $h=n,$h}var Fh,Y_;function xk(){if(Y_)return Fh;Y_=1;function e(t,n){return t<n}return Fh=e,Fh}var Dh,X_;function DO(){if(X_)return Dh;X_=1;var e=f0(),t=xk(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return Dh=r,Dh}var zh,Q_;function zO(){if(Q_)return zh;Q_=1;var e=f0(),t=Pn(),n=xk();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return zh=r,zh}var Bh,Z_;function BO(){if(Z_)return Bh;Z_=1;var e=Xt(),t=function(){return e.Date.now()};return Bh=t,Bh}var Hh,J_;function HO(){if(J_)return Hh;J_=1;var e=gl(),t=Nl(),n=yl(),r=Lt(),i=no();function s(o,a,l,u){if(!r(o))return o;a=t(a,o);for(var c=-1,d=a.length,h=d-1,p=o;p!=null&&++c<d;){var v=i(a[c]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=h){var w=p[v];y=u?u(w,v,p):void 0,y===void 0&&(y=r(w)?w:n(a[c+1])?[]:{})}e(p,v,y),p=p[v]}return o}return Hh=s,Hh}var Uh,eb;function UO(){if(eb)return Uh;eb=1;var e=El(),t=HO(),n=Nl();function r(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var c=s[a],d=e(i,c);o(d,c)&&t(u,n(c,i),d)}return u}return Uh=r,Uh}var Vh,tb;function VO(){if(tb)return Vh;tb=1;var e=UO(),t=Q2();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return Vh=n,Vh}var Gh,nb;function GO(){if(nb)return Gh;nb=1;var e=gk(),t=sk(),n=ok();function r(i){return n(t(i,void 0,e),i+"")}return Gh=r,Gh}var Wh,rb;function WO(){if(rb)return Wh;rb=1;var e=VO(),t=GO(),n=t(function(r,i){return r==null?{}:e(r,i)});return Wh=n,Wh}var Kh,ib;function KO(){if(ib)return Kh;ib=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var a=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return Kh=n,Kh}var Yh,sb;function YO(){if(sb)return Yh;sb=1;var e=KO(),t=kl(),n=mk();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),e(s,o,a,i)}}return Yh=r,Yh}var Xh,ob;function XO(){if(ob)return Xh;ob=1;var e=YO(),t=e();return Xh=t,Xh}var Qh,ab;function QO(){if(ab)return Qh;ab=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Qh=e,Qh}var Zh,lb;function ZO(){if(lb)return Zh;lb=1;var e=Ti();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!a&&n>r||a&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return-1}return 0}return Zh=t,Zh}var Jh,ub;function JO(){if(ub)return Jh;ub=1;var e=ZO();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var c=e(o[s],a[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Jh=t,Jh}var ep,cb;function e6(){if(cb)return ep;cb=1;var e=bl(),t=El(),n=Pn(),r=nk(),i=QO(),s=vl(),o=JO(),a=qr(),l=Le();function u(c,d,h){d.length?d=e(d,function(y){return l(y)?function(w){return t(w,y.length===1?y[0]:y)}:y}):d=[a];var p=-1;d=e(d,s(n));var v=r(c,function(y,w,m){var g=e(d,function(x){return x(y)});return{criteria:g,index:++p,value:y}});return i(v,function(y,w){return o(y,w,h)})}return ep=u,ep}var tp,db;function t6(){if(db)return tp;db=1;var e=c0(),t=e6(),n=Sl(),r=kl(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return tp=i,tp}var np,fb;function n6(){if(fb)return np;fb=1;var e=Y2(),t=0;function n(r){var i=++t;return e(r)+i}return np=n,np}var rp,hb;function r6(){if(hb)return rp;hb=1;function e(t,n,r){for(var i=-1,s=t.length,o=n.length,a={};++i<s;){var l=i<o?n[i]:void 0;r(a,t[i],l)}return a}return rp=e,rp}var ip,pb;function i6(){if(pb)return ip;pb=1;var e=gl(),t=r6();function n(r,i){return t(r||[],i||[],e)}return ip=n,ip}var Ma;if(typeof Yg=="function")try{Ma={cloneDeep:wO(),constant:s0(),defaults:_O(),each:B2(),filter:J2(),find:jO(),flatten:gk(),forEach:z2(),forIn:RO(),has:ek(),isUndefined:tk(),last:TO(),map:rk(),mapValues:AO(),max:PO(),merge:FO(),min:DO(),minBy:zO(),now:BO(),pick:WO(),range:XO(),reduce:ik(),sortBy:t6(),uniqueId:n6(),values:uk(),zipObject:i6()}}catch{}Ma||(Ma=window._);var Ne=Ma,s6=Cl;function Cl(){var e={};e._next=e._prev=e,this._sentinel=e}Cl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return wk(t),t};Cl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&wk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Cl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o6)),n=n._prev;return"["+e.join(", ")+"]"};function wk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o6(e,t){if(e!=="_next"&&e!=="_prev")return t}var wn=Ne,a6=Qt.Graph,l6=s6,u6=d6,c6=wn.constant(1);function d6(e,t){if(e.nodeCount()<=1)return[];var n=h6(e,t||c6),r=f6(n.graph,n.buckets,n.zeroIdx);return wn.flatten(wn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function f6(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)sp(e,t,n,o);for(;o=i.dequeue();)sp(e,t,n,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){r=r.concat(sp(e,t,n,o,!0));break}}}return r}function sp(e,t,n,r,i){var s=i?[]:void 0;return wn.forEach(e.inEdges(r.v),function(o){var a=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,Nm(t,n,l)}),wn.forEach(e.outEdges(r.v),function(o){var a=e.edge(o),l=o.w,u=e.node(l);u.in-=a,Nm(t,n,u)}),e.removeNode(r.v),s}function h6(e,t){var n=new a6,r=0,i=0;wn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),wn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=wn.range(i+r+3).map(function(){return new l6}),o=r+1;return wn.forEach(n.nodes(),function(a){Nm(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function Nm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var wr=Ne,p6=u6,m6={run:g6,undo:v6};function g6(e){var t=e.graph().acyclicer==="greedy"?p6(e,n(e)):y6(e);wr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,wr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function y6(e){var t=[],n={},r={};function i(s){wr.has(r,s)||(r[s]=!0,n[s]=!0,wr.forEach(e.outEdges(s),function(o){wr.has(n,o.w)?t.push(o):i(o.w)}),delete n[s])}return wr.forEach(e.nodes(),i),t}function v6(e){wr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var pe=Ne,_k=Qt.Graph,mt={addDummyNode:bk,simplify:x6,asNonCompoundGraph:w6,successorWeights:_6,predecessorWeights:b6,intersectRect:N6,buildLayerMatrix:E6,normalizeRanks:S6,removeEmptyRanks:k6,addBorderNode:C6,maxRank:Nk,partition:j6,time:R6,notime:T6};function bk(e,t,n,r){var i;do i=pe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function x6(e){var t=new _k().setGraph(e.graph());return pe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function w6(e){var t=new _k({multigraph:e.isMultigraph()}).setGraph(e.graph());return pe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function _6(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function b6(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function N6(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function E6(e){var t=pe.map(pe.range(Nk(e)+1),function(){return[]});return pe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;pe.isUndefined(i)||(t[i][r.order]=n)}),t}function S6(e){var t=pe.min(pe.map(e.nodes(),function(n){return e.node(n).rank}));pe.forEach(e.nodes(),function(n){var r=e.node(n);pe.has(r,"rank")&&(r.rank-=t)})}function k6(e){var t=pe.min(pe.map(e.nodes(),function(s){return e.node(s).rank})),n=[];pe.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=e.graph().nodeRankFactor;pe.forEach(n,function(s,o){pe.isUndefined(s)&&o%i!==0?--r:r&&pe.forEach(s,function(a){e.node(a).rank+=r})})}function C6(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),bk(e,"border",i,t)}function Nk(e){return pe.max(pe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!pe.isUndefined(n))return n}))}function j6(e,t){var n={lhs:[],rhs:[]};return pe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function R6(e,t){var n=pe.now();try{return t()}finally{console.log(e+" time: "+(pe.now()-n)+"ms")}}function T6(e,t){return t()}var Ek=Ne,A6=mt,I6={run:P6,undo:O6};function P6(e){e.graph().dummyChains=[],Ek.forEach(e.edges(),function(t){M6(e,t)})}function M6(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),l=a.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=A6.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},o)}}function O6(e){Ek.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ao=Ne,jl={longestPath:L6,slack:q6};function L6(e){var t={};function n(r){var i=e.node(r);if(Ao.has(t,r))return i.rank;t[r]=!0;var s=Ao.min(Ao.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Ao.forEach(e.sources(),n)}function q6(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Oa=Ne,$6=Qt.Graph,La=jl.slack,Sk=F6;function F6(e){var t=new $6({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;D6(t,e)<r;)i=z6(t,e),s=t.hasNode(i.v)?La(e,i):-La(e,i),B6(t,e,s);return t}function D6(e,t){function n(r){Oa.forEach(t.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!e.hasNode(o)&&!La(t,i)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return Oa.forEach(e.nodes(),n),e.nodeCount()}function z6(e,t){return Oa.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return La(t,n)})}function B6(e,t,n){Oa.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Tn=Ne,H6=Sk,U6=jl.slack,V6=jl.longestPath,G6=Qt.alg.preorder,W6=Qt.alg.postorder,K6=mt.simplify,Y6=$r;$r.initLowLimValues=p0;$r.initCutValues=h0;$r.calcCutValue=kk;$r.leaveEdge=jk;$r.enterEdge=Rk;$r.exchangeEdges=Tk;function $r(e){e=K6(e),V6(e);var t=H6(e);p0(t),h0(t,e);for(var n,r;n=jk(t);)r=Rk(t,e,n),Tk(t,e,n,r)}function h0(e,t){var n=W6(e,e.nodes());n=n.slice(0,n.length-1),Tn.forEach(n,function(r){X6(e,t,r)})}function X6(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=kk(e,t,n)}function kk(e,t,n){var r=e.node(n),i=r.parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,Tn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,h=t.edge(l).weight;if(a+=d?h:-h,Z6(e,n,c)){var p=e.edge(n,c).cutvalue;a+=d?-p:p}}}),a}function p0(e,t){arguments.length<2&&(t=e.nodes()[0]),Ck(e,{},1,t)}function Ck(e,t,n,r,i){var s=n,o=e.node(r);return t[r]=!0,Tn.forEach(e.neighbors(r),function(a){Tn.has(t,a)||(n=Ck(e,t,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function jk(e){return Tn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function Rk(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),o=e.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=Tn.filter(t.edges(),function(c){return l===mb(e,e.node(c.v),a)&&l!==mb(e,e.node(c.w),a)});return Tn.minBy(u,function(c){return U6(t,c)})}function Tk(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),p0(e),h0(e,t),Q6(e,t)}function Q6(e,t){var n=Tn.find(e.nodes(),function(i){return!t.node(i).parent}),r=G6(e,n);r=r.slice(1),Tn.forEach(r,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function Z6(e,t,n){return e.hasEdge(t,n)}function mb(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var J6=jl,Ak=J6.longestPath,eL=Sk,tL=Y6,nL=rL;function rL(e){switch(e.graph().ranker){case"network-simplex":gb(e);break;case"tight-tree":sL(e);break;case"longest-path":iL(e);break;default:gb(e)}}var iL=Ak;function sL(e){Ak(e),eL(e)}function gb(e){tL(e)}var Em=Ne,oL=aL;function aL(e){var t=uL(e);Em.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=lL(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=o[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function lL(e,t,n,r){var i=[],s=[],o=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function uL(e){var t={},n=0;function r(i){var s=n;Em.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return Em.forEach(e.children(),r),t}var _n=Ne,Sm=mt,cL={run:dL,cleanup:pL};function dL(e){var t=Sm.addDummyNode(e,"root",{},"_root"),n=fL(e),r=_n.max(_n.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,_n.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=hL(e)+1;_n.forEach(e.children(),function(o){Ik(e,t,i,s,r,n,o)}),e.graph().nodeRankFactor=i}function Ik(e,t,n,r,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=Sm.addBorderNode(e,"_bt"),u=Sm.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,_n.forEach(a,function(d){Ik(e,t,n,r,i,s,d);var h=e.node(d),p=h.borderTop?h.borderTop:d,v=h.borderBottom?h.borderBottom:d,y=h.borderTop?r:2*r,w=p!==v?1:i-s[o]+1;e.setEdge(l,p,{weight:y,minlen:w,nestingEdge:!0}),e.setEdge(v,u,{weight:y,minlen:w,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}function fL(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&_n.forEach(s,function(o){n(o,i+1)}),t[r]=i}return _n.forEach(e.children(),function(r){n(r,1)}),t}function hL(e){return _n.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function pL(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,_n.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var op=Ne,mL=mt,gL=yL;function yL(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&op.forEach(r,t),op.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)yb(e,"borderLeft","_bl",n,i,s),yb(e,"borderRight","_br",n,i,s)}}op.forEach(e.children(),t)}function yb(e,t,n,r,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],l=mL.addDummyNode(e,"border",o,n);i[t][s]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var nn=Ne,vL={adjust:xL,undo:wL};function xL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Pk(e)}function wL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&_L(e),(t==="lr"||t==="rl")&&(bL(e),Pk(e))}function Pk(e){nn.forEach(e.nodes(),function(t){vb(e.node(t))}),nn.forEach(e.edges(),function(t){vb(e.edge(t))})}function vb(e){var t=e.width;e.width=e.height,e.height=t}function _L(e){nn.forEach(e.nodes(),function(t){ap(e.node(t))}),nn.forEach(e.edges(),function(t){var n=e.edge(t);nn.forEach(n.points,ap),nn.has(n,"y")&&ap(n)})}function ap(e){e.y=-e.y}function bL(e){nn.forEach(e.nodes(),function(t){lp(e.node(t))}),nn.forEach(e.edges(),function(t){var n=e.edge(t);nn.forEach(n.points,lp),nn.has(n,"x")&&lp(n)})}function lp(e){var t=e.x;e.x=e.y,e.y=t}var pn=Ne,NL=EL;function EL(e){var t={},n=pn.filter(e.nodes(),function(a){return!e.children(a).length}),r=pn.max(pn.map(n,function(a){return e.node(a).rank})),i=pn.map(pn.range(r+1),function(){return[]});function s(a){if(!pn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),pn.forEach(e.successors(a),s)}}var o=pn.sortBy(n,function(a){return e.node(a).rank});return pn.forEach(o,s),i}var Ln=Ne,SL=kL;function kL(e,t){for(var n=0,r=1;r<t.length;++r)n+=CL(e,t[r-1],t[r]);return n}function CL(e,t,n){for(var r=Ln.zipObject(n,Ln.map(n,function(u,c){return c})),i=Ln.flatten(Ln.map(t,function(u){return Ln.sortBy(Ln.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=Ln.map(new Array(o),function(){return 0}),l=0;return Ln.forEach(i.forEach(function(u){var c=u.pos+s;a[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*d})),l}var xb=Ne,jL=RL;function RL(e,t){return xb.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=xb.reduce(r,function(s,o){var a=e.edge(o),l=e.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var vt=Ne,TL=AL;function AL(e,t){var n={};vt.forEach(e,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};vt.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),vt.forEach(t.edges(),function(i){var s=n[i.v],o=n[i.w];!vt.isUndefined(s)&&!vt.isUndefined(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=vt.filter(n,function(i){return!i.indegree});return IL(r)}function IL(e){var t=[];function n(s){return function(o){o.merged||(vt.isUndefined(o.barycenter)||vt.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&PL(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),vt.forEach(i.in.reverse(),n(i)),vt.forEach(i.out,r(i))}return vt.map(vt.filter(t,function(s){return!s.merged}),function(s){return vt.pick(s,["vs","i","barycenter","weight"])})}function PL(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var os=Ne,ML=mt,OL=LL;function LL(e,t){var n=ML.partition(e,function(c){return os.has(c,"barycenter")}),r=n.lhs,i=os.sortBy(n.rhs,function(c){return-c.i}),s=[],o=0,a=0,l=0;r.sort(qL(!!t)),l=wb(s,i,l),os.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,l=wb(s,i,l)});var u={vs:os.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function wb(e,t,n){for(var r;t.length&&(r=os.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function qL(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Un=Ne,$L=jL,FL=TL,DL=OL,zL=Mk;function Mk(e,t,n,r){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=Un.filter(i,function(v){return v!==o&&v!==a}));var u=$L(e,i);Un.forEach(u,function(v){if(e.children(v.v).length){var y=Mk(e,v.v,n,r);l[v.v]=y,Un.has(y,"barycenter")&&HL(v,y)}});var c=FL(u,n);BL(c,l);var d=DL(c,r);if(o&&(d.vs=Un.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var h=e.node(e.predecessors(o)[0]),p=e.node(e.predecessors(a)[0]);Un.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d}function BL(e,t){Un.forEach(e,function(n){n.vs=Un.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function HL(e,t){Un.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var as=Ne,UL=Qt.Graph,VL=GL;function GL(e,t,n){var r=WL(e),i=new UL({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return as.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),as.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=as.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),as.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function WL(e){for(var t;e.hasNode(t=as.uniqueId("_root")););return t}var KL=Ne,YL=XL;function XL(e,t,n){var r={},i;KL.forEach(n,function(s){for(var o=e.parent(s),a,l;o;){if(a=e.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=a}})}var nr=Ne,QL=NL,ZL=SL,JL=zL,e8=VL,t8=YL,n8=Qt.Graph,_b=mt,r8=i8;function i8(e){var t=_b.maxRank(e),n=bb(e,nr.range(1,t+1),"inEdges"),r=bb(e,nr.range(t-1,-1,-1),"outEdges"),i=QL(e);Nb(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){s8(a%2?n:r,a%4>=2),i=_b.buildLayerMatrix(e);var u=ZL(e,i);u<s&&(l=0,o=nr.cloneDeep(i),s=u)}Nb(e,o)}function bb(e,t,n){return nr.map(t,function(r){return e8(e,r,n)})}function s8(e,t){var n=new n8;nr.forEach(e,function(r){var i=r.graph().root,s=JL(r,i,n,t);nr.forEach(s.vs,function(o,a){r.node(o).order=a}),t8(r,n,s.vs)})}function Nb(e,t){nr.forEach(t,function(n){nr.forEach(n,function(r,i){e.node(r).order=i})})}var re=Ne,o8=Qt.Graph,a8=mt,l8={positionX:x8};function u8(e,t){var n={};function r(i,s){var o=0,a=0,l=i.length,u=re.last(s);return re.forEach(s,function(c,d){var h=d8(e,c),p=h?e.node(h).order:l;(h||c===u)&&(re.forEach(s.slice(a,d+1),function(v){re.forEach(e.predecessors(v),function(y){var w=e.node(y),m=w.order;(m<o||p<m)&&!(w.dummy&&e.node(v).dummy)&&Ok(n,y,v)})}),a=d+1,o=p)}),s}return re.reduce(t,r),n}function c8(e,t){var n={};function r(s,o,a,l,u){var c;re.forEach(re.range(o,a),function(d){c=s[d],e.node(c).dummy&&re.forEach(e.predecessors(c),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>u)&&Ok(n,h,c)})})}function i(s,o){var a=-1,l,u=0;return re.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var h=e.predecessors(c);h.length&&(l=e.node(h[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return re.reduce(t,i),n}function d8(e,t){if(e.node(t).dummy)return re.find(e.predecessors(t),function(n){return e.node(n).dummy})}function Ok(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function f8(e,t,n){if(t>n){var r=t;t=n,n=r}return re.has(e[t],n)}function h8(e,t,n,r){var i={},s={},o={};return re.forEach(t,function(a){re.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),re.forEach(t,function(a){var l=-1;re.forEach(a,function(u){var c=r(u);if(c.length){c=re.sortBy(c,function(y){return o[y]});for(var d=(c.length-1)/2,h=Math.floor(d),p=Math.ceil(d);h<=p;++h){var v=c[h];s[u]===u&&l<o[v]&&!f8(n,u,v)&&(s[v]=u,s[u]=i[u]=i[v],l=o[v])}}})}),{root:i,align:s}}function p8(e,t,n,r,i){var s={},o=m8(e,t,n,i),a=i?"borderLeft":"borderRight";function l(d,h){for(var p=o.nodes(),v=p.pop(),y={};v;)y[v]?d(v):(y[v]=!0,p.push(v),p=p.concat(h(v))),v=p.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(h,p){return Math.max(h,s[p.v]+o.edge(p))},0)}function c(d){var h=o.outEdges(d).reduce(function(v,y){return Math.min(v,s[y.w]-o.edge(y))},Number.POSITIVE_INFINITY),p=e.node(d);h!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(s[d]=Math.max(s[d],h))}return l(u,o.predecessors.bind(o)),l(c,o.successors.bind(o)),re.forEach(r,function(d){s[d]=s[n[d]]}),s}function m8(e,t,n,r){var i=new o8,s=e.graph(),o=w8(s.nodesep,s.edgesep,r);return re.forEach(t,function(a){var l;re.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],h=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,u,l),h||0))}l=u})}),i}function g8(e,t){return re.minBy(re.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return re.forIn(n,function(s,o){var a=_8(e,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function y8(e,t){var n=re.values(t),r=re.min(n),i=re.max(n);re.forEach(["u","d"],function(s){re.forEach(["l","r"],function(o){var a=s+o,l=e[a],u;if(l!==t){var c=re.values(l);u=o==="l"?r-re.min(c):i-re.max(c),u&&(e[a]=re.mapValues(l,function(d){return d+u}))}})})}function v8(e,t){return re.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=re.sortBy(re.map(e,r));return(i[1]+i[2])/2})}function x8(e){var t=a8.buildLayerMatrix(e),n=re.merge(u8(e,t),c8(e,t)),r={},i;re.forEach(["u","d"],function(o){i=o==="u"?t:re.values(t).reverse(),re.forEach(["l","r"],function(a){a==="r"&&(i=re.map(i,function(d){return re.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=h8(e,i,n,l),c=p8(e,i,u.root,u.align,a==="r");a==="r"&&(c=re.mapValues(c,function(d){return-d})),r[o+a]=c})});var s=g8(e,r);return y8(r,s),v8(r,e.graph().align)}function w8(e,t,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,re.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,re.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function _8(e,t){return e.node(t).width}var ls=Ne,Lk=mt,b8=l8.positionX,N8=E8;function E8(e){e=Lk.asNonCompoundGraph(e),S8(e),ls.forEach(b8(e),function(t,n){e.node(n).x=t})}function S8(e){var t=Lk.buildLayerMatrix(e),n=e.graph().ranksep,r=0;ls.forEach(t,function(i){var s=ls.max(ls.map(i,function(o){return e.node(o).height}));ls.forEach(i,function(o){e.node(o).y=r+s/2}),r+=s+n})}var ie=Ne,Eb=m6,Sb=I6,k8=nL,C8=mt.normalizeRanks,j8=oL,R8=mt.removeEmptyRanks,kb=cL,T8=gL,Cb=vL,A8=r8,I8=N8,or=mt,P8=Qt.Graph,M8=O8;function O8(e,t){var n=t&&t.debugTiming?or.time:or.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return G8(e)});n("  runLayout",function(){L8(r,n)}),n("  updateInputGraph",function(){q8(e,r)})})}function L8(e,t){t("    makeSpaceForEdgeLabels",function(){W8(e)}),t("    removeSelfEdges",function(){nq(e)}),t("    acyclic",function(){Eb.run(e)}),t("    nestingGraph.run",function(){kb.run(e)}),t("    rank",function(){k8(or.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){K8(e)}),t("    removeEmptyRanks",function(){R8(e)}),t("    nestingGraph.cleanup",function(){kb.cleanup(e)}),t("    normalizeRanks",function(){C8(e)}),t("    assignRankMinMax",function(){Y8(e)}),t("    removeEdgeLabelProxies",function(){X8(e)}),t("    normalize.run",function(){Sb.run(e)}),t("    parentDummyChains",function(){j8(e)}),t("    addBorderSegments",function(){T8(e)}),t("    order",function(){A8(e)}),t("    insertSelfEdges",function(){rq(e)}),t("    adjustCoordinateSystem",function(){Cb.adjust(e)}),t("    position",function(){I8(e)}),t("    positionSelfEdges",function(){iq(e)}),t("    removeBorderNodes",function(){tq(e)}),t("    normalize.undo",function(){Sb.undo(e)}),t("    fixupEdgeLabelCoords",function(){J8(e)}),t("    undoCoordinateSystem",function(){Cb.undo(e)}),t("    translateGraph",function(){Q8(e)}),t("    assignNodeIntersects",function(){Z8(e)}),t("    reversePoints",function(){eq(e)}),t("    acyclic.undo",function(){Eb.undo(e)})}function q8(e,t){ie.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ie.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ie.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var $8=["nodesep","edgesep","ranksep","marginx","marginy"],F8={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},D8=["acyclicer","ranker","rankdir","align"],z8=["width","height"],B8={width:0,height:0},H8=["minlen","weight","width","height","labeloffset"],U8={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V8=["labelpos"];function G8(e){var t=new P8({multigraph:!0,compound:!0}),n=cp(e.graph());return t.setGraph(ie.merge({},F8,up(n,$8),ie.pick(n,D8))),ie.forEach(e.nodes(),function(r){var i=cp(e.node(r));t.setNode(r,ie.defaults(up(i,z8),B8)),t.setParent(r,e.parent(r))}),ie.forEach(e.edges(),function(r){var i=cp(e.edge(r));t.setEdge(r,ie.merge({},U8,up(i,H8),ie.pick(i,V8)))}),t}function W8(e){var t=e.graph();t.ranksep/=2,ie.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function K8(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};or.addDummyNode(e,"edge-proxy",s,"_ep")}})}function Y8(e){var t=0;ie.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ie.max(t,r.maxRank))}),e.graph().maxRank=t}function X8(e){ie.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Q8(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var c=u.x,d=u.y,h=u.width,p=u.height;t=Math.min(t,c-h/2),n=Math.max(n,c+h/2),r=Math.min(r,d-p/2),i=Math.max(i,d+p/2)}ie.forEach(e.nodes(),function(u){l(e.node(u))}),ie.forEach(e.edges(),function(u){var c=e.edge(u);ie.has(c,"x")&&l(c)}),t-=o,r-=a,ie.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ie.forEach(e.edges(),function(u){var c=e.edge(u);ie.forEach(c.points,function(d){d.x-=t,d.y-=r}),ie.has(c,"x")&&(c.x-=t),ie.has(c,"y")&&(c.y-=r)}),s.width=n-t+o,s.height=i-r+a}function Z8(e){ie.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(or.intersectRect(r,s)),n.points.push(or.intersectRect(i,o))})}function J8(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);if(ie.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function eq(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function tq(e){ie.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(ie.last(n.borderLeft)),o=e.node(ie.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),ie.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function nq(e){ie.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function rq(e){var t=or.buildLayerMatrix(e);ie.forEach(t,function(n){var r=0;ie.forEach(n,function(i,s){var o=e.node(i);o.order=s+r,ie.forEach(o.selfEdges,function(a){or.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function iq(e){ie.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function up(e,t){return ie.mapValues(ie.pick(e,t),Number)}function cp(e){var t={};return ie.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Io=Ne,sq=mt,oq=Qt.Graph,aq={debugOrdering:lq};function lq(e){var t=sq.buildLayerMatrix(e),n=new oq({compound:!0,multigraph:!0}).setGraph({});return Io.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Io.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Io.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),Io.reduce(r,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var uq="0.8.5",cq={graphlib:Qt,layout:M8,debug:aq,util:{time:mt.time,notime:mt.notime},version:uq};const jb=Im(cq),m0=N.memo(({data:e,agentStatuses:t={}})=>{const[n,r]=N.useState(!1),i=u=>u?u.includes("P0")?"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)":u.includes("P1")?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #fcd34d 100%)":u.includes("P2")?"linear-gradient(135deg, #3b82f6 0%, #60a5fa 50%, #93c5fd 100%)":"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)":"linear-gradient(135deg, #9ca3af 0%, #d1d5db 100%)",s=u=>u?u.includes("P0")?"0 0 15px rgba(239, 68, 68, 0.3)":u.includes("P1")?"0 0 15px rgba(245, 158, 11, 0.3)":u.includes("P2")?"0 0 15px rgba(59, 130, 246, 0.3)":"0 0 15px rgba(16, 185, 129, 0.3)":"0 0 10px rgba(156, 163, 175, 0.2)",o=u=>u?u.includes("P0")?"🔥":u.includes("P1")?"⚡":u.includes("P2")?"💎":"✨":"📋",a=u=>({coordinator:{icon:"🎯",name:"Coordinator",color:"#8B5CF6"},codegen:{icon:"💻",name:"CodeGen",color:"#3B82F6"},review:{icon:"👀",name:"Review",color:"#10B981"},pr:{icon:"🔀",name:"PR",color:"#F59E0B"},deployment:{icon:"🚀",name:"Deploy",color:"#EC4899"},test:{icon:"🧪",name:"Test",color:"#6366F1"}})[u]||{icon:"🤖",name:u,color:"#6B7280"},l=u=>{switch(u){case"running":return"#10B981";case"completed":return"#22C55E";case"error":return"#EF4444";default:return"#6B7280"}};return f.jsxs("div",{className:"relative min-w-[280px] transition-all duration-300",style:{filter:`drop-shadow(${s(e.priority)})`},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[f.jsx(pt,{type:"target",position:Z.Left,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-3 !h-3 !border-2 !border-white !shadow-md transition-all duration-200 hover:!scale-110"}),f.jsx("div",{className:"relative rounded-xl p-[2px] transition-all duration-300",style:{background:i(e.priority),transform:n?"scale(1.02) translateY(-2px)":"scale(1)"},children:f.jsx("div",{className:"relative rounded-xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-3 shadow-lg",children:f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[f.jsx("div",{className:"text-xl",children:o(e.priority)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[f.jsxs("h3",{className:"text-sm font-bold text-gray-800",children:["#",e.number]}),e.priority&&f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide bg-gray-800 text-white",children:e.priority.split(":")[1]||e.priority})]}),f.jsx("p",{className:"text-xs text-gray-700 font-medium leading-snug line-clamp-2",children:e.title})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.state&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-indigo-100 text-indigo-700 text-[10px] font-semibold uppercase tracking-wide",children:e.state.includes(":")?e.state.split(":")[1]:e.state})}),e.assignedAgents&&e.assignedAgents.length>0&&f.jsx("div",{className:"mt-2 space-y-1",children:e.assignedAgents.map(u=>{const c=a(u),d=t[u]||{status:"idle"},h=d.status==="running",p=d.progress||0;return f.jsxs("div",{className:"relative flex items-center gap-1 p-1 rounded transition-all duration-200",style:{background:h?`linear-gradient(90deg, ${c.color}08 0%, ${c.color}03 100%)`:"linear-gradient(90deg, #f9fafb 0%, #f3f4f6 100%)",border:h?`1px solid ${c.color}40`:"1px solid #e5e7eb",boxShadow:h?`0 0 2px ${c.color}10`:"none"},children:[f.jsx("div",{className:"flex-shrink-0 text-sm",style:{filter:h?`drop-shadow(0 0 1px ${c.color}40)`:"none"},children:c.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-1",children:[f.jsx("span",{className:"text-[9px] font-semibold text-gray-600 truncate",children:c.name}),h&&f.jsxs("span",{className:"text-[9px] font-bold",style:{color:c.color},children:[p,"%"]})]}),h&&f.jsx("div",{className:"mt-0.5 h-0.5 w-full rounded-full bg-gray-200 overflow-hidden",children:f.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${p}%`,background:`linear-gradient(90deg, ${c.color}, ${c.color}dd)`,boxShadow:`0 0 1px ${c.color}20`}})})]}),f.jsx("div",{className:"flex-shrink-0 w-1 h-1 rounded-full",style:{backgroundColor:l(d.status),boxShadow:h?`0 0 1px ${l(d.status)}30`:"none"}})]},u)})})]})})}),f.jsx(pt,{type:"source",position:Z.Right,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-3 !h-3 !border-2 !border-white !shadow-md transition-all duration-200 hover:!scale-110"})]})});m0.displayName="IssueNode";const qa={coordinator:{id:"coordinator",name:"CoordinatorAgent",emoji:"🎯",color:"#FF79C6",description:"Task orchestration and DAG decomposition"},codegen:{id:"codegen",name:"CodeGenAgent",emoji:"💻",color:"#00D9FF",description:"AI-driven code generation"},review:{id:"review",name:"ReviewAgent",emoji:"👀",color:"#00FF88",description:"Code quality review and scoring"},issue:{id:"issue",name:"IssueAgent",emoji:"📋",color:"#8B88FF",description:"Issue analysis and labeling"},pr:{id:"pr",name:"PRAgent",emoji:"🔀",color:"#FF79C6",description:"Pull request management"},deployment:{id:"deployment",name:"DeploymentAgent",emoji:"🚀",color:"#FF4444",description:"CI/CD deployment automation"},test:{id:"test",name:"TestAgent",emoji:"🧪",color:"#FBCA04",description:"Automated testing"}},dq={pending:{name:"state:pending",emoji:"📥",color:"#E4E4E4",description:"Issue created, awaiting triage"},analyzing:{name:"state:analyzing",emoji:"🔍",color:"#0E8A16",description:"CoordinatorAgent analyzing"},implementing:{name:"state:implementing",emoji:"🏗️",color:"#1D76DB",description:"Specialist Agents working"},reviewing:{name:"state:reviewing",emoji:"👀",color:"#FBCA04",description:"ReviewAgent conducting checks"},done:{name:"state:done",emoji:"✅",color:"#2EA44F",description:"Completed successfully"},blocked:{name:"state:blocked",emoji:"🔴",color:"#D73A4A",description:"Blocked - requires intervention"},failed:{name:"state:failed",emoji:"🛑",color:"#B60205",description:"Execution failed"},paused:{name:"state:paused",emoji:"⏸️",color:"#D4C5F9",description:"Paused - waiting"}};function Rb(e){if(typeof window>"u"||typeof window.matchMedia!="function")return!1;try{return window.matchMedia(e).matches}catch{return!1}}function Ai(){const[e,t]=N.useState(()=>Rb("(prefers-reduced-motion: reduce)")),[n,r]=N.useState(()=>Rb("(prefers-contrast: more)"));return N.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const i=document.documentElement,s=d=>{const h=d.matches;t(h),i.setAttribute("data-motion",h?"reduced":"normal")},o=d=>{const h=d.matches;r(h),i.setAttribute("data-contrast",h?"high":"standard")},a=window.matchMedia("(prefers-reduced-motion: reduce)"),l=window.matchMedia("(prefers-contrast: more)");s(a),o(l);const u=d=>s(d),c=d=>o(d);return a.addEventListener("change",u),l.addEventListener("change",c),()=>{a.removeEventListener("change",u),l.removeEventListener("change",c),i.removeAttribute("data-motion"),i.removeAttribute("data-contrast")}},[]),{prefersReducedMotion:e,prefersHighContrast:n}}const g0=N.memo(({data:e})=>{const t=qa[e.agentId],[n,r]=N.useState(!0),[i,s]=N.useState(!1),{prefersReducedMotion:o,prefersHighContrast:a}=Ai(),l=!o,u=a?"text-gray-100":"text-gray-300",c=a?"border-white/50":"border-purple-400/30",d=()=>{switch(e.status){case"running":return a?"0 0 32px rgba(147, 197, 253, 0.85)":"0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(139, 92, 246, 0.5), 0 0 120px rgba(139, 92, 246, 0.3)";case"completed":return a?"0 0 32px rgba(74, 222, 128, 0.9)":"0 0 40px rgba(16, 185, 129, 0.8), 0 0 80px rgba(16, 185, 129, 0.5), 0 0 120px rgba(16, 185, 129, 0.3)";case"error":return a?"0 0 32px rgba(248, 113, 113, 0.9)":"0 0 40px rgba(239, 68, 68, 0.8), 0 0 80px rgba(239, 68, 68, 0.5), 0 0 120px rgba(239, 68, 68, 0.3)";default:return a?"0 0 24px rgba(226, 232, 240, 0.4)":"0 0 20px rgba(107, 114, 128, 0.4), 0 0 40px rgba(107, 114, 128, 0.2)"}},h=N.useMemo(()=>{if(a)switch(e.status){case"running":return"linear-gradient(135deg, #1d4ed8 0%, #312e81 100%)";case"completed":return"linear-gradient(135deg, #047857 0%, #065f46 100%)";case"error":return"linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%)";default:return"linear-gradient(135deg, #1f2937 0%, #111827 100%)"}switch(e.status){case"running":return"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)";case"completed":return"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)";case"error":return"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)";default:return"linear-gradient(135deg, #6b7280 0%, #9ca3af 50%, #d1d5db 100%)"}},[a,e.status]),p=()=>l?e.status==="running"?"scale-pulse":e.status==="completed"?"float":"":"";return f.jsxs("div",{className:`relative w-[460px] transition-all duration-700 ${p()}`,style:{filter:`drop-shadow(${d()})`},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[f.jsx(pt,{type:"target",position:Z.Left,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"}),f.jsx("div",{className:`relative rounded-3xl p-[4px] transition-all duration-700 ${l?"shimmer":""}`,style:{background:h,transform:i?"scale(1.08) translateY(-8px)":e.status==="running"?"scale(1.05)":"scale(1)",backgroundSize:"200% 200%",animation:l&&e.status==="running"?"gradientShift 3s ease infinite":"none"},children:f.jsxs("div",{className:"relative rounded-3xl backdrop-blur-2xl p-7 shadow-2xl",style:{background:a?"linear-gradient(135deg, rgba(15,23,42,0.95) 0%, rgba(2,6,23,0.95) 100%)":"linear-gradient(135deg, rgba(17,24,39,0.95) 0%, rgba(31,41,55,0.95) 100%)",border:a?"1px solid rgba(226,232,240,0.35)":"1px solid rgba(148,163,184,0.20)"},children:[e.status==="running"&&l&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent animate-pulse"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 via-transparent to-pink-600/10",style:{animation:"gradientShift 4s ease infinite"}})]}),f.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-purple-400 rounded-full animate-ping"}),f.jsx("div",{className:"absolute top-8 right-8 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.3s"}}),f.jsx("div",{className:"absolute top-6 right-12 w-1 h-1 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"0.6s"}})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"flex items-start justify-between mb-5",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-6xl relative",style:{filter:e.status==="running"?"drop-shadow(0 0 20px rgba(139, 92, 246, 0.8))":e.status==="completed"?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.8))":"none",animation:e.status==="running"&&l?"scalePulse 2s ease-in-out infinite":"none"},children:(t==null?void 0:t.emoji)||"🤖"}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-xl font-black tracking-wide ${a?"text-gray-50":"text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-100 to-white"}`,style:a?void 0:{backgroundImage:"linear-gradient(135deg, #ffffff 0%, #f5f5f5 50%, #ffffff 100%)"},children:e.name}),f.jsx("p",{className:`text-sm font-medium mt-1 ${u}`,children:t==null?void 0:t.description})]})]})}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.status==="running"&&f.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 ${c} backdrop-blur-sm`,children:[f.jsxs("div",{className:"relative flex items-center justify-center",children:[f.jsx("div",{className:`absolute h-4 w-4 rounded-full bg-purple-500 ${l?"animate-ping":""}`}),f.jsx("div",{className:`absolute h-3 w-3 rounded-full bg-purple-400 ${l?"animate-pulse":""}`}),f.jsx("div",{className:"relative h-2.5 w-2.5 rounded-full bg-white"})]}),f.jsx("span",{className:"text-sm font-bold gradient-text",children:"🔥 RUNNING"})]}),e.status==="idle"&&f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-700/40 border border-gray-600/30",children:[f.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-400"}),f.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"💤 IDLE"})]}),e.status==="completed"&&f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 backdrop-blur-sm",children:[f.jsx("div",{className:"text-xl",children:"✨"}),f.jsx("span",{className:"text-sm font-bold gradient-text-success",children:"COMPLETED"})]}),e.status==="error"&&f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-red-500/20 to-pink-500/20 border border-red-400/30 backdrop-blur-sm",children:[f.jsx("div",{className:"text-xl",children:"⚠️"}),f.jsx("span",{className:"text-sm font-bold gradient-text-error",children:"ERROR"})]})]}),e.currentIssue&&f.jsxs("div",{className:"mb-4 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-indigo-400/20 px-4 py-3 backdrop-blur-sm",children:[f.jsx("div",{className:`text-xs font-bold mb-1 uppercase tracking-wider ${a?"text-indigo-100":"text-indigo-300"}`,children:"📌 Current Task"}),f.jsxs("div",{className:"text-base font-mono font-bold text-white",children:["Issue #",e.currentIssue]})]}),e.status==="running"&&f.jsxs("div",{className:"mb-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:`text-sm font-bold uppercase tracking-wider ${a?"text-gray-100":"text-gray-200"}`,children:"⚡ Progress"}),f.jsxs("span",{className:`text-lg font-black ${a?"text-fuchsia-200":"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"}`,style:a?void 0:{backgroundImage:"linear-gradient(135deg, #c084fc 0%, #f472b6 100%)"},children:[e.progress,"%"]})]}),f.jsxs("div",{className:"relative h-4 rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20"}),f.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 transition-all duration-1000 ease-out shadow-lg",style:{width:`${e.progress}%`,boxShadow:a?"0 0 12px rgba(56, 189, 248, 0.6)":"0 0 20px rgba(139, 92, 246, 0.8), 0 0 40px rgba(236, 72, 153, 0.6)"},children:[l&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]}),e.progress>5&&f.jsx("div",{className:"absolute top-0 h-full w-1 bg-white/80 shadow-lg transition-all duration-1000 ease-out",style:{left:`${e.progress}%`,filter:"drop-shadow(0 0 4px white)"}})]})]}),e.parameters&&Object.keys(e.parameters).length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 border border-purple-400/20 hover:border-purple-400/40 px-4 py-3 transition-all duration-300 group",children:[f.jsxs("span",{className:"text-sm font-bold text-purple-100 uppercase tracking-wider flex items-center gap-2",children:[f.jsx("span",{className:`transition-transform duration-300 ${n?"rotate-90":""}`,children:"▶"}),f.jsx("span",{children:"⚙️ Parameters"})]}),f.jsx("span",{className:"text-xs font-semibold text-purple-300 bg-purple-500/20 px-3 py-1 rounded-full",children:Object.keys(e.parameters).length})]}),n&&f.jsx("div",{className:"mt-3 space-y-3 max-h-56 overflow-y-auto rounded-xl bg-black/40 p-4 border border-purple-500/20 backdrop-blur-sm",children:Object.entries(e.parameters).map(([v,y])=>f.jsxs("div",{className:"relative border-l-4 border-gradient-to-b from-purple-500 to-pink-500 pl-4 py-2 bg-gradient-to-r from-purple-500/5 to-transparent rounded-r-lg",children:[f.jsx("div",{className:"text-xs font-mono font-black text-purple-200 uppercase tracking-wider mb-1",children:v}),f.jsx("div",{className:"text-sm font-mono break-words leading-relaxed text-gray-100",children:typeof y=="object"?JSON.stringify(y,null,2):String(y)})]},v))})]})]})]})}),f.jsx(pt,{type:"source",position:Z.Right,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"})]})});g0.displayName="AgentNode";const y0=N.memo(({data:e})=>{const[t,n]=N.useState(!1),r=s=>{const a=(l=>{const u=parseInt(l.slice(1,3),16),c=parseInt(l.slice(3,5),16),d=parseInt(l.slice(5,7),16);return`${u}, ${c}, ${d}`})(s);return`linear-gradient(135deg, rgba(${a}, 1) 0%, rgba(${a}, 0.7) 50%, rgba(${a}, 0.9) 100%)`},i=s=>{const a=(l=>{const u=parseInt(l.slice(1,3),16),c=parseInt(l.slice(3,5),16),d=parseInt(l.slice(5,7),16);return`${u}, ${c}, ${d}`})(s);return`0 0 30px rgba(${a}, 0.6), 0 0 60px rgba(${a}, 0.3)`};return f.jsxs("div",{className:"relative min-w-[240px] transition-all duration-500 scale-pulse",style:{filter:`drop-shadow(${i(e.color)})`},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[f.jsx(pt,{type:"target",position:Z.Left,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}}),f.jsx("div",{className:"relative rounded-3xl p-[3px] transition-all duration-500 shimmer",style:{background:r(e.color),transform:t?"scale(1.1) translateY(-8px)":"scale(1)"},children:f.jsx("div",{className:"relative rounded-3xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-6 shadow-2xl",children:f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx("div",{className:"text-5xl mb-3 inline-block",style:{animation:e.count>0?"scalePulse 2s ease-in-out infinite":"none",filter:e.count>0?`drop-shadow(0 0 10px ${e.color}80)`:"none"},children:e.emoji}),f.jsx("h3",{className:"text-base font-black text-transparent bg-clip-text mb-3",style:{backgroundImage:`linear-gradient(135deg, ${e.color}, ${e.color}cc)`},children:e.label.includes(":")?e.label.split(":")[1]:e.label}),e.count>0&&f.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl text-2xl font-black text-white shadow-lg mb-3 relative overflow-hidden",style:{background:r(e.color),boxShadow:`0 0 30px ${e.color}60, 0 0 60px ${e.color}30`},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"}),f.jsx("span",{className:"relative z-10",children:e.count})]}),f.jsx("p",{className:"text-xs text-gray-600 font-medium leading-relaxed",children:e.description})]})})}),f.jsx(pt,{type:"source",position:Z.Right,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}})]})});y0.displayName="StateNode";function qk({nodes:e}){const t=N.useMemo(()=>{const n=e.filter(p=>p.type==="issue"),r=e.filter(p=>p.type==="agent"),i=e.filter(p=>p.type==="state"),s={};n.forEach(p=>{const y=p.data.state||"unknown";s[y]=(s[y]||0)+1});const o=r.filter(p=>p.data.status==="running").length,a=r.filter(p=>p.data.status==="idle").length,l=r.filter(p=>p.data.status==="error").length,u=n.filter(p=>{var v;return(v=p.data.priority)==null?void 0:v.includes("P0")}).length,c=n.filter(p=>{var v;return(v=p.data.priority)==null?void 0:v.includes("P1")}).length,d=n.filter(p=>{var y,w;const v=p.data;return((y=v.state)==null?void 0:y.includes("done"))||((w=v.state)==null?void 0:w.includes("completed"))}).length;return{cards:[{label:"Total Issues",value:n.length,icon:"📋",color:"#3B82F6",bgColor:"#EFF6FF"},{label:"Running Agents",value:o,icon:"🤖",color:"#10B981",bgColor:"#D1FAE5"},{label:"Completed",value:d,icon:"✅",color:"#22C55E",bgColor:"#DCFCE7"},{label:"Critical (P0/P1)",value:u+c,icon:"🔥",color:"#EF4444",bgColor:"#FEE2E2"},{label:"Idle Agents",value:a,icon:"💤",color:"#6B7280",bgColor:"#F3F4F6"},{label:"Errors",value:l,icon:"⚠️",color:"#F59E0B",bgColor:"#FEF3C7"}],issuesByState:s,totalAgents:r.length,totalStates:i.length}},[e]);return f.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[f.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:t.cards.map((n,r)=>f.jsx("div",{className:"group relative rounded-2xl p-[2px] transition-all duration-500 hover:scale-110 hover:rotate-1 shimmer",style:{background:`linear-gradient(135deg, ${n.color}, ${n.color}dd)`,animationDelay:`${r*.1}s`},children:f.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 p-4 backdrop-blur-xl",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-3xl transition-transform duration-300 group-hover:scale-125",style:{filter:`drop-shadow(0 0 10px ${n.color}80)`,animation:n.label==="Running Agents"&&typeof n.value=="number"&&n.value>0?"scalePulse 2s ease-in-out infinite":"none"},children:n.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-300",children:n.label}),f.jsx("p",{className:"text-3xl font-black transition-all duration-300 group-hover:scale-110",style:{color:n.color,textShadow:`0 0 20px ${n.color}60`},children:n.value})]})]}),f.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300 group-hover:opacity-100",style:{background:`radial-gradient(circle at 50% 50%, ${n.color}20, transparent 70%)`}})]})},n.label))}),f.jsxs("div",{className:"mt-6 rounded-2xl glass-effect p-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider text-gray-200 flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:"📈"}),f.jsx("span",{children:"Completion Rate"})]}),f.jsx("span",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400",children:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%"})]}),f.jsxs("div",{className:"relative h-4 w-full rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),f.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 transition-all duration-1000 ease-out shadow-lg",style:{width:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%",boxShadow:"0 0 20px rgba(16, 185, 129, 0.8), 0 0 40px rgba(16, 185, 129, 0.6)"},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]})]})]})]})}function fq({selectedNode:e,onClose:t}){const n=N.useMemo(()=>{if(!e)return null;switch(e.type){case"issue":{const r=e.data;return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-4xl",children:"📋"}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Issue #",r.number]}),f.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.title})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),f.jsx("p",{className:"mt-1 rounded bg-gray-100 px-2 py-1 text-sm font-medium",children:r.state||"Unknown"})]}),r.priority&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Priority"}),f.jsx("p",{className:"mt-1 rounded bg-orange-100 px-2 py-1 text-sm font-medium text-orange-800",children:r.priority})]}),r.severity&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Severity"}),f.jsx("p",{className:"mt-1 rounded bg-red-100 px-2 py-1 text-sm font-medium text-red-800",children:r.severity})]}),r.assignedAgents.length>0&&f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Assigned Agents (",r.assignedAgents.length,")"]}),f.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.assignedAgents.map(i=>{const s=qa[i];return f.jsxs("span",{className:"flex items-center gap-1 rounded bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800",children:[(s==null?void 0:s.emoji)||"🤖"," ",(s==null?void 0:s.name)||i]},i)})})]}),r.labels&&r.labels.length>0&&f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Labels (",r.labels.length,")"]}),f.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.labels.map(i=>f.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-800",children:i},i))})]}),f.jsx("div",{children:f.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:[f.jsx("span",{children:"View on GitHub"}),f.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})]})}case"agent":{const r=e.data,i=qa[r.agentId];return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-4xl",children:(i==null?void 0:i.emoji)||"🤖"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),f.jsx("p",{className:"mt-1 text-sm text-gray-600",children:i==null?void 0:i.description})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),f.jsxs("div",{className:"mt-1",children:[r.status==="running"&&f.jsxs("span",{className:"flex items-center gap-2 rounded bg-green-100 px-3 py-1.5 text-sm font-semibold text-green-800",children:[f.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-green-600"}),"Running"]}),r.status==="idle"&&f.jsx("span",{className:"rounded bg-gray-100 px-3 py-1.5 text-sm font-semibold text-gray-800",children:"Idle"}),r.status==="error"&&f.jsx("span",{className:"rounded bg-red-100 px-3 py-1.5 text-sm font-semibold text-red-800",children:"Error"}),r.status==="completed"&&f.jsx("span",{className:"rounded bg-emerald-100 px-3 py-1.5 text-sm font-semibold text-emerald-800",children:"✓ Completed"})]})]}),r.currentIssue&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Current Issue"}),f.jsxs("p",{className:"mt-1 rounded bg-blue-100 px-2 py-1 text-sm font-medium text-blue-800",children:["#",r.currentIssue]})]}),r.status==="running"&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Progress"}),f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"h-3 w-full rounded-full bg-gray-200",children:f.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${r.progress}%`}})}),f.jsxs("p",{className:"mt-1 text-right text-sm font-semibold text-gray-700",children:[r.progress,"%"]})]})]}),r.lastActivity&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Last Activity"}),f.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.lastActivity})]})]})]})}case"state":{const r=e.data;return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-4xl",children:r.emoji}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.label}),f.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.description})]})]}),f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Issues in this state"}),f.jsx("p",{className:"mt-1 inline-block rounded-full px-4 py-2 text-2xl font-bold text-white",style:{backgroundColor:r.color},children:r.count})]})})]})}default:return null}},[e]);return e?f.jsxs("div",{className:"absolute right-0 top-0 z-20 h-full w-80 border-l border-gray-200 bg-white shadow-2xl",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[f.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-500",children:"Details"}),f.jsx("button",{onClick:t,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close sidebar",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"overflow-y-auto p-4",style:{height:"calc(100% - 60px)"},children:n})]}):null}function $k({activities:e,maxItems:t=50}){const{prefersReducedMotion:n,prefersHighContrast:r}=Ai(),i=N.useMemo(()=>e.slice(0,t),[e,t]),s=o=>{try{const a=new Date(o),u=new Date().getTime()-a.getTime(),c=Math.floor(u/1e3),d=Math.floor(c/60),h=Math.floor(d/60);return c<60?`${c}s ago`:d<60?`${d}m ago`:h<24?`${h}h ago`:a.toLocaleString()}catch{return o}};return f.jsxs("div",{className:`glass-effect-dark border-t ${r?"border-white/20":"border-white/10"}`,children:[f.jsx("div",{className:`border-b ${r?"border-white/20":"border-white/10"} px-6 py-3 backdrop-blur-xl`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:`text-base font-black uppercase tracking-wider flex items-center gap-2 ${r?"text-slate-100":"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400"}`,style:r?void 0:{backgroundImage:"linear-gradient(135deg, #60a5fa 0%, #22d3ee 100%)"},children:[f.jsx("span",{className:"text-xl",children:"📊"}),f.jsx("span",{children:"Activity Log"})]}),f.jsxs("span",{className:`glass-effect px-3 py-1 text-xs font-black rounded-full ${r?"text-slate-100":"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"}`,style:r?void 0:{backgroundImage:"linear-gradient(135deg, #c084fc 0%, #f472b6 100%)"},children:[i.length," Events"]})]})}),f.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:i.length===0?f.jsxs("div",{className:"p-10 text-center",children:[f.jsx("div",{className:"text-5xl mb-3",children:"💤"}),f.jsx("p",{className:"text-sm font-semibold text-gray-400",children:"No activity yet"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Waiting for events..."})]}):f.jsx("div",{className:`divide-y ${r?"divide-white/20":"divide-white/5"}`,children:i.map((o,a)=>f.jsxs("div",{className:"group flex items-start gap-4 px-6 py-4 transition-all duration-300 hover:bg-white/5 relative",style:n?void 0:{animation:`fadeIn 0.3s ease-out ${a*.05}s both`},children:[f.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-xl text-xl transition-all duration-300 group-hover:scale-110",style:{background:`linear-gradient(135deg, ${o.color}, ${o.color}dd)`,boxShadow:`0 0 20px ${o.color}40`},children:o.icon}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-white leading-relaxed break-words",children:o.message}),f.jsx("p",{className:"mt-1 text-xs font-semibold text-gray-400",children:s(o.timestamp)})]}),f.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{background:`radial-gradient(circle at 10% 50%, ${o.color}10, transparent 70%)`}})]},o.id))})})]})}const hq=["P0-Critical","P1-High","P2-Medium","P3-Low"];function pq({filters:e,onFilterChange:t,onClose:n}){const[r,i]=N.useState(e),s=c=>{const d=r.states.includes(c)?r.states.filter(h=>h!==c):[...r.states,c];i({...r,states:d})},o=c=>{const d=r.agents.includes(c)?r.agents.filter(h=>h!==c):[...r.agents,c];i({...r,agents:d})},a=c=>{const d=r.priorities.includes(c)?r.priorities.filter(h=>h!==c):[...r.priorities,c];i({...r,priorities:d})},l=()=>{t(r),n()},u=()=>{const c={states:[],agents:[],priorities:[],showOnlyActive:!1};i(c),t(c)};return f.jsxs("div",{className:"absolute left-4 top-24 z-30 w-80 rounded-lg border border-gray-200 bg-white shadow-2xl",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[f.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-700",children:"Filters"}),f.jsx("button",{onClick:n,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close filters",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"States"}),f.jsx("div",{className:"space-y-1",children:Object.entries(dq).map(([c,d])=>f.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[f.jsx("input",{type:"checkbox",checked:r.states.includes(d.name),onChange:()=>s(d.name),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("span",{className:"text-lg",children:d.emoji}),f.jsx("span",{className:"flex-1 text-sm text-gray-700",children:d.name.split(":")[1]||d.name})]},c))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Agents"}),f.jsx("div",{className:"space-y-1",children:Object.entries(qa).map(([c,d])=>f.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[f.jsx("input",{type:"checkbox",checked:r.agents.includes(d.id),onChange:()=>o(d.id),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),f.jsx("span",{className:"text-lg",children:d.emoji}),f.jsx("span",{className:"flex-1 text-sm text-gray-700",children:d.name})]},c))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Priority"}),f.jsx("div",{className:"space-y-1",children:hq.map(c=>f.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[f.jsx("input",{type:"checkbox",checked:r.priorities.includes(c),onChange:()=>a(c),className:"h-4 w-4 rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),f.jsx("span",{className:"flex-1 text-sm text-gray-700",children:c})]},c))})]}),f.jsx("div",{className:"mb-4",children:f.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded bg-blue-50 p-3",children:[f.jsx("input",{type:"checkbox",checked:r.showOnlyActive,onChange:c=>i({...r,showOnlyActive:c.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("span",{className:"flex-1 text-sm font-medium text-blue-900",children:"Show only active items"})]})})]}),f.jsxs("div",{className:"flex gap-2 border-t border-gray-200 p-4",children:[f.jsx("button",{onClick:u,className:"flex-1 rounded border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Reset"}),f.jsx("button",{onClick:l,className:"flex-1 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:"Apply"})]})]})}const Ki=[{id:"discovery",name:"Task Discovery",nameJa:"タスク発見",description:"GitHubからIssueを読み込んで、処理すべきタスクを発見します",icon:"📥",color:"#6366F1"},{id:"analysis",name:"Analysis",nameJa:"分析",description:"CoordinatorAgentがIssueを分析し、タイプ・優先度・複雑度を判定します",icon:"🔍",color:"#10B981"},{id:"decomposition",name:"Task Decomposition",nameJa:"タスク分解",description:"Issueを複数のサブタスクに分解し、実行可能な単位にします",icon:"🧩",color:"#F59E0B"},{id:"assignment",name:"Agent Assignment",nameJa:"Agent割り当て",description:"各サブタスクに最適なSpecialist Agentを選択・割り当てます",icon:"🎯",color:"#8B5CF6"},{id:"execution",name:"Execution",nameJa:"実行",description:"Specialist Agentがタスクを実行し、コード生成・レビュー・PRを作成します",icon:"💻",color:"#EC4899"}];function mq({currentStage:e,completedStages:t}){var r;const n=N.useMemo(()=>e?Ki.findIndex(i=>i.id===e):-1,[e]);return f.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:"🚀"}),f.jsx("span",{children:"自律ワークフロー / Autonomous Workflow"})]}),f.jsx("p",{className:"text-sm text-gray-300 mt-1 font-medium",children:e?((r=Ki.find(i=>i.id===e))==null?void 0:r.description)||"Processing...":"Waiting for tasks..."})]}),n>=0&&f.jsxs("div",{className:"rounded-full glass-effect px-4 py-2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:["Step ",n+1," / ",Ki.length]})]}),f.jsx("div",{className:"flex items-center gap-2",children:Ki.map((i,s)=>{const o=t.includes(i.id),a=e===i.id;return f.jsxs("div",{className:"flex flex-1 items-center",children:[f.jsx("div",{className:`relative flex flex-1 flex-col items-center rounded-2xl p-[2px] transition-all duration-500 ${a?"scale-110 shimmer":o?"scale-105":"opacity-60 scale-95"}`,style:{background:a?`linear-gradient(135deg, ${i.color}, ${i.color}dd)`:o?"linear-gradient(135deg, #10b981, #34d399)":"linear-gradient(135deg, #6b7280, #9ca3af)",filter:a?`drop-shadow(0 0 20px ${i.color}80)`:o?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.6))":"none"},children:f.jsxs("div",{className:"w-full rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl p-4",children:[f.jsxs("div",{className:"relative mb-3 flex justify-center",children:[f.jsx("span",{className:"text-4xl transition-transform duration-300",style:{animation:a?"scalePulse 2s ease-in-out infinite":"none",filter:a?`drop-shadow(0 0 15px ${i.color})`:o?"drop-shadow(0 0 10px rgba(16, 185, 129, 0.8))":"none"},children:i.icon}),o&&f.jsx("div",{className:"absolute -right-2 -top-1 flex h-7 w-7 items-center justify-center rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm text-white font-bold shadow-lg",children:"✓"}),a&&f.jsxs("div",{className:"absolute -right-2 -top-1",children:[f.jsx("div",{className:"h-4 w-4 animate-ping rounded-full",style:{backgroundColor:i.color}}),f.jsx("div",{className:"absolute top-0 h-4 w-4 rounded-full",style:{backgroundColor:i.color}})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-sm font-black mb-1 ${a||o?"text-white":"text-gray-400"}`,children:i.nameJa}),f.jsx("div",{className:`text-[10px] font-semibold ${a||o?"text-gray-300":"text-gray-500"}`,children:i.name})]}),a&&f.jsx("div",{className:"mt-3 h-1.5 w-full overflow-hidden rounded-full bg-gray-700/50",children:f.jsx("div",{className:"h-full animate-pulse rounded-full shadow-lg",style:{background:`linear-gradient(90deg, ${i.color}, ${i.color}dd, ${i.color})`,boxShadow:`0 0 10px ${i.color}80`,width:"100%"},children:f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"})})})]})}),s<Ki.length-1&&f.jsx("div",{className:"flex-shrink-0 px-3",children:f.jsx("svg",{className:`h-8 w-8 transition-all duration-300 ${o?"text-green-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{filter:o?"drop-shadow(0 0 4px rgba(16, 185, 129, 0.6))":"none"},children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})})]},i.id)})})]})}function Fk(e){const[t,n]=N.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(e).matches);return N.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const r=window.matchMedia(e),i=s=>n(s.matches);return n(r.matches),r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[e]),t}function gq({entries:e}){const{prefersHighContrast:t}=Ai(),n=Fk("(max-width: 1280px)"),[r,i]=N.useState(()=>!n),s=e[0];N.useEffect(()=>{i(!n)},[n]),N.useEffect(()=>{const c=document.getElementById("explanation-panel-content");c&&(c.scrollTop=0)},[e]);const o=c=>{switch(c){case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-amber-50 border-amber-200 text-amber-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"thinking":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},a=c=>{switch(c){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";case"thinking":return"💭";default:return"ℹ️"}},l=N.useMemo(()=>n?"fixed inset-x-4 bottom-6 z-30":"fixed right-4 top-20 z-20",[n]),u=n?"w-auto max-w-xl mx-auto":"w-96";return r?f.jsxs("div",{className:`${l} flex flex-col rounded-xl shadow-2xl ${u}`,style:{background:t?"#0f172a":"#ffffff",border:t?"1px solid rgba(148, 163, 184, 0.4)":"1px solid transparent"},children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 rounded-t-xl",style:{background:t?"linear-gradient(135deg, #312e81 0%, #1e293b 100%)":"linear-gradient(135deg, #9333ea 0%, #2563eb 100%)",borderColor:t?"rgba(148, 163, 184, 0.4)":void 0},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:"💡"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-white",children:"リアルタイム解説"}),f.jsx("p",{className:"text-xs text-white/80",children:"今何が起こっているか"})]})]}),f.jsx("button",{onClick:()=>i(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s&&f.jsxs("div",{className:`border-b-2 border-l-4 p-4 ${o(s.type)}`,children:[f.jsxs("div",{className:"mb-2 flex items-start gap-2",children:[f.jsx("span",{className:"text-2xl",children:s.icon||a(s.type)}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"text-sm font-bold",children:s.title}),f.jsx("p",{className:"mt-1 text-xs leading-relaxed",children:s.explanation})]})]}),s.details&&s.details.length>0&&f.jsx("div",{className:"mt-3 space-y-1 border-t pt-2 opacity-80",style:{borderColor:"currentColor"},children:s.details.map((c,d)=>f.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[f.jsx("span",{className:"text-[10px]",children:"▸"}),f.jsx("span",{className:"flex-1",children:c})]},d))}),f.jsx("div",{className:"mt-2 text-right text-[10px] opacity-60",children:new Date(s.timestamp).toLocaleTimeString("ja-JP")})]}),f.jsxs("div",{id:"explanation-panel-content",className:"max-h-96 overflow-y-auto p-4",style:{scrollBehavior:"smooth"},children:[f.jsx("h4",{className:"mb-3 text-xs font-semibold text-gray-500",children:"履歴 / History"}),f.jsx("div",{className:"space-y-3",children:e.slice(1,10).map(c=>f.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 transition-all hover:shadow-md",children:[f.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:c.icon||a(c.type)}),f.jsx("span",{className:"flex-1 text-xs font-semibold text-gray-700",children:c.title}),f.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(c.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),f.jsx("p",{className:"text-xs text-gray-600",children:c.explanation})]},c.id))}),e.length===0&&f.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-200 p-6 text-center",children:[f.jsx("span",{className:"mb-2 block text-3xl",children:"🤖"}),f.jsxs("p",{className:"text-xs text-gray-500",children:["タスクを待機中...",f.jsx("br",{}),"Issueが追加されると自動的に処理が開始されます"]})]})]})]}):f.jsx("div",{className:l,style:{maxWidth:n?"min(92vw, 24rem)":void 0},children:f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[f.jsx("span",{className:"text-xl",children:"💡"}),f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"解説を表示"})]})})}function yq(){const[e,t]=N.useState(!1),{prefersHighContrast:n}=Ai(),r=Fk("(max-width: 1280px)"),i=r?"fixed bottom-6 right-4 z-20":"fixed bottom-20 left-4 z-20",s=r?"fixed bottom-6 inset-x-4 z-30":"fixed bottom-20 left-4 z-20",o=r?"w-auto max-w-md mx-auto":"w-80",a=n?{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(226, 232, 240, 0.35)"}:{background:"rgba(255, 255, 255, 1)",border:"1px solid rgba(229, 231, 235, 1)"};return e?f.jsxs("div",{className:`${s} ${o} rounded-xl shadow-2xl`,style:a,children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 rounded-t-xl",style:{background:n?"linear-gradient(135deg, #1f2937 0%, #0f172a 100%)":"linear-gradient(135deg, #a855f7 0%, #6366f1 100%)",borderColor:n?"rgba(226, 232, 240, 0.35)":void 0},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:"📖"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-white",children:"凡例 / Legend"}),f.jsx("p",{className:"text-xs text-white/80",children:"各要素の意味"})]})]}),f.jsx("button",{onClick:()=>t(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[f.jsxs("section",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"ノードの種類"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[f.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white shadow",children:f.jsx("span",{className:"text-xl",children:"📋"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue Node"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"GitHubから読み込んだタスク"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[f.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-900 shadow",children:f.jsx("span",{className:"text-xl",children:"🤖"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent Node"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行するAIエージェント"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[f.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 shadow",children:f.jsx("span",{className:"text-xl",children:"📊"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Node"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクの状態（pending, done等）"})]})]})]})]}),f.jsxs("section",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの状態"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[f.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"IDLE（待機中）"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを待っている状態"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[f.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"RUNNING（実行中）"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行中。プログレスバー表示"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[f.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"COMPLETED（完了）"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスク完了。3秒後にIDLEへ"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-red-50 p-2",children:[f.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"ERROR（エラー）"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"実行中にエラーが発生"})]})]})]})]}),f.jsxs("section",{className:"mb-4",children:[f.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"接続線の種類"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-orange-50 p-2",children:[f.jsx("div",{className:"h-0.5 w-8 animate-pulse bg-red-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue → Agent"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"Issueが割り当てられた時にアニメーション"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[f.jsx("div",{className:"h-0.5 w-8 bg-purple-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent → State"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"Agentが状態を更新"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[f.jsx("div",{className:"h-0.5 w-8 border-t-2 border-dashed border-gray-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Flow"}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"状態遷移の流れ（pending → done）"})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの役割"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"rounded-lg bg-red-50 p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"🎯"}),f.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CoordinatorAgent"})]}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを分析・分解し、最適なAgentに割り当て"})]}),f.jsxs("div",{className:"rounded-lg bg-purple-50 p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"💻"}),f.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CodeGenAgent"})]}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"AIでコードを自動生成（Claude Sonnet 4使用）"})]}),f.jsxs("div",{className:"rounded-lg bg-blue-50 p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"👀"}),f.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"ReviewAgent"})]}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"コード品質をレビューしスコアリング（100点満点）"})]}),f.jsxs("div",{className:"rounded-lg bg-green-50 p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"📝"}),f.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"PRAgent"})]}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"Pull Requestを自動作成（Conventional Commits準拠）"})]}),f.jsxs("div",{className:"rounded-lg bg-yellow-50 p-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"🚀"}),f.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"DeploymentAgent"})]}),f.jsx("div",{className:"text-[10px] text-gray-600",children:"Firebase/Vercel/AWSに自動デプロイ"})]})]})]})]})]}):f.jsx("div",{className:i,children:f.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[f.jsx("span",{className:"text-xl",children:"📖"}),f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"凡例を表示"})]})})}function vq({agentId:e,agentName:t,thinking:n,position:r,status:i}){const[s,o]=N.useState(!1),[a,l]=N.useState(""),[u,c]=N.useState("");if(N.useEffect(()=>{i==="running"&&n?(o(!0),l(n)):o(!1)},[i,n]),N.useEffect(()=>{if(!s)return;const v=setInterval(()=>{c(y=>y.length>=3?"":y+".")},500);return()=>clearInterval(v)},[s]),!s||!n)return null;const d=r.x+75,h=r.y-80,p=i==="running"?"#8B5CF6":"#10B981";return f.jsxs("div",{className:"pointer-events-none absolute z-30 transition-all duration-300",style:{left:`${d}px`,top:`${h}px`,transform:"translate(-50%, 0)"},children:[f.jsxs("div",{className:"relative rounded-2xl px-4 py-3 shadow-2xl backdrop-blur-sm",style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.95), rgba(124, 58, 237, 0.95))",animation:"bubble-float 2s ease-in-out infinite"},children:[f.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[f.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full text-xs",style:{backgroundColor:p},children:"🤖"}),f.jsx("span",{className:"text-xs font-bold text-white",children:t})]}),f.jsxs("p",{className:"text-sm font-medium text-white",children:[a,f.jsx("span",{className:"inline-block w-6 text-left",children:u})]}),f.jsx("div",{className:"absolute left-1/2 top-full h-0 w-0 -translate-x-1/2 border-8 border-transparent",style:{borderTopColor:"rgba(124, 58, 237, 0.95)"}}),f.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"8px",height:"8px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 8px)"}}),f.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"5px",height:"5px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 18px)"}})]}),f.jsx("style",{children:`
        @keyframes bubble-float {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-5px);
          }
        }
      `})]})}function xq({bubbles:e}){return f.jsx(f.Fragment,{children:e.map(t=>f.jsx(vq,{agentId:t.agentId,agentName:t.agentName,thinking:t.thinking,position:t.position,status:t.status},t.agentId))})}function wq({nodes:e,startTime:t}){const n=N.useMemo(()=>{const r=e.filter(w=>w.type==="agent"),i=e.filter(w=>w.type==="issue"),s=r.filter(w=>w.data.status==="running").length,o=i.length,a=i.filter(w=>{var m;return(m=w.data.state)==null?void 0:m.includes("done")}).length,l=o>0?Math.round(a/o*100):0,u=Math.floor((Date.now()-t.getTime())/1e3),c=Math.floor(u/3600),d=Math.floor(u%3600/60),h=u%60,p=`${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`,v=a>0?"2m 34s":"---";return[{label:"Uptime",labelJa:"稼働時間",value:p,icon:"⏱️",color:"#3B82F6"},{label:"Active Agents",labelJa:"実行中Agent",value:s,icon:"🤖",color:"#8B5CF6",trend:s>0?"up":"stable"},{label:"Success Rate",labelJa:"成功率",value:`${l}%`,icon:"✅",color:l>=80?"#10B981":l>=50?"#F59E0B":"#EF4444",trend:l>=80?"up":l>=50?"stable":"down"},{label:"Tasks Completed",labelJa:"完了タスク",value:`${a}/${o}`,icon:"📊",color:"#6366F1"},{label:"Avg Duration",labelJa:"平均処理時間",value:v,icon:"⚡",color:"#F59E0B"}]},[e,t]);return f.jsxs("div",{className:"fixed right-4 top-4 z-20 w-80",children:[f.jsx("div",{className:"rounded-t-xl bg-gradient-to-r from-blue-600 to-purple-600 p-3 shadow-lg",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:"📊"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-white",children:"System Metrics"}),f.jsx("p",{className:"text-xs text-blue-100",children:"リアルタイムシステム状態"})]})]})}),f.jsxs("div",{className:"rounded-b-xl bg-white/95 p-4 shadow-lg backdrop-blur-sm",children:[f.jsx("div",{className:"space-y-3",children:n.map((r,i)=>f.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-all hover:border-gray-300 hover:shadow-md",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg text-xl",style:{backgroundColor:`${r.color}20`},children:r.icon}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:r.labelJa}),f.jsx("p",{className:"text-xs font-medium text-gray-600",children:r.label})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-bold",style:{color:r.color},children:r.value}),r.trend&&f.jsxs("span",{className:"text-sm",children:[r.trend==="up"&&"📈",r.trend==="down"&&"📉",r.trend==="stable"&&"➡️"]})]})]},i))}),f.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 border-t border-gray-200 pt-3",children:[f.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}),f.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Live Update"})]})]})]})}function _q({edges:e,nodes:t,activeEdgeIds:n}){const[r,i]=N.useState([]),s=N.useRef();N.useEffect(()=>{if(n.length===0){i([]);return}const a=[];n.forEach(l=>{for(let u=0;u<3;u++)a.push({id:`${l}-particle-${u}`,edgeId:l,progress:u*.33,speed:.008+Math.random()*.004,color:"#8B5CF6",size:6+Math.random()*4})}),i(a)},[n]),N.useEffect(()=>{if(r.length===0)return;const a=()=>{i(l=>l.map(u=>{let c=u.progress+u.speed;return c>=1&&(c=0),{...u,progress:c}})),s.current=requestAnimationFrame(a)};return s.current=requestAnimationFrame(a),()=>{s.current&&cancelAnimationFrame(s.current)}},[r.length]);const o=r.map(a=>{const l=e.find(p=>p.id===a.edgeId);if(!l)return null;const u=t.find(p=>p.id===l.source),c=t.find(p=>p.id===l.target);if(!u||!c)return null;const d=u.position.x+(c.position.x-u.position.x)*a.progress+75,h=u.position.y+(c.position.y-u.position.y)*a.progress+50;return{id:a.id,x:d,y:h,color:a.color,size:a.size}});return f.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:o.map(a=>a?f.jsxs("div",{className:"absolute transition-transform duration-100",style:{left:`${a.x}px`,top:`${a.y}px`,width:`${a.size}px`,height:`${a.size}px`,transform:"translate(-50%, -50%)"},children:[f.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 blur-sm",style:{backgroundColor:a.color}}),f.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:a.color,boxShadow:`0 0 ${a.size*2}px ${a.color}`}})]},a.id):null)})}function bq(){const[e,t]=N.useState([]),n=(i,s=3e3)=>{t(o=>[...o,i]),setTimeout(()=>{t(o=>o.filter(a=>a!==i))},s)};return{activeEdgeIds:e,activateEdge:n,activateEdgesForNode:(i,s,o=3e3)=>{s.filter(l=>l.source===i||l.target===i).map(l=>l.id).forEach(l=>{n(l,o)})}}}function Nq({trigger:e,onComplete:t}){const[n,r]=N.useState([]),[i,s]=N.useState(!1);return N.useEffect(()=>{if(!e)return;const o=[],a=["#8B5CF6","#10B981","#F59E0B","#EF4444","#3B82F6","#EC4899"];for(let u=0;u<50;u++)o.push({id:`confetti-${u}`,x:50,y:50,rotation:Math.random()*360,color:a[Math.floor(Math.random()*a.length)],size:8+Math.random()*8,velocityX:(Math.random()-.5)*6,velocityY:-8-Math.random()*4,rotationSpeed:(Math.random()-.5)*10});r(o),s(!0);const l=setTimeout(()=>{s(!1),r([]),t&&t()},3e3);return()=>clearTimeout(l)},[e,t]),N.useEffect(()=>{if(!i)return;let o,a=Date.now();const l=()=>{const u=(Date.now()-a)/1e3;r(c=>c.map(d=>({...d,x:d.x+d.velocityX*.5,y:d.y+d.velocityY*.5+u*9.8*.3,rotation:d.rotation+d.rotationSpeed}))),o=requestAnimationFrame(l)};return o=requestAnimationFrame(l),()=>{o&&cancelAnimationFrame(o)}},[i]),i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 overflow-hidden",children:n.map(o=>f.jsx("div",{className:"absolute",style:{left:`${o.x}%`,top:`${o.y}%`,width:`${o.size}px`,height:`${o.size}px`,backgroundColor:o.color,transform:`translate(-50%, -50%) rotate(${o.rotation}deg)`,transition:"all 0.05s linear"}},o.id))}),f.jsx("div",{className:"pointer-events-none fixed inset-0 z-40 flex items-center justify-center",children:f.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-6 text-center shadow-2xl",style:{animation:"celebration-pulse 0.5s ease-out"},children:[f.jsx("div",{className:"mb-2 text-6xl",children:"🎉"}),f.jsx("h2",{className:"mb-1 text-2xl font-bold text-white",children:"タスク完了！"}),f.jsx("p",{className:"text-sm text-green-50",children:"Task Completed Successfully"})]})}),f.jsx("style",{children:`
        @keyframes celebration-pulse {
          0% {
            transform: scale(0.8);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]}):null}function Eq(){const[e,t]=N.useState(!1);return{celebrationTrigger:e,celebrate:()=>{t(!0),setTimeout(()=>{t(!1)},100)}}}function Sq({node:e,onClose:t}){const[n,r]=N.useState([]);if(N.useEffect(()=>{if(!e)return;const l=[];if(e.type==="agent"){const u=e.data;l.push({timestamp:new Date().toISOString(),type:"agent:created",message:`Agent ${u.agentId} initialized`,icon:"🔧"}),u.status==="running"&&l.push({timestamp:new Date().toISOString(),type:"agent:started",message:`Started working on Issue #${u.currentIssue}`,icon:"🚀"}),u.status==="completed"&&l.push({timestamp:new Date().toISOString(),type:"agent:completed",message:"Task completed successfully",icon:"✅"})}else if(e.type==="issue"){const u=e.data;l.push({timestamp:new Date().toISOString(),type:"issue:created",message:`Issue #${u.number} created: ${u.title}`,icon:"📝"}),u.state&&l.push({timestamp:new Date().toISOString(),type:"state:transition",message:`State changed to: ${u.state}`,icon:"🔄"})}r(l.reverse())},[e]),!e)return null;const i=e.data,s=()=>e.type==="agent"?"🤖":e.type==="issue"?"📋":e.type==="state"?"🔵":"❓",o=()=>e.type==="agent"?`${i.name||i.agentId}`:e.type==="issue"?`Issue #${i.number}`:e.type==="state"?i.name||"State Node":"Unknown Node",a=()=>{if(e.type==="agent"){const l=i.status||"idle",u={idle:"bg-gray-500",running:"bg-purple-500",completed:"bg-green-500",error:"bg-red-500"};return f.jsx("span",{className:`${u[l]} rounded-full px-3 py-1 text-xs font-bold text-white`,children:l.toUpperCase()})}return null};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:t}),f.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white shadow-2xl",children:[f.jsxs("div",{className:"flex items-center justify-between rounded-t-2xl bg-gradient-to-r from-purple-600 to-blue-600 p-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-4xl",children:s()}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:o()}),f.jsxs("p",{className:"text-sm text-purple-100",children:[e.type==="issue"&&i.title,e.type==="agent"&&`Specialist Agent - ${i.agentId}`]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[a(),f.jsx("button",{onClick:t,className:"rounded-full bg-white/20 p-2 text-white transition-colors hover:bg-white/30",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:[f.jsxs("div",{className:"mb-6 rounded-lg bg-gray-50 p-4",children:[f.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"基本情報"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Node ID"}),f.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.id})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Type"}),f.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.type})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Position"}),f.jsxs("p",{className:"font-mono text-sm text-gray-900",children:["(",Math.round(e.position.x),", ",Math.round(e.position.y),")"]})]})]})]}),e.type==="agent"&&f.jsxs("div",{className:"mb-6 rounded-lg bg-purple-50 p-4",children:[f.jsx("h3",{className:"mb-3 text-sm font-bold text-purple-900",children:"Agent 詳細"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-purple-700",children:"Agent ID"}),f.jsx("p",{className:"font-mono text-sm text-purple-900",children:i.agentId})]}),i.currentIssue&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-purple-700",children:"Current Issue"}),f.jsxs("p",{className:"font-mono text-sm text-purple-900",children:["#",i.currentIssue]})]}),i.progress!==void 0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-purple-700",children:"Progress"}),f.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-purple-200",children:f.jsx("div",{className:"h-2 rounded-full bg-purple-600 transition-all duration-300",style:{width:`${i.progress}%`}})}),f.jsxs("p",{className:"mt-1 text-right text-xs text-purple-700",children:[i.progress,"%"]})]}),i.parameters&&Object.keys(i.parameters).length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs text-purple-700",children:"Parameters"}),f.jsx("pre",{className:"max-h-32 overflow-auto rounded bg-purple-900 p-2 text-xs text-purple-50",children:JSON.stringify(i.parameters,null,2)})]})]})]}),e.type==="issue"&&f.jsxs("div",{className:"mb-6 rounded-lg bg-blue-50 p-4",children:[f.jsx("h3",{className:"mb-3 text-sm font-bold text-blue-900",children:"Issue 詳細"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-blue-700",children:"Number"}),f.jsxs("p",{className:"font-mono text-sm text-blue-900",children:["#",i.number]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-blue-700",children:"Title"}),f.jsx("p",{className:"text-sm text-blue-900",children:i.title})]}),i.state&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-blue-700",children:"State"}),f.jsx("p",{className:"font-mono text-sm text-blue-900",children:i.state})]}),i.priority&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-blue-700",children:"Priority"}),f.jsx("p",{className:"font-mono text-sm text-blue-900",children:i.priority})]})]})]}),f.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[f.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"イベント履歴"}),f.jsx("div",{className:"space-y-2",children:n.length===0?f.jsx("p",{className:"text-sm text-gray-500",children:"No events recorded yet"}):n.map((l,u)=>f.jsxs("div",{className:"flex items-start gap-3 rounded border border-gray-200 bg-white p-3",children:[f.jsx("span",{className:"text-xl",children:l.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.message}),f.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleString("ja-JP")})]}),f.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600",children:l.type})]},u))})]})]}),f.jsx("div",{className:"flex justify-end gap-3 rounded-b-2xl border-t border-gray-200 bg-gray-50 p-4",children:f.jsx("button",{onClick:t,className:"rounded-lg bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-300",children:"閉じる"})})]})]})}function kq({steps:e,onComplete:t,onSkip:n}){const[r,i]=N.useState(0),[s,o]=N.useState(!1),[a,l]=N.useState({top:0,left:0});N.useEffect(()=>{if(!localStorage.getItem("miyabi-dashboard-tour-completed")){const g=setTimeout(()=>{o(!0),u()},1e3);return()=>clearTimeout(g)}},[]),N.useEffect(()=>{s&&u()},[r,s]);const u=()=>{const m=e[r];if(!m)return;const g=document.querySelector(m.target);if(!g){console.warn(`Tour target not found: ${m.target}`);return}const x=g.getBoundingClientRect(),_=m.placement||"bottom";let E=0,S=0;switch(_){case"top":E=x.top-20,S=x.left+x.width/2;break;case"bottom":E=x.bottom+20,S=x.left+x.width/2;break;case"left":E=x.top+x.height/2,S=x.left-20;break;case"right":E=x.top+x.height/2,S=x.right+20;break}return l({top:E,left:S}),g.classList.add("tour-highlight"),()=>{g.classList.remove("tour-highlight")}},c=()=>{r<e.length-1?i(r+1):h()},d=()=>{r>0&&i(r-1)},h=()=>{localStorage.setItem("miyabi-dashboard-tour-completed","true"),o(!1),t==null||t()},p=()=>{localStorage.setItem("miyabi-dashboard-tour-completed","true"),o(!1),n==null||n()};if(!s||!e[r])return null;const v=e[r],y=r===0,w=r===e.length-1;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:p}),f.jsxs("div",{className:"fixed z-50 w-80 rounded-lg bg-white shadow-2xl",style:{top:`${a.top}px`,left:`${a.left}px`,transform:"translate(-50%, 0)"},children:[f.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:v.title}),f.jsxs("p",{className:"text-xs text-gray-500",children:["Step ",r+1," of ",e.length]})]}),f.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition","aria-label":"Skip tour",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsx("div",{className:"px-6 py-4",children:f.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:v.content})}),f.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-6 py-4",children:[f.jsx("button",{onClick:p,className:"text-sm font-medium text-gray-600 hover:text-gray-900 transition",children:"Skip Tour"}),f.jsxs("div",{className:"flex gap-2",children:[!y&&f.jsx("button",{onClick:d,className:"rounded bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 transition",children:"Previous"}),f.jsx("button",{onClick:c,className:"rounded bg-gradient-to-r from-purple-600 to-blue-600 px-4 py-2 text-sm font-medium text-white hover:from-purple-700 hover:to-blue-700 transition shadow-md",children:w?"Finish":"Next"})]})]}),f.jsx("div",{className:"flex justify-center gap-1.5 pb-4",children:e.map((m,g)=>f.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition ${g===r?"bg-purple-600 w-6":g<r?"bg-purple-300":"bg-gray-300"}`},g))})]}),f.jsx("style",{children:`
        .tour-highlight {
          position: relative;
          z-index: 45;
          box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.5),
                      0 0 0 8px rgba(147, 51, 234, 0.3),
                      0 0 0 12px rgba(147, 51, 234, 0.1);
          border-radius: 8px;
          animation: tour-pulse 2s ease-in-out infinite;
        }

        @keyframes tour-pulse {
          0%, 100% {
            box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.5),
                        0 0 0 8px rgba(147, 51, 234, 0.3),
                        0 0 0 12px rgba(147, 51, 234, 0.1);
          }
          50% {
            box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.6),
                        0 0 0 10px rgba(147, 51, 234, 0.4),
                        0 0 0 16px rgba(147, 51, 234, 0.2);
          }
        }
      `})]})}function Cq({stages:e,currentStage:t=0}){return f.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50",children:f.jsxs("div",{className:"w-96 rounded-lg bg-white p-8 shadow-2xl",children:[f.jsx("div",{className:"mb-6 flex justify-center",children:f.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-purple-600 to-blue-600 text-3xl shadow-lg",children:"🤖"})}),f.jsx("h2",{className:"mb-2 text-center text-xl font-bold text-gray-900",children:"Miyabi Dashboard"}),f.jsx("p",{className:"mb-6 text-center text-sm text-gray-600",children:"Initializing real-time agent visualization"}),f.jsx("div",{className:"space-y-3",children:e.map((n,r)=>{const i=r<t,s=r===t;return f.jsxs("div",{className:`flex items-center gap-3 rounded-lg p-3 transition ${s?"bg-purple-50 border border-purple-200":i?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[f.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-bold ${i?"bg-green-500 text-white":s?"bg-purple-600 text-white":"bg-gray-300 text-gray-600"}`,children:i?"✓":r+1}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:`text-sm font-medium ${i?"text-green-700":s?"text-purple-700":"text-gray-500"}`,children:n})}),s&&f.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-purple-600 border-t-transparent"})]},r)})}),f.jsxs("div",{className:"mt-6",children:[f.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-blue-600 transition-all duration-500",style:{width:`${(t+1)/e.length*100}%`}})}),f.jsxs("p",{className:"mt-2 text-center text-xs text-gray-500",children:[t+1," of ",e.length," complete"]})]})]})})}const ln=Object.create(null);ln.open="0";ln.close="1";ln.ping="2";ln.pong="3";ln.message="4";ln.upgrade="5";ln.noop="6";const Qo=Object.create(null);Object.keys(ln).forEach(e=>{Qo[ln[e]]=e});const km={type:"error",data:"parser error"},Dk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zk=typeof ArrayBuffer=="function",Bk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,v0=({type:e,data:t},n,r)=>Dk&&t instanceof Blob?n?r(t):Tb(t,r):zk&&(t instanceof ArrayBuffer||Bk(t))?n?r(t):Tb(new Blob([t]),r):r(ln[e]+(t||"")),Tb=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Ab(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let dp;function jq(e,t){if(Dk&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ab).then(t);if(zk&&(e.data instanceof ArrayBuffer||Bk(e.data)))return t(Ab(e.data));v0(e,!1,n=>{dp||(dp=new TextEncoder),t(dp.encode(n))})}const Ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",us=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ib.length;e++)us[Ib.charCodeAt(e)]=e;const Rq=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)s=us[e.charCodeAt(r)],o=us[e.charCodeAt(r+1)],a=us[e.charCodeAt(r+2)],l=us[e.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return u},Tq=typeof ArrayBuffer=="function",x0=(e,t)=>{if(typeof e!="string")return{type:"message",data:Hk(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Aq(e.substring(1),t)}:Qo[n]?e.length>1?{type:Qo[n],data:e.substring(1)}:{type:Qo[n]}:km},Aq=(e,t)=>{if(Tq){const n=Rq(e);return Hk(n,t)}else return{base64:!0,data:e}},Hk=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Uk="",Iq=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{v0(s,!1,a=>{r[o]=a,++i===n&&t(r.join(Uk))})})},Pq=(e,t)=>{const n=e.split(Uk),r=[];for(let i=0;i<n.length;i++){const s=x0(n[i],t);if(r.push(s),s.type==="error")break}return r};function Mq(){return new TransformStream({transform(e,t){jq(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let fp;function Po(e){return e.reduce((t,n)=>t+n.length,0)}function Mo(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Oq(e,t){fp||(fp=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Po(n)<1)break;const l=Mo(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Po(n)<2)break;const l=Mo(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Po(n)<8)break;const l=Mo(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(km);break}i=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Po(n)<i)break;const l=Mo(n,i);a.enqueue(x0(s?l:fp.decode(l),t)),r=0}if(i===0||i>e){a.enqueue(km);break}}}})}const Vk=4;function Oe(e){if(e)return Lq(e)}function Lq(e){for(var t in Oe.prototype)e[t]=Oe.prototype[t];return e}Oe.prototype.on=Oe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Oe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Oe.prototype.off=Oe.prototype.removeListener=Oe.prototype.removeAllListeners=Oe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Oe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Oe.prototype.emitReserved=Oe.prototype.emit;Oe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Oe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Rl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qq="arraybuffer";function Gk(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const $q=jt.setTimeout,Fq=jt.clearTimeout;function Tl(e,t){t.useNativeTimers?(e.setTimeoutFn=$q.bind(jt),e.clearTimeoutFn=Fq.bind(jt)):(e.setTimeoutFn=jt.setTimeout.bind(jt),e.clearTimeoutFn=jt.clearTimeout.bind(jt))}const Dq=1.33;function zq(e){return typeof e=="string"?Bq(e):Math.ceil((e.byteLength||e.size)*Dq)}function Bq(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Wk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Hq(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Uq(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class Vq extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class w0 extends Oe{constructor(t){super(),this.writable=!1,Tl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Vq(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=x0(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Hq(t);return n.length?"?"+n:""}}class Gq extends w0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Pq(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Iq(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Wk()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Kk=!1;try{Kk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wq=Kk;function Kq(){}class Yq extends Gq{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class an extends Oe{constructor(t,n,r){super(),this.createRequest=t,Tl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Gk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=an.requestsCount++,an.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Kq,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete an.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}an.requestsCount=0;an.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pb);else if(typeof addEventListener=="function"){const e="onpagehide"in jt?"pagehide":"unload";addEventListener(e,Pb,!1)}}function Pb(){for(let e in an.requests)an.requests.hasOwnProperty(e)&&an.requests[e].abort()}const Xq=function(){const e=Yk({xdomain:!1});return e&&e.responseType!==null}();class Qq extends Yq{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Xq&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new an(Yk,this.uri(),t)}}function Yk(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Wq))return new XMLHttpRequest}catch{}if(!t)try{return new jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xk=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Zq extends w0{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Xk?{}:Gk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;v0(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Rl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Wk()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const hp=jt.WebSocket||jt.MozWebSocket;class Jq extends Zq{createSocket(t,n,r){return Xk?new hp(t,n,r):n?new hp(t,n):new hp(t)}doWrite(t,n){this.ws.send(n)}}class e$ extends w0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Oq(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=Mq();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&Rl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const t$={websocket:Jq,webtransport:e$,polling:Qq},n$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cm(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=n$.exec(e||""),s={},o=14;for(;o--;)s[r$[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=i$(s,s.path),s.queryKey=s$(s,s.query),s}function i$(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function s$(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const jm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Zo=[];jm&&addEventListener("offline",()=>{Zo.forEach(e=>e())},!1);class rr extends Oe{constructor(t,n){if(super(),this.binaryType=qq,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Cm(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Cm(n.host).host);Tl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Uq(this.opts.query)),jm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Zo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Vk,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&rr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",rr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=zq(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Rl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(rr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),jm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Zo.indexOf(this._offlineEventListener);r!==-1&&Zo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}rr.protocol=Vk;class o$ extends rr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;rr.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;rr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){r||(r=!0,c(),n.close(),n=null)}const o=d=>{const h=new Error("probe error: "+d);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function u(d){n&&d.name!==n.name&&s()}const c=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let a$=class extends o${constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>t$[i]).filter(i=>!!i)),super(t,r)}};function l$(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Cm(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const u$=typeof ArrayBuffer=="function",c$=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Qk=Object.prototype.toString,d$=typeof Blob=="function"||typeof Blob<"u"&&Qk.call(Blob)==="[object BlobConstructor]",f$=typeof File=="function"||typeof File<"u"&&Qk.call(File)==="[object FileConstructor]";function _0(e){return u$&&(e instanceof ArrayBuffer||c$(e))||d$&&e instanceof Blob||f$&&e instanceof File}function Jo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Jo(e[n]))return!0;return!1}if(_0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Jo(e[n]))return!0;return!1}function h$(e){const t=[],n=e.data,r=e;return r.data=Rm(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Rm(e,t){if(!e)return e;if(_0(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Rm(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Rm(e[r],t));return n}return e}function p$(e,t){return e.data=Tm(e.data,t),delete e.attachments,e}function Tm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Tm(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Tm(e[n],t));return e}const m$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],g$=5;var ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ce||(ce={}));class y${constructor(t){this.replacer=t}encode(t){return(t.type===ce.EVENT||t.type===ce.ACK)&&Jo(t)?this.encodeAsBinary({type:t.type===ce.EVENT?ce.BINARY_EVENT:ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ce.BINARY_EVENT||t.type===ce.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=h$(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Mb(e){return Object.prototype.toString.call(e)==="[object Object]"}class b0 extends Oe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ce.BINARY_EVENT;r||n.type===ce.BINARY_ACK?(n.type=r?ce.EVENT:ce.ACK,this.reconstructor=new v$(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(_0(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ce[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ce.BINARY_EVENT||r.type===ce.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(b0.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ce.CONNECT:return Mb(n);case ce.DISCONNECT:return n===void 0;case ce.CONNECT_ERROR:return typeof n=="string"||Mb(n);case ce.EVENT:case ce.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&m$.indexOf(n[0])===-1);case ce.ACK:case ce.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class v${constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=p$(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const x$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:b0,Encoder:y$,get PacketType(){return ce},protocol:g$},Symbol.toStringTag,{value:"Module"}));function Ht(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const w$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Zk extends Oe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ht(t,"open",this.onopen.bind(this)),Ht(t,"packet",this.onpacket.bind(this)),Ht(t,"error",this.onerror.bind(this)),Ht(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,s;if(w$.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ce.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,d=n.pop();this._registerAckCallback(c,d),o.id=c}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ce.EVENT:case ce.BINARY_EVENT:this.onevent(t);break;case ce.ACK:case ce.BINARY_ACK:this.onack(t);break;case ce.DISCONNECT:this.ondisconnect();break;case ce.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:ce.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ii(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ii.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ii.prototype.reset=function(){this.attempts=0};Ii.prototype.setMin=function(e){this.ms=e};Ii.prototype.setMax=function(e){this.max=e};Ii.prototype.setJitter=function(e){this.jitter=e};class Am extends Oe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Tl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ii({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||x$;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new a$(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ht(n,"open",function(){r.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ht(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ht(t,"ping",this.onping.bind(this)),Ht(t,"data",this.ondata.bind(this)),Ht(t,"error",this.onerror.bind(this)),Ht(t,"close",this.onclose.bind(this)),Ht(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Rl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Zk(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yi={};function ea(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=l$(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Yi[i]&&s in Yi[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Am(r,t):(Yi[i]||(Yi[i]=new Am(r,t)),l=Yi[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(ea,{Manager:Am,Socket:Zk,io:ea,connect:ea});const _$="http://localhost:3001";function b$(e,t,n,r,i,s,o,a,l,u){const c=N.useRef(null),[d,h]=N.useState(!1),p=N.useRef({onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:i,onStateTransition:s,onTaskDiscovered:o,onCoordinatorAnalyzing:a,onCoordinatorDecomposing:l,onCoordinatorAssigning:u});N.useEffect(()=>{p.current={onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:i,onStateTransition:s,onTaskDiscovered:o,onCoordinatorAnalyzing:a,onCoordinatorDecomposing:l,onCoordinatorAssigning:u}},[e,t,n,r,i,s,o,a,l,u]),N.useEffect(()=>{const w=ea(_$,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return c.current=w,w.on("connect",()=>{console.log("✅ WebSocket connected"),h(!0)}),w.on("disconnect",()=>{console.log("❌ WebSocket disconnected"),h(!1)}),w.on("connect_error",m=>{console.error("🔴 WebSocket connection error:",m),h(!1)}),w.on("graph:update",m=>{var g,x;(x=(g=p.current).onGraphUpdate)==null||x.call(g,m)}),w.on("agent:started",m=>{var g,x;(x=(g=p.current).onAgentStarted)==null||x.call(g,m)}),w.on("agent:progress",m=>{var g,x;(x=(g=p.current).onAgentProgress)==null||x.call(g,m)}),w.on("agent:completed",m=>{var g,x;(x=(g=p.current).onAgentCompleted)==null||x.call(g,m)}),w.on("agent:error",m=>{var g,x;(x=(g=p.current).onAgentError)==null||x.call(g,m)}),w.on("state:transition",m=>{var g,x;(x=(g=p.current).onStateTransition)==null||x.call(g,m)}),w.on("task:discovered",m=>{var g,x;(x=(g=p.current).onTaskDiscovered)==null||x.call(g,m)}),w.on("coordinator:analyzing",m=>{var g,x;(x=(g=p.current).onCoordinatorAnalyzing)==null||x.call(g,m)}),w.on("coordinator:decomposing",m=>{var g,x;(x=(g=p.current).onCoordinatorDecomposing)==null||x.call(g,m)}),w.on("coordinator:assigning",m=>{var g,x;(x=(g=p.current).onCoordinatorAssigning)==null||x.call(g,m)}),()=>{w.close()}},[]);const v=w=>{c.current&&c.current.emit("subscribe",{issueNumber:w})},y=w=>{c.current&&c.current.emit("unsubscribe",{issueNumber:w})};return{socket:c.current,connected:d,subscribe:v,unsubscribe:y}}function N$(){const[e,t]=N.useState(()=>{if(typeof window>"u")return{screenSize:"desktop",isMobile:!1,isTablet:!1,isDesktop:!0,isWide:!1,width:1024,height:768};const n=window.innerWidth,r=window.innerHeight,i=n<768?"mobile":n<1024?"tablet":n<1440?"desktop":"wide";return{screenSize:i,isMobile:i==="mobile",isTablet:i==="tablet",isDesktop:i==="desktop",isWide:i==="wide",width:n,height:r}});return N.useEffect(()=>{if(typeof window>"u")return;const n=()=>{const s=window.innerWidth,o=window.innerHeight,a=s<768?"mobile":s<1024?"tablet":s<1440?"desktop":"wide";t({screenSize:a,isMobile:a==="mobile",isTablet:a==="tablet",isDesktop:a==="desktop",isWide:a==="wide",width:s,height:o})};let r;const i=()=>{clearTimeout(r),r=setTimeout(n,150)};return window.addEventListener("resize",i),n(),()=>{window.removeEventListener("resize",i),clearTimeout(r)}},[]),e}function E$({isVisible:e,nodeCount:t,edgeCount:n,visualMode:r}){const[i,s]=N.useState(0),o=N.useRef(),a=N.useRef(performance.now()),l=N.useRef(0);return N.useEffect(()=>{if(!e){s(0),o.current&&cancelAnimationFrame(o.current);return}const u=c=>{l.current+=1;const d=c-a.current;if(d>=500){const h=Math.round(l.current*1e3/d);s(h),l.current=0,a.current=c}o.current=requestAnimationFrame(u)};return o.current=requestAnimationFrame(u),()=>{o.current&&cancelAnimationFrame(o.current)}},[e]),e?f.jsxs("div",{className:"fixed bottom-6 right-6 z-40 rounded-lg border border-white/10 bg-gray-900/85 px-4 py-3 text-xs text-white shadow-lg backdrop-blur",children:[f.jsxs("div",{className:"flex items-center justify-between gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"FPS"}),f.jsx("p",{className:"text-lg font-bold",children:i})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"Nodes"}),f.jsx("p",{className:"text-lg font-bold",children:t})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"Edges"}),f.jsx("p",{className:"text-lg font-bold",children:n})]})]}),f.jsxs("div",{className:"mt-3 flex items-center justify-between gap-4 text-[11px] text-gray-300",children:[f.jsxs("span",{children:["Mode: ",r==="rich"?"Rich Effects":"Light Effects"]}),f.jsx("span",{className:"text-gray-400",children:"Press Shift+P to toggle"})]})]}):null}const S$=(e,t)=>{const n=new jb.graphlib.Graph;return n.setDefaultEdgeLabel(()=>({})),n.setGraph({rankdir:"LR",nodesep:80,ranksep:150,marginx:30,marginy:30}),e.forEach(i=>{n.setNode(i.id,{width:i.type==="issue"?280:180,height:i.type==="issue"?160:100})}),t.forEach(i=>{n.setEdge(i.source,i.target)}),jb.layout(n),e.map(i=>{const s=n.node(i.id),o=i.type==="issue"?280:180,a=i.type==="issue"?160:100;return{...i,position:{x:s.x-o/2,y:s.y-a/2}}})};function k$(){const[e,t,n]=Ug([]),[r,i,s]=Vg([]),[o,a]=N.useState(!0),[l,u]=N.useState(0),[c,d]=N.useState(null),[h,p]=N.useState([]),[v,y]=N.useState(!1),[w,m]=N.useState({states:[],agents:[],priorities:[],showOnlyActive:!1}),g=N.useRef(null),{prefersReducedMotion:x,prefersHighContrast:_}=Ai(),{isMobile:E,isTablet:S}=N$(),[k,j]=N.useState(x?"light":"rich"),[I,P]=N.useState(!1),[L,B]=N.useState(!E),[z,b]=N.useState(!E&&!S),[O,R]=N.useState(!E),[D,A]=N.useState(!1),[C,M]=N.useState(!1);N.useEffect(()=>{E?(B(!1),b(!1),R(!1)):S&&b(!1)},[E,S]);const[$,F]=N.useState(null),[W,G]=N.useState([]),[J,ee]=N.useState([]),[ne]=N.useState(new Date),[fe,oe]=N.useState({}),[le,Re]=N.useState(null),{celebrationTrigger:Ee,celebrate:qe}=Eq(),{activeEdgeIds:Pe,activateEdgesForNode:te}=bq();N.useEffect(()=>{x&&j("light")},[x]),N.useEffect(()=>{if(typeof window>"u")return;const T=H=>{H.key.toLowerCase()==="p"&&H.shiftKey&&P(V=>!V),H.key.toLowerCase()==="l"&&H.shiftKey&&j(V=>V==="rich"?"light":"rich")};return window.addEventListener("keydown",T),()=>{window.removeEventListener("keydown",T)}},[]);const de=N.useCallback(T=>{p(H=>[{...T,id:`${Date.now()}-${Math.random()}`},...H])},[]),X=N.useCallback(T=>{ee(H=>[{...T,id:`${Date.now()}-${Math.random()}`},...H])},[]),Q=N.useCallback(T=>{if(!g.current)return;const H=e.find(V=>V.id===T);H&&g.current.setCenter(H.position.x+150,H.position.y+100,{zoom:1.2,duration:800})},[e]),{connected:ve}=b$(T=>{console.log("📊 Graph updated:",T),t(T.nodes),i(T.edges),a(!1),de({type:"graph:update",message:"Graph data refreshed",timestamp:T.timestamp||new Date().toISOString(),icon:"🔄",color:"#3B82F6"})},T=>{var ue;console.log("🤖 Agent started:",T),F("execution"),G(["discovery","analysis","decomposition","assignment"]);let H=`${T.agentId} started working on Issue #${T.issueNumber}`;(ue=T.parameters)!=null&&ue.taskTitle&&(H+=` - ${T.parameters.taskTitle}`),de({type:"agent:started",message:H,timestamp:T.timestamp||new Date().toISOString(),icon:"🤖",color:"#10B981"});const V=T.agentId==="codegen"?"CodeGenAgent":T.agentId==="review"?"ReviewAgent":T.agentId==="pr"?"PRAgent":T.agentId==="deployment"?"DeploymentAgent":T.agentId;X({timestamp:T.timestamp||new Date().toISOString(),title:`💻 ${V}が実行開始`,explanation:`${V}がIssue #${T.issueNumber}の処理を開始しました。進捗状況はプログレスバーで確認できます。`,details:T.parameters?[`タスク: ${T.parameters.taskTitle||"未設定"}`,`優先度: ${T.parameters.priority||"通常"}`,`コンテキスト: ${T.parameters.context||"自動判定"}`]:[],type:"success",icon:"💻"}),t(Fe=>Fe.map(_e=>{if(_e.type==="agent"&&_e.data.agentId===T.agentId){const Ge={codegen:"コード構造を分析中...",review:"コード品質をレビュー中...",pr:"Pull Requestを作成中...",deployment:"デプロイ準備中..."};return oe(dn=>({...dn,[T.agentId]:{thinking:Ge[T.agentId]||"タスクを実行中...",position:_e.position,status:"running"}})),setTimeout(()=>{te(_e.id,r,5e3)},100),{..._e,data:{..._e.data,status:"running",currentIssue:T.issueNumber,progress:0,parameters:T.parameters||{}}}}return _e}));const K=e.find(Fe=>Fe.type==="issue"&&Fe.data.number===T.issueNumber);K&&setTimeout(()=>Q(K.id),300)},T=>{console.log("📈 Agent progress:",T);const H=(V,K)=>V==="codegen"?K<30?"コードベースを分析中...":K<60?"コードを生成中...":"テストを実行中...":V==="review"?K<40?"コード品質を分析中...":K<70?"セキュリティスキャン実行中...":"レビューコメント作成中...":V==="pr"?K<50?"コミットメッセージ作成中...":"Pull Request作成中...":V==="deployment"?K<30?"ビルドを実行中...":K<70?"テストを実行中...":"デプロイ中...":`処理中... ${K}%`;oe(V=>V[T.agentId]?{...V,[T.agentId]:{...V[T.agentId],thinking:H(T.agentId,T.progress)}}:V),t(V=>V.map(K=>K.type==="agent"&&K.data.agentId===T.agentId?{...K,data:{...K.data,progress:T.progress}}:K))},T=>{console.log("✅ Agent completed:",T),G(["discovery","analysis","decomposition","assignment","execution"]),F(null),qe(),setTimeout(()=>{oe(V=>{const K={...V};return delete K[T.agentId],K})},2e3),de({type:"agent:completed",message:`${T.agentId} completed Issue #${T.issueNumber}`,timestamp:T.timestamp||new Date().toISOString(),icon:"✅",color:"#22C55E"});const H=T.agentId==="codegen"?"CodeGenAgent":T.agentId==="review"?"ReviewAgent":T.agentId==="pr"?"PRAgent":T.agentId==="deployment"?"DeploymentAgent":T.agentId;X({timestamp:T.timestamp||new Date().toISOString(),title:"✅ タスク完了！",explanation:`${H}がIssue #${T.issueNumber}の処理を完了しました。結果はGitHubで確認できます。`,details:["結果: 正常終了","","次のタスクがあれば、同様のプロセスで自動処理を開始します。"],type:"success",icon:"✅"}),t(V=>V.map(K=>K.type==="agent"&&K.data.agentId===T.agentId?{...K,data:{...K.data,status:"completed",progress:100,currentIssue:void 0}}:K)),setTimeout(()=>{t(V=>V.map(K=>K.type==="agent"&&K.data.agentId===T.agentId?{...K,data:{...K.data,status:"idle",progress:0}}:K))},3e3)},T=>{console.error("❌ Agent error:",T),de({type:"agent:error",message:`${T.agentId} failed on Issue #${T.issueNumber}: ${T.error}`,timestamp:T.timestamp||new Date().toISOString(),icon:"❌",color:"#EF4444"}),t(H=>H.map(V=>V.type==="agent"&&V.data.agentId===T.agentId?{...V,data:{...V.data,status:"error",currentIssue:void 0}}:V))},T=>{console.log("🔄 State transition:",T),de({type:"state:transition",message:`Issue #${T.issueNumber}: ${T.from} → ${T.to}`,timestamp:T.timestamp||new Date().toISOString(),icon:"🔄",color:"#8B5CF6"}),i(H=>H.map(V=>V.source.includes(`issue-${T.issueNumber}`)?{...V,animated:!0}:V)),setTimeout(()=>{i(H=>H.map(V=>({...V,animated:!1})))},2e3)},T=>{console.log("📥 Tasks discovered:",T),F("discovery"),G([]),de({type:"task:discovered",message:`${T.tasks.length} tasks discovered and queued for processing`,timestamp:T.timestamp,icon:"📥",color:"#6366F1"}),X({timestamp:T.timestamp,title:"📥 タスク発見フェーズ",explanation:`GitHubから${T.tasks.length}個のIssueを読み込みました。これらのタスクを順番に分析していきます。`,details:T.tasks.map((H,V)=>`${V+1}. Issue #${H.issueNumber}: ${H.title} (${H.priority})`),type:"info",icon:"📥"}),T.tasks.forEach((H,V)=>{setTimeout(()=>{de({type:"task:discovered",message:`Task ${V+1}: Issue #${H.issueNumber} - ${H.title} [${H.priority}]`,timestamp:T.timestamp,icon:"📋",color:"#8B5CF6"})},V*200)})},T=>{console.log("🔍 Coordinator analyzing:",T),F("analysis"),G(["discovery"]),de({type:"coordinator:analyzing",message:`CoordinatorAgent analyzing Issue #${T.issueNumber}: ${T.analysis.type} | ${T.analysis.priority} | ${T.analysis.complexity}`,timestamp:T.timestamp,icon:"🔍",color:"#10B981"}),X({timestamp:T.timestamp,title:"🔍 Issue分析中",explanation:`CoordinatorAgentがIssue #${T.issueNumber}の内容を詳しく分析しています。`,details:[`タイプ: ${T.analysis.type} - このタスクの種類を判定`,`優先度: ${T.analysis.priority} - 緊急度を評価`,`複雑度: ${T.analysis.complexity} - 難易度を算出`,"","次のステップ：この分析結果に基づいて、タスクをサブタスクに分解します。"],type:"thinking",icon:"🔍"});const H=e.find(V=>V.type==="agent"&&V.data.agentId==="coordinator");H&&setTimeout(()=>Q(H.id),100),t(V=>V.map(K=>K.type==="issue"&&K.data.number===T.issueNumber?{...K,style:{...K.style,border:"3px solid #10B981",boxShadow:"0 0 20px rgba(16, 185, 129, 0.5)"}}:K)),setTimeout(()=>{t(V=>V.map(K=>K.type==="issue"&&K.data.number===T.issueNumber?{...K,style:{...K.style,border:void 0,boxShadow:void 0}}:K))},2e3)},T=>{console.log("🧩 Coordinator decomposing:",T),F("decomposition"),G(["discovery","analysis"]),de({type:"coordinator:decomposing",message:`CoordinatorAgent decomposed Issue #${T.issueNumber} into ${T.subtasks.length} subtasks`,timestamp:T.timestamp,icon:"🧩",color:"#F59E0B"}),X({timestamp:T.timestamp,title:"🧩 タスク分解中",explanation:`CoordinatorAgentがIssue #${T.issueNumber}を${T.subtasks.length}個のサブタスクに分解しました。大きなタスクを小さく分けることで、各Specialist Agentが効率的に処理できます。`,details:T.subtasks.map((H,V)=>`サブタスク${V+1}: ${H.title} [${H.type}]`),type:"info",icon:"🧩"}),T.subtasks.forEach((H,V)=>{setTimeout(()=>{de({type:"coordinator:decomposing",message:`  Subtask ${V+1}: ${H.title} [${H.type}]`,timestamp:T.timestamp,icon:"  ├─",color:"#FBBF24"})},V*150)})},T=>{console.log("🎯 Coordinator assigning:",T),F("assignment"),G(["discovery","analysis","decomposition"]),de({type:"coordinator:assigning",message:`CoordinatorAgent assigning tasks for Issue #${T.issueNumber}`,timestamp:T.timestamp,icon:"🎯",color:"#8B5CF6"}),X({timestamp:T.timestamp,title:"🎯 Agent割り当て中",explanation:"CoordinatorAgentが各サブタスクに最適なSpecialist Agentを選択しています。各Agentの専門性を考慮して、最も効率的な組み合わせを決定します。",details:T.assignments.map(H=>`${H.agentId} ← 理由: ${H.reason}`),type:"info",icon:"🎯"}),T.assignments.forEach((H,V)=>{setTimeout(()=>{de({type:"coordinator:assigning",message:`  → ${H.agentId}: ${H.reason}`,timestamp:T.timestamp,icon:"  🤖",color:"#A78BFA"});const K=e.find(ue=>ue.type==="agent"&&ue.data.agentId===H.agentId);K&&Q(K.id)},V*500)})}),ot=N.useMemo(()=>{const T={};return e.filter(H=>H.type==="agent").forEach(H=>{const V=H.data;T[V.agentId]={status:V.status||"idle",progress:V.progress}}),T},[e]),St=N.useMemo(()=>({issue:T=>f.jsx(m0,{...T,agentStatuses:ot}),agent:g0,state:y0}),[ot]),$e=N.useMemo(()=>{let T=e.filter(H=>H.type!=="agent");return w.states.length>0&&(T=T.filter(H=>{if(H.type==="issue"){const V=H.data;return w.states.some(K=>{var ue;return(ue=V.state)==null?void 0:ue.includes(K)})}return!0})),w.agents.length>0&&(T=T.filter(H=>{var V;return H.type==="issue"?(V=H.data.assignedAgents)==null?void 0:V.some(ue=>w.agents.includes(ue)):!0})),w.priorities.length>0&&(T=T.filter(H=>{if(H.type==="issue"){const V=H.data;return w.priorities.some(K=>{var ue;return(ue=V.priority)==null?void 0:ue.includes(K)})}return!0})),w.showOnlyActive&&(T=T.filter(H=>{var V,K;if(H.type==="issue"){const ue=H.data;return!((V=ue.state)!=null&&V.includes("done"))&&!((K=ue.state)!=null&&K.includes("failed"))}return!0})),T.length>0&&(T=S$(T,r)),T},[e,w,r]);N.useEffect(()=>{g.current&&$e.length>0&&setTimeout(()=>{var T;(T=g.current)==null||T.fitView({padding:.2,duration:300})},100)},[$e]);const Se=N.useCallback(T=>i(H=>al(T,H)),[i]),Qe=N.useCallback((T,H)=>{Re(H),d(H)},[]),gt=N.useCallback(()=>{a(!0),fetch("http://localhost:3001/api/refresh",{method:"POST"}).then(T=>T.json()).then(()=>{console.log("✅ Graph refresh triggered"),de({type:"graph:update",message:"Manual refresh triggered",timestamp:new Date().toISOString(),icon:"🔄",color:"#3B82F6"})}).catch(T=>{console.error("❌ Failed to refresh graph:",T)}).finally(()=>{setTimeout(()=>a(!1),500)})},[de]);N.useEffect(()=>{(async()=>{try{u(0),await new Promise(K=>setTimeout(K,300)),u(1);const V=await(await fetch("http://localhost:3001/api/graph")).json();u(2),await new Promise(K=>setTimeout(K,200)),t(V.nodes),i(V.edges),u(3),await new Promise(K=>setTimeout(K,100)),a(!1)}catch(H){console.error("Failed to fetch initial graph:",H),a(!1)}})()},[t,i]);const $t=[{target:".react-flow",title:"グラフビュー",content:"Issueとエージェントの関係を視覚化します。ノードをクリックすると詳細が表示されます。",placement:"bottom"},{target:'[title="Toggle System Metrics"]',title:"システムメトリクス",content:"リアルタイムのシステム状態を確認できます。アクティブなエージェント数、成功率などを表示します。",placement:"left"},{target:'[title="Toggle Workflow Stages"]',title:"ワークフローステージ",content:"タスクの進行状況を5つのステージで確認できます。現在どの段階にいるかが一目でわかります。",placement:"bottom"},{target:".explanation-panel",title:"説明パネル",content:"何が起きているかを日本語で説明します。初めての方でもわかりやすい内容です。",placement:"left"},{target:'[title="Toggle Activity Log"]',title:"アクティビティログ",content:"全てのイベントを時系列で確認できます。デバッグや履歴確認に便利です。",placement:"top"}];return o?f.jsx(Cq,{stages:["Connecting to server...","Loading graph data...","Rendering nodes...","Complete!"],currentStage:l}):f.jsxs("div",{className:"flex h-screen w-full flex-col",children:[L&&f.jsx(qk,{nodes:e}),z&&f.jsx(wq,{nodes:e,startTime:ne}),O&&f.jsx(mq,{currentStage:$,completedStages:W}),k==="rich"&&!x&&f.jsx(Nq,{trigger:Ee}),f.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[f.jsxs("div",{className:"absolute left-4 top-4 z-10 flex gap-2",children:[f.jsx("div",{className:"rounded-lg bg-white p-2 shadow-lg",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`h-3 w-3 rounded-full ${ve?"animate-pulse bg-green-500":"bg-red-500"}`}),f.jsx("span",{className:"text-sm font-medium",children:ve?"Connected":"Disconnected"})]})}),f.jsx("button",{onClick:gt,disabled:o,className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50 disabled:opacity-50",title:"Refresh graph manually",children:f.jsx("svg",{className:`h-5 w-5 text-gray-700 ${o?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),f.jsx("button",{onClick:()=>y(!v),className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50",title:"Filter nodes",children:f.jsx("svg",{className:"h-5 w-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),f.jsxs("div",{className:"flex gap-1 rounded-lg bg-white p-1 shadow-lg",children:[f.jsx("button",{onClick:()=>B(!L),className:`rounded px-2 py-1.5 text-xs font-medium transition ${L?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Stats Panel",children:"📊"}),f.jsx("button",{onClick:()=>b(!z),className:`rounded px-2 py-1.5 text-xs font-medium transition ${z?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle System Metrics",children:"📈"}),f.jsx("button",{onClick:()=>R(!O),className:`rounded px-2 py-1.5 text-xs font-medium transition ${O?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Workflow Stages",children:"🚀"}),f.jsx("button",{onClick:()=>A(!D),className:`rounded px-2 py-1.5 text-xs font-medium transition ${D?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Activity Log",children:"📝"}),f.jsx("button",{onClick:()=>M(!C),className:`rounded px-2 py-1.5 text-xs font-medium transition ${C?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Legend",children:"ℹ️"})]})]}),f.jsxs("div",{className:"absolute right-4 top-4 z-10 flex flex-col items-end gap-2",children:[f.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-3 py-2 shadow-lg border ${_?"bg-slate-900/90 border-white/20 text-slate-100":"bg-white/90 border-gray-200 text-gray-700"}`,children:[f.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest",children:"Effects"}),f.jsx("button",{onClick:()=>j("rich"),disabled:x,className:`rounded px-2 py-1 text-xs font-semibold transition ${k==="rich"&&!x?"bg-purple-600 text-white shadow":"bg-transparent hover:bg-black/10"} ${x?"opacity-40 cursor-not-allowed":""}`,children:"Rich"}),f.jsx("button",{onClick:()=>j("light"),className:`rounded px-2 py-1 text-xs font-semibold transition ${k==="light"?"bg-blue-600 text-white shadow":"bg-transparent hover:bg-black/10"}`,children:"Light"})]}),f.jsx("button",{onClick:()=>P(T=>!T),className:`rounded-lg px-3 py-2 text-xs font-semibold shadow-lg transition ${_?"bg-slate-900/90 border border-white/20 text-slate-100 hover:bg-slate-800/90":"bg-white/90 border border-gray-200 text-gray-700 hover:bg-gray-100"}`,title:"Shift+Pで切り替え",children:I?"Hide Performance":"Show Performance"})]}),v&&f.jsx(pq,{filters:w,onFilterChange:m,onClose:()=>y(!1)}),f.jsxs("div",{className:`flex-1 ${c&&!E?"lg:pr-80":""}`,children:[f.jsxs(ul,{nodes:$e,edges:r,onNodesChange:n,onEdgesChange:s,onConnect:Se,onNodeClick:Qe,onInit:T=>{g.current=T},nodeTypes:St,fitView:!0,attributionPosition:"bottom-left",minZoom:E?.3:.5,maxZoom:E?1.5:2,children:[f.jsx(Kg,{variant:Pt.Dots,gap:20,size:2,color:"#4F46E5"}),f.jsx(Wg,{className:"!bg-white/90 !backdrop-blur !border !border-gray-200 !shadow-xl",showInteractive:!E}),!E&&f.jsx(Gg,{className:"!bg-gray-900/90 !border !border-gray-700",nodeColor:T=>{if(T.type==="agent"){const H=T.data;if(H.status==="running")return"#8B5CF6";if(H.status==="completed")return"#10B981";if(H.status==="error")return"#EF4444"}return"#6B7280"}})]}),k==="rich"&&!x&&f.jsx(_q,{edges:r,nodes:e,activeEdgeIds:Pe}),k!=="light"&&!x&&f.jsx(xq,{bubbles:Object.entries(fe).map(([T,H])=>({agentId:T,agentName:{codegen:"CodeGen",review:"Review",pr:"PR",deployment:"Deploy",coordinator:"Coordinator"}[T]||T,thinking:H.thinking,position:H.position,status:H.status}))})]}),c&&f.jsx(fq,{selectedNode:c,onClose:()=>d(null)}),f.jsx(gq,{entries:J}),C&&f.jsx(yq,{})]}),D&&f.jsx($k,{activities:h}),f.jsx(Sq,{node:le,onClose:()=>{Re(null),d(null)}}),f.jsx(E$,{isVisible:I,nodeCount:e.length,edgeCount:r.length,visualMode:k}),f.jsx(kq,{steps:$t,onComplete:()=>{console.log("✅ Welcome tour completed"),de({type:"graph:update",message:"Welcome tour completed - Ready to explore!",timestamp:new Date().toISOString(),icon:"🎓",color:"#10B981"})},onSkip:()=>{console.log("⏭️ Welcome tour skipped")}})]})}const C$={issue:m0,agent:g0,state:y0},j$=[{id:"agent-coordinator",type:"agent",position:{x:100,y:100},data:{name:"CoordinatorAgent",agentId:"coordinator",status:"running",currentIssue:47,progress:65,parameters:{taskId:"TASK-001",taskTitle:"Implement authentication system",priority:"P0-Critical",estimatedDuration:"4 hours",environment:"production",dependencies:["TASK-002","TASK-003"]}}},{id:"agent-codegen",type:"agent",position:{x:400,y:100},data:{name:"CodeGenAgent",agentId:"codegen",status:"running",currentIssue:58,progress:40,parameters:{taskId:"TASK-002",taskTitle:"Generate user registration component",priority:"P1-High",framework:"React",typescript:!0,testCoverage:"80%"}}},{id:"agent-review",type:"agent",position:{x:700,y:100},data:{name:"ReviewAgent",agentId:"review",status:"idle",progress:0,parameters:{qualityThreshold:85,checks:["security","performance","style"],autoFix:!0}}},{id:"issue-47",type:"issue",position:{x:100,y:300},data:{number:47,title:"Implement authentication system",state:"state:implementing",labels:["type:feature","priority:P0-Critical"],priority:"priority:P0-Critical",assignedAgents:["coordinator"],url:"https://github.com/example/repo/issues/47"}},{id:"issue-58",type:"issue",position:{x:400,y:300},data:{number:58,title:"User registration component",state:"state:implementing",labels:["type:feature","priority:P1-High"],priority:"priority:P1-High",assignedAgents:["codegen"],url:"https://github.com/example/repo/issues/58"}}],R$=[{id:"e-agent-coordinator-issue-47",source:"agent-coordinator",target:"issue-47",type:"smoothstep",animated:!0,style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:at.ArrowClosed,color:"#8B5CF6"}},{id:"e-agent-codegen-issue-58",source:"agent-codegen",target:"issue-58",type:"smoothstep",animated:!0,style:{stroke:"#00D9FF",strokeWidth:2},markerEnd:{type:at.ArrowClosed,color:"#00D9FF"}}];function T$(){const[e,,t]=Ug(j$),[n,r,i]=Vg(R$),[s]=N.useState([{id:"1",type:"agent:started",message:"CoordinatorAgent started working on Issue #47 - Implement authentication system",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"},{id:"2",type:"agent:started",message:"CodeGenAgent started working on Issue #58 - User registration component",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"}]),o=N.useCallback(l=>r(u=>al(l,u)),[r]),a=N.useCallback((l,u)=>{console.log("Node clicked:",u)},[]);return f.jsxs("div",{className:"flex h-screen w-full flex-col",children:[f.jsx(qk,{nodes:e}),f.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[f.jsxs("div",{className:"absolute left-4 top-4 z-10 rounded-lg bg-blue-500 p-3 text-white shadow-lg",children:[f.jsx("p",{className:"text-sm font-semibold",children:"📊 Mock Data Mode"}),f.jsx("p",{className:"text-xs",children:"Click on agents to see parameters"})]}),f.jsx("div",{className:"flex-1",children:f.jsxs(ul,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:i,onConnect:o,onNodeClick:a,nodeTypes:C$,fitView:!0,attributionPosition:"bottom-left",children:[f.jsx(Kg,{}),f.jsx(Wg,{}),f.jsx(Gg,{})]})})]}),f.jsx($k,{activities:s})]})}const Jk=N.memo(({data:e})=>f.jsxs("div",{className:"min-w-[240px] rounded-lg border-2 border-indigo-600 bg-white shadow-lg overflow-hidden",children:[f.jsx(pt,{type:"target",position:Z.Left,className:"!bg-indigo-600"}),f.jsxs("div",{className:"bg-indigo-600 px-4 py-2 text-white",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:e.icon}),f.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide",children:e.name})]}),e.description&&f.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:e.description})]}),f.jsxs("div",{className:"bg-white",children:[e.primaryKey&&f.jsx("div",{className:"border-b border-gray-200 px-4 py-2 bg-yellow-50",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-mono text-yellow-700",children:"🔑"}),f.jsx("span",{className:"text-sm font-semibold text-gray-900",children:e.primaryKey.name}),f.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:e.primaryKey.type})]})}),e.attributes&&e.attributes.length>0&&f.jsx("div",{className:"divide-y divide-gray-100",children:e.attributes.map((t,n)=>f.jsx("div",{className:"px-4 py-2 hover:bg-gray-50",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[t.required&&f.jsx("span",{className:"text-xs text-red-500",children:"*"}),f.jsx("span",{className:"text-sm text-gray-700",children:t.name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-gray-500",children:t.type}),t.unique&&f.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:"unique"})]})]})},n))}),e.count!==void 0&&f.jsx("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50",children:f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[f.jsx("span",{children:"Records"}),f.jsx("span",{className:"font-semibold text-indigo-600",children:e.count.toLocaleString()})]})})]}),f.jsx(pt,{type:"source",position:Z.Right,className:"!bg-indigo-600"})]}));Jk.displayName="EntityNode";const eC=N.memo(({data:e})=>{const t=n=>{switch(n){case"1:1":return"text-green-600";case"1:N":return"text-blue-600";case"N:M":return"text-purple-600";default:return"text-gray-600"}};return f.jsxs("div",{className:"relative",style:{width:"180px",height:"100px"},children:[f.jsx(pt,{type:"target",position:Z.Left,className:"!bg-pink-500 z-10"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"rotate(45deg)",transformOrigin:"center"},children:f.jsx("div",{className:"bg-pink-500 shadow-lg",style:{width:"120px",height:"120px",border:"3px solid #EC4899"}})}),f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[f.jsx("span",{className:"text-2xl mb-1",children:e.icon||"🔗"}),f.jsxs("div",{className:"text-center px-4",children:[f.jsx("p",{className:"text-sm font-bold text-white drop-shadow-md",children:e.name}),e.cardinality&&f.jsx("p",{className:`text-xs font-semibold mt-1 drop-shadow ${t(e.cardinality)}`,children:e.cardinality})]}),e.description&&f.jsx("p",{className:"text-xs text-white/90 drop-shadow text-center mt-1 px-2",children:e.description})]}),f.jsx(pt,{type:"source",position:Z.Right,className:"!bg-pink-500 z-10"})]})});eC.displayName="RelationNode";const A$={entity:Jk,relation:eC},I$=[{id:"entity-issue",type:"entity",position:{x:100,y:100},data:{name:"Issue",icon:"📋",description:"GitHub Issues managed by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"string",required:!0},{name:"body",type:"text"},{name:"created_at",type:"timestamp",required:!0},{name:"updated_at",type:"timestamp"}],count:142}},{id:"entity-agent",type:"entity",position:{x:600,y:100},data:{name:"Agent",icon:"🤖",description:"Autonomous agents in the system",primaryKey:{name:"id",type:"string"},attributes:[{name:"name",type:"string",required:!0},{name:"type",type:"enum",required:!0},{name:"status",type:"enum",required:!0},{name:"progress",type:"integer"},{name:"last_activity",type:"timestamp"}],count:7}},{id:"entity-label",type:"entity",position:{x:100,y:400},data:{name:"Label",icon:"🏷️",description:"53-label system for state management",primaryKey:{name:"name",type:"string"},attributes:[{name:"category",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"description",type:"text"},{name:"emoji",type:"string"}],count:53}},{id:"entity-pr",type:"entity",position:{x:350,y:700},data:{name:"Pull Request",icon:"🔀",description:"Code changes created by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"enum",required:!0},{name:"base",type:"string",required:!0},{name:"head",type:"string",required:!0},{name:"merged",type:"boolean"}],count:89}},{id:"entity-state",type:"entity",position:{x:900,y:400},data:{name:"State",icon:"🔄",description:"Workflow states in the system",primaryKey:{name:"name",type:"string"},attributes:[{name:"emoji",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"order",type:"integer",required:!0}],count:8}},{id:"rel-issue-agent",type:"relation",position:{x:370,y:100},data:{name:"assigned_to",icon:"👤",cardinality:"1:N",description:"Agent assignment"}},{id:"rel-issue-label",type:"relation",position:{x:100,y:280},data:{name:"has_label",icon:"🔖",cardinality:"N:M"}},{id:"rel-issue-pr",type:"relation",position:{x:250,y:500},data:{name:"resolves",icon:"✅",cardinality:"1:N"}},{id:"rel-agent-state",type:"relation",position:{x:750,y:280},data:{name:"transitions",icon:"🔄",cardinality:"N:M"}}],P$=[{id:"e-issue-rel-issue-agent",source:"entity-issue",target:"rel-issue-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#8B5CF6"}},{id:"e-rel-issue-agent-agent",source:"rel-issue-agent",target:"entity-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#8B5CF6"}},{id:"e-issue-rel-issue-label",source:"entity-issue",target:"rel-issue-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#10B981"}},{id:"e-rel-issue-label-label",source:"rel-issue-label",target:"entity-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#10B981"}},{id:"e-issue-rel-issue-pr",source:"entity-issue",target:"rel-issue-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#F59E0B"}},{id:"e-rel-issue-pr-pr",source:"rel-issue-pr",target:"entity-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#F59E0B"}},{id:"e-agent-rel-agent-state",source:"entity-agent",target:"rel-agent-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#EC4899"}},{id:"e-rel-agent-state-state",source:"rel-agent-state",target:"entity-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:at.Arrow,color:"#EC4899"}}];function M$(){const[e,,t]=Ug(I$),[n,r,i]=Vg(P$),s=N.useCallback(a=>r(l=>al(a,l)),[r]),o=N.useMemo(()=>{const a=e.filter(c=>c.type==="entity"),l=e.filter(c=>c.type==="relation"),u=a.reduce((c,d)=>{const h=d.data;return c+(h.count||0)},0);return{entities:a.length,relations:l.length,totalRecords:u}},[e]);return f.jsxs("div",{className:"flex h-full w-full flex-col",children:[f.jsx("div",{className:"z-20 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-3 shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-white",children:"Entity-Relationship Diagram"}),f.jsx("p",{className:"text-xs text-white/80",children:"Miyabi システムのデータモデル構造"})]}),f.jsxs("div",{className:"flex gap-6 text-white",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:o.entities}),f.jsx("div",{className:"text-xs text-white/80",children:"Entities"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:o.relations}),f.jsx("div",{className:"text-xs text-white/80",children:"Relations"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:o.totalRecords.toLocaleString()}),f.jsx("div",{className:"text-xs text-white/80",children:"Total Records"})]})]})]})}),f.jsxs("div",{className:"absolute left-4 top-20 z-10 rounded-lg bg-white p-3 shadow-lg",children:[f.jsx("h3",{className:"mb-2 text-xs font-bold text-gray-700",children:"Legend"}),f.jsxs("div",{className:"space-y-2 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded border-2 border-indigo-600 bg-white"}),f.jsx("span",{children:"Entity"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 bg-pink-500",style:{transform:"rotate(45deg)"}}),f.jsx("span",{children:"Relationship"})]}),f.jsxs("div",{className:"space-y-1 border-t border-gray-200 pt-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-green-600",children:"1:N"}),f.jsx("span",{className:"text-gray-600",children:"One-to-Many"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:"N:M"}),f.jsx("span",{className:"text-gray-600",children:"Many-to-Many"})]})]})]})]}),f.jsx("div",{className:"flex-1",children:f.jsxs(ul,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:i,onConnect:s,nodeTypes:A$,fitView:!0,attributionPosition:"bottom-left",children:[f.jsx(Kg,{}),f.jsx(Wg,{}),f.jsx(Gg,{nodeColor:a=>a.type==="entity"?"#4F46E5":a.type==="relation"?"#EC4899":"#9CA3AF"})]})})]})}function O$(){const[e,t]=N.useState("flow"),{prefersHighContrast:n}=Ai();return f.jsxs("div",{className:"flex h-screen w-full flex-col",children:[f.jsx("header",{className:"z-20 border-b border-white/10",style:{background:n?"linear-gradient(135deg, #312e81 0%, #1e293b 100%)":"linear-gradient(135deg, #9333ea 0%, #2563eb 100%)"},children:f.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-2 px-3 py-1.5 sm:gap-4 sm:px-4",children:[f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[f.jsx("span",{className:"text-base sm:text-xl","aria-hidden":!0,children:"🤖"}),f.jsx("h1",{className:"text-sm font-semibold text-white sm:text-base",children:"Miyabi"}),f.jsxs("div",{className:"ml-2 hidden items-center gap-0.5 rounded bg-white/10 p-0.5 sm:flex",children:[f.jsx("button",{onClick:()=>t("flow"),title:"Agent Flow",className:`rounded px-2 py-0.5 text-xs transition-all ${e==="flow"?"bg-white text-purple-600 shadow-sm":"text-white/90 hover:bg-white/10"}`,children:"🔄"}),f.jsx("button",{onClick:()=>t("flow-mock"),title:"Flow (Mock)",className:`rounded px-2 py-0.5 text-xs transition-all ${e==="flow-mock"?"bg-white text-purple-600 shadow-sm":"text-white/90 hover:bg-white/10"}`,children:"🎭"}),f.jsx("button",{onClick:()=>t("er"),title:"ER Diagram",className:`rounded px-2 py-0.5 text-xs transition-all ${e==="er"?"bg-white text-purple-600 shadow-sm":"text-white/90 hover:bg-white/10"}`,children:"📊"})]})]}),f.jsxs("div",{className:"flex items-center gap-0.5 rounded bg-white/10 p-0.5 sm:hidden",children:[f.jsx("button",{onClick:()=>t("flow"),className:`rounded px-1.5 py-0.5 text-xs transition ${e==="flow"?"bg-white text-purple-600 shadow":"text-white/90 hover:bg-white/10"}`,children:"🔄"}),f.jsx("button",{onClick:()=>t("flow-mock"),className:`rounded px-1.5 py-0.5 text-xs transition ${e==="flow-mock"?"bg-white text-purple-600 shadow":"text-white/90 hover:bg-white/10"}`,children:"🎭"}),f.jsx("button",{onClick:()=>t("er"),className:`rounded px-1.5 py-0.5 text-xs transition ${e==="er"?"bg-white text-purple-600 shadow":"text-white/90 hover:bg-white/10"}`,children:"📊"})]}),f.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[f.jsxs("a",{href:"https://github.com/ShunsukeHayashi/Miyabi",target:"_blank",rel:"noopener noreferrer",title:"GitHub Repository",className:"rounded bg-white/10 px-2 py-0.5 text-xs text-white transition-colors hover:bg-white/20 sm:px-2.5 sm:py-1",children:[f.jsx("span",{className:"hidden sm:inline",children:"GitHub"}),f.jsx("span",{className:"sm:hidden",children:"GH"})]}),f.jsx("a",{href:"https://shunsukehayashi.github.io/Miyabi/",target:"_blank",rel:"noopener noreferrer",title:"Documentation",className:"rounded bg-white/10 px-2 py-0.5 text-xs text-white transition-colors hover:bg-white/20 sm:px-2.5 sm:py-1",children:"Docs"})]})]})}),f.jsxs("div",{className:"flex-1 overflow-hidden",children:[e==="flow"&&f.jsx(k$,{}),e==="flow-mock"&&f.jsx(T$,{}),e==="er"&&f.jsx(M$,{})]})]})}pp.createRoot(document.getElementById("root")).render(f.jsx(q.StrictMode,{children:f.jsx(O$,{})}));
