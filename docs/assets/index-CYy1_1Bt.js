(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf={exports:{}},Oo={},Zf={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Lg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Vg=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),Wc=Symbol.iterator;function Wg(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eh=Object.assign,th={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=th,this.updater=n||Jf}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nh(){}nh.prototype=Yr.prototype;function yu(e,t,n){this.props=e,this.context=t,this.refs=th,this.updater=n||Jf}var xu=yu.prototype=new nh;xu.constructor=yu;eh(xu,Yr.prototype);xu.isPureReactComponent=!0;var Yc=Array.isArray,rh=Object.prototype.hasOwnProperty,vu={current:null},sh={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rh.call(t,r)&&!sh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ri,type:e,key:i,ref:o,props:s,_owner:vu.current}}function Yg(e,t){return{$$typeof:ri,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ri}function qg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qc=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qg(""+e.key):t.toString(36)}function Oi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ri:case Ig:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+gl(o,0):r,Yc(s)?(n="",e!=null&&(n=e.replace(qc,"$&/")+"/"),Oi(s,t,n,"",function(c){return c})):s!=null&&(wu(s)&&(s=Yg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Yc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+gl(i,l);o+=Oi(i,t,n,a,s)}else if(a=Wg(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+gl(i,l++),o+=Oi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function di(e,t,n){if(e==null)return e;var r=[],s=0;return Oi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Kg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Fi={transition:null},Xg={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:vu};function oh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:di,forEach:function(e,t,n){di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return di(e,function(){t++}),t},toArray:function(e){return di(e,function(t){return t})||[]},only:function(e){if(!wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Yr;ne.Fragment=zg;ne.Profiler=Dg;ne.PureComponent=yu;ne.StrictMode=Lg;ne.Suspense=Hg;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;ne.act=oh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)rh.call(t,a)&&!sh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ri,type:e.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:Fg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Og,_context:e},e.Consumer=e};ne.createElement=ih;ne.createFactory=function(e){var t=ih.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Bg,render:e}};ne.isValidElement=wu;ne.lazy=function(e){return{$$typeof:Ug,_payload:{_status:-1,_result:e},_init:Kg}};ne.memo=function(e,t){return{$$typeof:Vg,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Fi.transition;Fi.transition={};try{e()}finally{Fi.transition=t}};ne.unstable_act=oh;ne.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ne.useContext=function(e){return Xe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ne.useId=function(){return Xe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};ne.useRef=function(e){return Xe.current.useRef(e)};ne.useState=function(e){return Xe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Xe.current.useTransition()};ne.version="18.3.1";Zf.exports=ne;var S=Zf.exports;const I=Gf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=S,Qg=Symbol.for("react.element"),Zg=Symbol.for("react.fragment"),Jg=Object.prototype.hasOwnProperty,ey=Gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ty={key:!0,ref:!0,__self:!0,__source:!0};function lh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Jg.call(t,r)&&!ty.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qg,type:e,key:i,ref:o,props:s,_owner:ey.current}}Oo.Fragment=Zg;Oo.jsx=lh;Oo.jsxs=lh;Qf.exports=Oo;var u=Qf.exports,na={},ah={exports:{}},ct={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,k){var T=E.length;E.push(k);e:for(;0<T;){var L=T-1>>>1,O=E[L];if(0<s(O,k))E[L]=k,E[T]=O,T=L;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var k=E[0],T=E.pop();if(T!==k){E[0]=T;e:for(var L=0,O=E.length,q=O>>>1;L<q;){var W=2*(L+1)-1,Q=E[W],J=W+1,ee=E[J];if(0>s(Q,T))J<O&&0>s(ee,Q)?(E[L]=ee,E[J]=T,L=J):(E[L]=Q,E[W]=T,L=W);else if(J<O&&0>s(ee,T))E[L]=ee,E[J]=T,L=J;else break e}}return k}function s(E,k){var T=E.sortIndex-k.sortIndex;return T!==0?T:E.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,f=null,h=3,g=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=E)r(c),k.sortIndex=k.expirationTime,t(a,k);else break;k=n(c)}}function w(E){if(x=!1,y(E),!v)if(n(a)!==null)v=!0,j(_);else{var k=n(c);k!==null&&D(w,k.startTime-E)}}function _(E,k){v=!1,x&&(x=!1,p(R),R=-1),g=!0;var T=h;try{for(y(k),f=n(a);f!==null&&(!(f.expirationTime>k)||E&&!F());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var O=L(f.expirationTime<=k);k=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(a)&&r(a),y(k)}else r(a);f=n(a)}if(f!==null)var q=!0;else{var W=n(c);W!==null&&D(w,W.startTime-k),q=!1}return q}finally{f=null,h=T,g=!1}}var A=!1,$=null,R=-1,M=5,z=-1;function F(){return!(e.unstable_now()-z<M)}function U(){if($!==null){var E=e.unstable_now();z=E;var k=!0;try{k=$(!0,E)}finally{k?B():(A=!1,$=null)}}else A=!1}var B;if(typeof m=="function")B=function(){m(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,P=N.port2;N.port1.onmessage=U,B=function(){P.postMessage(null)}}else B=function(){b(U,0)};function j(E){$=E,A||(A=!0,B())}function D(E,k){R=b(function(){E(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,j(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var T=h;h=k;try{return E()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,k){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=h;h=E;try{return k()}finally{h=T}},e.unstable_scheduleCallback=function(E,k,T){var L=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?L+T:L):T=L,E){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=T+O,E={id:d++,callback:k,priorityLevel:E,startTime:T,expirationTime:O,sortIndex:-1},T>L?(E.sortIndex=T,t(c,E),n(a)===null&&E===n(c)&&(x?(p(R),R=-1):x=!0,D(w,T-L))):(E.sortIndex=O,t(a,E),v||g||(v=!0,j(_))),E},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(E){var k=h;return function(){var T=h;h=k;try{return E.apply(this,arguments)}finally{h=T}}}})(ch);uh.exports=ch;var ny=uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=S,at=ny;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dh=new Set,Ps={};function sr(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(Ps[e]=t,e=0;e<t.length;e++)dh.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,sy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kc={},Xc={};function iy(e){return ra.call(Xc,e)?!0:ra.call(Kc,e)?!1:sy.test(e)?Xc[e]=!0:(Kc[e]=!0,!1)}function oy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ly(e,t,n,r){if(t===null||typeof t>"u"||oy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nu=/[\-:]([a-z])/g;function Su(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nu,Su);De[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nu,Su);De[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nu,Su);De[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function bu(e,t,n,r){var s=De.hasOwnProperty(t)?De[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ly(t,n,s,r)&&(n=null),r||s===null?iy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fi=Symbol.for("react.element"),hr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),fh=Symbol.for("react.provider"),hh=Symbol.for("react.context"),_u=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),oa=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),ph=Symbol.for("react.offscreen"),Gc=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Gc&&e[Gc]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,yl;function ms(e){if(yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||""}return`
`+yl+e}var xl=!1;function vl(e,t){if(!e||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ms(e):""}function ay(e){switch(e.tag){case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return e=vl(e.type,!1),e;case 11:return e=vl(e.type.render,!1),e;case 1:return e=vl(e.type,!0),e;default:return""}}function la(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case hr:return"Portal";case sa:return"Profiler";case ku:return"StrictMode";case ia:return"Suspense";case oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hh:return(e.displayName||"Context")+".Consumer";case fh:return(e._context.displayName||"Context")+".Provider";case _u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:la(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return la(e(t))}catch{}}return null}function uy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return la(t);case 8:return t===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cy(e){var t=mh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hi(e){e._valueTracker||(e._valueTracker=cy(e))}function gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aa(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yh(e,t){t=t.checked,t!=null&&bu(e,"checked",t,!1)}function ua(e,t){yh(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ca(e,t.type,n):t.hasOwnProperty("defaultValue")&&ca(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ca(e,t,n){(t!=="number"||io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gs=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(gs(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function xh(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ed(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pi,wh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pi=pi||document.createElement("div"),pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dy=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){dy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function Nh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function Sh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fy=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(e,t){if(t){if(fy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,jr=null,Cr=null;function td(e){if(e=oi(e)){if(typeof ga!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Uo(t),ga(e.stateNode,e.type,t))}}function bh(e){jr?Cr?Cr.push(e):Cr=[e]:jr=e}function kh(){if(jr){var e=jr,t=Cr;if(Cr=jr=null,td(e),t)for(e=0;e<t.length;e++)td(t[e])}}function _h(e,t){return e(t)}function Eh(){}var wl=!1;function jh(e,t,n){if(wl)return e(t,n);wl=!0;try{return _h(e,t,n)}finally{wl=!1,(jr!==null||Cr!==null)&&(Eh(),kh())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var r=Uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var ya=!1;if(tn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{ya=!1}function hy(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ks=!1,oo=null,lo=!1,xa=null,py={onError:function(e){ks=!0,oo=e}};function my(e,t,n,r,s,i,o,l,a){ks=!1,oo=null,hy.apply(py,arguments)}function gy(e,t,n,r,s,i,o,l,a){if(my.apply(this,arguments),ks){if(ks){var c=oo;ks=!1,oo=null}else throw Error(H(198));lo||(lo=!0,xa=c)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nd(e){if(ir(e)!==e)throw Error(H(188))}function yy(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nd(s),e;if(i===r)return nd(s),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Ah(e){return e=yy(e),e!==null?Th(e):null}function Th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Th(e);if(t!==null)return t;e=e.sibling}return null}var $h=at.unstable_scheduleCallback,rd=at.unstable_cancelCallback,xy=at.unstable_shouldYield,vy=at.unstable_requestPaint,ke=at.unstable_now,wy=at.unstable_getCurrentPriorityLevel,Cu=at.unstable_ImmediatePriority,Ph=at.unstable_UserBlockingPriority,ao=at.unstable_NormalPriority,Ny=at.unstable_LowPriority,Rh=at.unstable_IdlePriority,Fo=null,Dt=null;function Sy(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:_y,by=Math.log,ky=Math.LN2;function _y(e){return e>>>=0,e===0?32:31-(by(e)/ky|0)|0}var mi=64,gi=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ys(l):(i&=o,i!==0&&(r=ys(i)))}else o=n&~s,o!==0?r=ys(o):i!==0&&(r=ys(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ey(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Ey(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mh(){var e=mi;return mi<<=1,!(mi&4194240)&&(mi=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Cy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Au(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ce=0;function Ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zh,Tu,Lh,Dh,Oh,wa=!1,yi=[],wn=null,Nn=null,Sn=null,Is=new Map,zs=new Map,mn=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=oi(t),t!==null&&Tu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ty(e,t,n,r,s){switch(t){case"focusin":return wn=ns(wn,e,t,n,r,s),!0;case"dragenter":return Nn=ns(Nn,e,t,n,r,s),!0;case"mouseover":return Sn=ns(Sn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Is.set(i,ns(Is.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zs.set(i,ns(zs.get(i)||null,e,t,n,r,s)),!0}return!1}function Fh(e){var t=Hn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Ch(n),t!==null){e.blockedOn=t,Oh(e.priority,function(){Lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ma=r,n.target.dispatchEvent(r),ma=null}else return t=oi(n),t!==null&&Tu(t),e.blockedOn=n,!1;t.shift()}return!0}function id(e,t,n){Bi(e)&&n.delete(t)}function $y(){wa=!1,wn!==null&&Bi(wn)&&(wn=null),Nn!==null&&Bi(Nn)&&(Nn=null),Sn!==null&&Bi(Sn)&&(Sn=null),Is.forEach(id),zs.forEach(id)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,$y)))}function Ls(e){function t(s){return rs(s,e)}if(0<yi.length){rs(yi[0],e);for(var n=1;n<yi.length;n++){var r=yi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&rs(wn,e),Nn!==null&&rs(Nn,e),Sn!==null&&rs(Sn,e),Is.forEach(t),zs.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&mn.shift()}var Ar=an.ReactCurrentBatchConfig,co=!0;function Py(e,t,n,r){var s=ce,i=Ar.transition;Ar.transition=null;try{ce=1,$u(e,t,n,r)}finally{ce=s,Ar.transition=i}}function Ry(e,t,n,r){var s=ce,i=Ar.transition;Ar.transition=null;try{ce=4,$u(e,t,n,r)}finally{ce=s,Ar.transition=i}}function $u(e,t,n,r){if(co){var s=Na(e,t,n,r);if(s===null)$l(e,t,r,fo,n),sd(e,r);else if(Ty(s,e,t,n,r))r.stopPropagation();else if(sd(e,r),t&4&&-1<Ay.indexOf(e)){for(;s!==null;){var i=oi(s);if(i!==null&&zh(i),i=Na(e,t,n,r),i===null&&$l(e,t,r,fo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $l(e,t,r,null,n)}}var fo=null;function Na(e,t,n,r){if(fo=null,e=ju(r),e=Hn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ch(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function Bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wy()){case Cu:return 1;case Ph:return 4;case ao:case Ny:return 16;case Rh:return 536870912;default:return 16}default:return 16}}var xn=null,Pu=null,Hi=null;function Hh(){if(Hi)return Hi;var e,t=Pu,n=t.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Hi=s.slice(e,1<r?1-r:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function od(){return!1}function dt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xi:od,this.isPropagationStopped=od,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=dt(qr),ii=we({},qr,{view:0,detail:0}),My=dt(ii),Sl,bl,ss,Bo=we({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Sl=e.screenX-ss.screenX,bl=e.screenY-ss.screenY):bl=Sl=0,ss=e),Sl)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),ld=dt(Bo),Iy=we({},Bo,{dataTransfer:0}),zy=dt(Iy),Ly=we({},ii,{relatedTarget:0}),kl=dt(Ly),Dy=we({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=dt(Dy),Fy=we({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),By=dt(Fy),Hy=we({},qr,{data:0}),ad=dt(Hy),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wy[e])?!!t[e]:!1}function Mu(){return Yy}var qy=we({},ii,{key:function(e){if(e.key){var t=Vy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ky=dt(qy),Xy=we({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=dt(Xy),Gy=we({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),Qy=dt(Gy),Zy=we({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jy=dt(Zy),ex=we({},Bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=dt(ex),nx=[9,13,27,32],Iu=tn&&"CompositionEvent"in window,_s=null;tn&&"documentMode"in document&&(_s=document.documentMode);var rx=tn&&"TextEvent"in window&&!_s,Vh=tn&&(!Iu||_s&&8<_s&&11>=_s),cd=" ",dd=!1;function Uh(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function sx(e,t){switch(e){case"compositionend":return Wh(t);case"keypress":return t.which!==32?null:(dd=!0,cd);case"textInput":return e=t.data,e===cd&&dd?null:e;default:return null}}function ix(e,t){if(mr)return e==="compositionend"||!Iu&&Uh(e,t)?(e=Hh(),Hi=Pu=xn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vh&&t.locale!=="ko"?null:t.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ox[e.type]:t==="textarea"}function Yh(e,t,n,r){bh(r),t=ho(t,"onChange"),0<t.length&&(n=new Ru("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Es=null,Ds=null;function lx(e){rp(e,0)}function Ho(e){var t=xr(e);if(gh(t))return e}function ax(e,t){if(e==="change")return t}var qh=!1;if(tn){var _l;if(tn){var El="oninput"in document;if(!El){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),El=typeof hd.oninput=="function"}_l=El}else _l=!1;qh=_l&&(!document.documentMode||9<document.documentMode)}function pd(){Es&&(Es.detachEvent("onpropertychange",Kh),Ds=Es=null)}function Kh(e){if(e.propertyName==="value"&&Ho(Ds)){var t=[];Yh(t,Ds,e,ju(e)),jh(lx,t)}}function ux(e,t,n){e==="focusin"?(pd(),Es=t,Ds=n,Es.attachEvent("onpropertychange",Kh)):e==="focusout"&&pd()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ho(Ds)}function dx(e,t){if(e==="click")return Ho(t)}function fx(e,t){if(e==="input"||e==="change")return Ho(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:hx;function Os(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ra.call(t,s)||!Pt(e[s],t[s]))return!1}return!0}function md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gd(e,t){var n=md(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function Xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gh(){for(var e=window,t=io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=io(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function px(e){var t=Gh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xh(n.ownerDocument.documentElement,n)){if(r!==null&&zu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=gd(n,i);var o=gd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mx=tn&&"documentMode"in document&&11>=document.documentMode,gr=null,Sa=null,js=null,ba=!1;function yd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ba||gr==null||gr!==io(r)||(r=gr,"selectionStart"in r&&zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&Os(js,r)||(js=r,r=ho(Sa,"onSelect"),0<r.length&&(t=new Ru("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},jl={},Qh={};tn&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Vo(e){if(jl[e])return jl[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qh)return jl[e]=t[n];return e}var Zh=Vo("animationend"),Jh=Vo("animationiteration"),ep=Vo("animationstart"),tp=Vo("transitionend"),np=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){np.set(e,t),sr(t,[e])}for(var Cl=0;Cl<xd.length;Cl++){var Al=xd[Cl],gx=Al.toLowerCase(),yx=Al[0].toUpperCase()+Al.slice(1);Pn(gx,"on"+yx)}Pn(Zh,"onAnimationEnd");Pn(Jh,"onAnimationIteration");Pn(ep,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(tp,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function vd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gy(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;vd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;vd(s,l,c),i=a}}}if(lo)throw e=xa,lo=!1,xa=null,e}function pe(e,t){var n=t[Ca];n===void 0&&(n=t[Ca]=new Set);var r=e+"__bubble";n.has(r)||(sp(t,e,2,!1),n.add(r))}function Tl(e,t,n){var r=0;t&&(r|=4),sp(n,e,r,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Fs(e){if(!e[wi]){e[wi]=!0,dh.forEach(function(n){n!=="selectionchange"&&(xx.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,Tl("selectionchange",!1,t))}}function sp(e,t,n,r){switch(Bh(t)){case 1:var s=Py;break;case 4:s=Ry;break;default:s=$u}n=s.bind(null,t,n,e),s=void 0,!ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $l(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}jh(function(){var c=i,d=ju(n),f=[];e:{var h=np.get(e);if(h!==void 0){var g=Ru,v=e;switch(e){case"keypress":if(Vi(n)===0)break e;case"keydown":case"keyup":g=Ky;break;case"focusin":v="focus",g=kl;break;case"focusout":v="blur",g=kl;break;case"beforeblur":case"afterblur":g=kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Qy;break;case Zh:case Jh:case ep:g=Oy;break;case tp:g=Jy;break;case"scroll":g=My;break;case"wheel":g=tx;break;case"copy":case"cut":case"paste":g=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ud}var x=(t&4)!==0,b=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=Ms(m,p),w!=null&&x.push(Bs(m,w,y)))),b)break;m=m.return}0<x.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ma&&(v=n.relatedTarget||n.fromElement)&&(Hn(v)||v[nn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Hn(v):null,v!==null&&(b=ir(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=ld,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=ud,w="onPointerLeave",p="onPointerEnter",m="pointer"),b=g==null?h:xr(g),y=v==null?h:xr(v),h=new x(w,m+"leave",g,n,d),h.target=b,h.relatedTarget=y,w=null,Hn(d)===c&&(x=new x(p,m+"enter",v,n,d),x.target=y,x.relatedTarget=b,w=x),b=w,g&&v)t:{for(x=g,p=v,m=0,y=x;y;y=ar(y))m++;for(y=0,w=p;w;w=ar(w))y++;for(;0<m-y;)x=ar(x),m--;for(;0<y-m;)p=ar(p),y--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=ar(x),p=ar(p)}x=null}else x=null;g!==null&&wd(f,h,g,x,!1),v!==null&&b!==null&&wd(f,b,v,x,!0)}}e:{if(h=c?xr(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=ax;else if(fd(h))if(qh)_=fx;else{_=cx;var A=ux}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=dx);if(_&&(_=_(e,c))){Yh(f,_,n,d);break e}A&&A(e,h,c),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&ca(h,"number",h.value)}switch(A=c?xr(c):window,e){case"focusin":(fd(A)||A.contentEditable==="true")&&(gr=A,Sa=c,js=null);break;case"focusout":js=Sa=gr=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,yd(f,n,d);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":yd(f,n,d)}var $;if(Iu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else mr?Uh(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Vh&&n.locale!=="ko"&&(mr||R!=="onCompositionStart"?R==="onCompositionEnd"&&mr&&($=Hh()):(xn=d,Pu="value"in xn?xn.value:xn.textContent,mr=!0)),A=ho(c,R),0<A.length&&(R=new ad(R,e,null,n,d),f.push({event:R,listeners:A}),$?R.data=$:($=Wh(n),$!==null&&(R.data=$)))),($=rx?sx(e,n):ix(e,n))&&(c=ho(c,"onBeforeInput"),0<c.length&&(d=new ad("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=$))}rp(f,t)})}function Bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ms(e,n),i!=null&&r.unshift(Bs(e,i,s)),i=Ms(e,t),i!=null&&r.push(Bs(e,i,s))),e=e.return}return r}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Ms(n,i),a!=null&&o.unshift(Bs(n,a,l))):s||(a=Ms(n,i),a!=null&&o.push(Bs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function Nd(e){return(typeof e=="string"?e:""+e).replace(vx,`
`).replace(wx,"")}function Ni(e,t,n){if(t=Nd(t),Nd(e)!==t&&n)throw Error(H(425))}function po(){}var ka=null,_a=null;function Ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,Nx=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Sd<"u"?function(e){return Sd.resolve(null).then(e).catch(bx)}:ja;function bx(e){setTimeout(function(){throw e})}function Pl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ls(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ls(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Kr,Hs="__reactProps$"+Kr,nn="__reactContainer$"+Kr,Ca="__reactEvents$"+Kr,kx="__reactListeners$"+Kr,_x="__reactHandles$"+Kr;function Hn(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bd(e);e!==null;){if(n=e[Lt])return n;e=bd(e)}return t}e=n,n=e.parentNode}return null}function oi(e){return e=e[Lt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Uo(e){return e[Hs]||null}var Aa=[],vr=-1;function Rn(e){return{current:e}}function me(e){0>vr||(e.current=Aa[vr],Aa[vr]=null,vr--)}function fe(e,t){vr++,Aa[vr]=e.current,e.current=t}var $n={},Ue=Rn($n),tt=Rn(!1),Qn=$n;function zr(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function mo(){me(tt),me(Ue)}function kd(e,t,n){if(Ue.current!==$n)throw Error(H(168));fe(Ue,t),fe(tt,n)}function ip(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,uy(e)||"Unknown",s));return we({},n,r)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,Qn=Ue.current,fe(Ue,e),fe(tt,tt.current),!0}function _d(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=ip(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,me(tt),me(Ue),fe(Ue,e)):me(tt),fe(tt,n)}var Xt=null,Wo=!1,Rl=!1;function op(e){Xt===null?Xt=[e]:Xt.push(e)}function Ex(e){Wo=!0,op(e)}function Mn(){if(!Rl&&Xt!==null){Rl=!0;var e=0,t=ce;try{var n=Xt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,Wo=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),$h(Cu,Mn),s}finally{ce=t,Rl=!1}}return null}var wr=[],Nr=0,yo=null,xo=0,ft=[],ht=0,Zn=null,Gt=1,Qt="";function On(e,t){wr[Nr++]=xo,wr[Nr++]=yo,yo=e,xo=t}function lp(e,t,n){ft[ht++]=Gt,ft[ht++]=Qt,ft[ht++]=Zn,Zn=e;var r=Gt;e=Qt;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var i=32-Tt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gt=1<<32-Tt(t)+s|n<<s|r,Qt=i+e}else Gt=1<<i|n<<s|r,Qt=e}function Lu(e){e.return!==null&&(On(e,1),lp(e,1,0))}function Du(e){for(;e===yo;)yo=wr[--Nr],wr[Nr]=null,xo=wr[--Nr],wr[Nr]=null;for(;e===Zn;)Zn=ft[--ht],ft[ht]=null,Qt=ft[--ht],ft[ht]=null,Gt=ft[--ht],ft[ht]=null}var lt=null,ot=null,ye=!1,Ct=null;function ap(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ed(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Gt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ot=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(ye){var t=ot;if(t){var n=t;if(!Ed(e,t)){if(Ta(e))throw Error(H(418));t=bn(n.nextSibling);var r=lt;t&&Ed(e,t)?ap(r,n):(e.flags=e.flags&-4097|2,ye=!1,lt=e)}}else{if(Ta(e))throw Error(H(418));e.flags=e.flags&-4097|2,ye=!1,lt=e}}}function jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Si(e){if(e!==lt)return!1;if(!ye)return jd(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ea(e.type,e.memoizedProps)),t&&(t=ot)){if(Ta(e))throw up(),Error(H(418));for(;t;)ap(e,t),t=bn(t.nextSibling)}if(jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?bn(e.stateNode.nextSibling):null;return!0}function up(){for(var e=ot;e;)e=bn(e.nextSibling)}function Lr(){ot=lt=null,ye=!1}function Ou(e){Ct===null?Ct=[e]:Ct.push(e)}var jx=an.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function cp(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=jn(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,w){return m===null||m.tag!==6?(m=Fl(y,p.mode,w),m.return=p,m):(m=s(m,y),m.return=p,m)}function a(p,m,y,w){var _=y.type;return _===pr?d(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&Cd(_)===m.type)?(w=s(m,y.props),w.ref=is(p,m,y),w.return=p,w):(w=Gi(y.type,y.key,y.props,null,p.mode,w),w.ref=is(p,m,y),w.return=p,w)}function c(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Bl(y,p.mode,w),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,w,_){return m===null||m.tag!==7?(m=Kn(y,p.mode,w,_),m.return=p,m):(m=s(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Fl(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fi:return y=Gi(m.type,m.key,m.props,null,p.mode,y),y.ref=is(p,null,m),y.return=p,y;case hr:return m=Bl(m,p.mode,y),m.return=p,m;case dn:var w=m._init;return f(p,w(m._payload),y)}if(gs(m)||es(m))return m=Kn(m,p.mode,y,null),m.return=p,m;bi(p,m)}return null}function h(p,m,y,w){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fi:return y.key===_?a(p,m,y,w):null;case hr:return y.key===_?c(p,m,y,w):null;case dn:return _=y._init,h(p,m,_(y._payload),w)}if(gs(y)||es(y))return _!==null?null:d(p,m,y,w,null);bi(p,y)}return null}function g(p,m,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(m,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fi:return p=p.get(w.key===null?y:w.key)||null,a(m,p,w,_);case hr:return p=p.get(w.key===null?y:w.key)||null,c(m,p,w,_);case dn:var A=w._init;return g(p,m,y,A(w._payload),_)}if(gs(w)||es(w))return p=p.get(y)||null,d(m,p,w,_,null);bi(m,w)}return null}function v(p,m,y,w){for(var _=null,A=null,$=m,R=m=0,M=null;$!==null&&R<y.length;R++){$.index>R?(M=$,$=null):M=$.sibling;var z=h(p,$,y[R],w);if(z===null){$===null&&($=M);break}e&&$&&z.alternate===null&&t(p,$),m=i(z,m,R),A===null?_=z:A.sibling=z,A=z,$=M}if(R===y.length)return n(p,$),ye&&On(p,R),_;if($===null){for(;R<y.length;R++)$=f(p,y[R],w),$!==null&&(m=i($,m,R),A===null?_=$:A.sibling=$,A=$);return ye&&On(p,R),_}for($=r(p,$);R<y.length;R++)M=g($,p,R,y[R],w),M!==null&&(e&&M.alternate!==null&&$.delete(M.key===null?R:M.key),m=i(M,m,R),A===null?_=M:A.sibling=M,A=M);return e&&$.forEach(function(F){return t(p,F)}),ye&&On(p,R),_}function x(p,m,y,w){var _=es(y);if(typeof _!="function")throw Error(H(150));if(y=_.call(y),y==null)throw Error(H(151));for(var A=_=null,$=m,R=m=0,M=null,z=y.next();$!==null&&!z.done;R++,z=y.next()){$.index>R?(M=$,$=null):M=$.sibling;var F=h(p,$,z.value,w);if(F===null){$===null&&($=M);break}e&&$&&F.alternate===null&&t(p,$),m=i(F,m,R),A===null?_=F:A.sibling=F,A=F,$=M}if(z.done)return n(p,$),ye&&On(p,R),_;if($===null){for(;!z.done;R++,z=y.next())z=f(p,z.value,w),z!==null&&(m=i(z,m,R),A===null?_=z:A.sibling=z,A=z);return ye&&On(p,R),_}for($=r(p,$);!z.done;R++,z=y.next())z=g($,p,R,z.value,w),z!==null&&(e&&z.alternate!==null&&$.delete(z.key===null?R:z.key),m=i(z,m,R),A===null?_=z:A.sibling=z,A=z);return e&&$.forEach(function(U){return t(p,U)}),ye&&On(p,R),_}function b(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===pr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fi:e:{for(var _=y.key,A=m;A!==null;){if(A.key===_){if(_=y.type,_===pr){if(A.tag===7){n(p,A.sibling),m=s(A,y.props.children),m.return=p,p=m;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&Cd(_)===A.type){n(p,A.sibling),m=s(A,y.props),m.ref=is(p,A,y),m.return=p,p=m;break e}n(p,A);break}else t(p,A);A=A.sibling}y.type===pr?(m=Kn(y.props.children,p.mode,w,y.key),m.return=p,p=m):(w=Gi(y.type,y.key,y.props,null,p.mode,w),w.ref=is(p,m,y),w.return=p,p=w)}return o(p);case hr:e:{for(A=y.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Bl(y,p.mode,w),m.return=p,p=m}return o(p);case dn:return A=y._init,b(p,m,A(y._payload),w)}if(gs(y))return v(p,m,y,w);if(es(y))return x(p,m,y,w);bi(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,y),m.return=p,p=m):(n(p,m),m=Fl(y,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return b}var Dr=cp(!0),dp=cp(!1),vo=Rn(null),wo=null,Sr=null,Fu=null;function Bu(){Fu=Sr=wo=null}function Hu(e){var t=vo.current;me(vo),e._currentValue=t}function Pa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){wo=e,Fu=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Fu!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(wo===null)throw Error(H(308));Sr=e,wo.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Vn=null;function Vu(e){Vn===null?Vn=[e]:Vn.push(e)}function fp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vu(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function Uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,Vu(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function Ui(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Au(e,n)}}function Ad(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var s=e.updateQueue;fn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=c=a=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(h=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=we({},f,h);break e;case 2:fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=g,a=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);er|=o,e.lanes=o,e.memoizedState=f}}function Td(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var li={},Ot=Rn(li),Vs=Rn(li),Us=Rn(li);function Un(e){if(e===li)throw Error(H(174));return e}function Wu(e,t){switch(fe(Us,t),fe(Vs,e),fe(Ot,li),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fa(t,e)}me(Ot),fe(Ot,t)}function Or(){me(Ot),me(Vs),me(Us)}function pp(e){Un(Us.current);var t=Un(Ot.current),n=fa(t,e.type);t!==n&&(fe(Vs,e),fe(Ot,n))}function Yu(e){Vs.current===e&&(me(Ot),me(Vs))}var xe=Rn(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function qu(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Wi=an.ReactCurrentDispatcher,Il=an.ReactCurrentBatchConfig,Jn=0,ve=null,Ae=null,Pe=null,bo=!1,Cs=!1,Ws=0,Cx=0;function Be(){throw Error(H(321))}function Ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Xu(e,t,n,r,s,i){if(Jn=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wi.current=e===null||e.memoizedState===null?Px:Rx,e=n(r,s),Cs){i=0;do{if(Cs=!1,Ws=0,25<=i)throw Error(H(301));i+=1,Pe=Ae=null,t.updateQueue=null,Wi.current=Mx,e=n(r,s)}while(Cs)}if(Wi.current=ko,t=Ae!==null&&Ae.next!==null,Jn=0,Pe=Ae=ve=null,bo=!1,t)throw Error(H(300));return e}function Gu(){var e=Ws!==0;return Ws=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Nt(){if(Ae===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Pe===null?ve.memoizedState:Pe.next;if(t!==null)Pe=t,Ae=e;else{if(e===null)throw Error(H(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ys(e,t){return typeof t=="function"?t(e):t}function zl(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((Jn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ve.lanes|=d,er|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Pt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ve.lanes|=i,er|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ll(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function mp(){}function gp(e,t){var n=ve,r=Nt(),s=t(),i=!Pt(r.memoizedState,s);if(i&&(r.memoizedState=s,Je=!0),r=r.queue,Qu(vp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,qs(9,xp.bind(null,n,r,s,t),void 0,null),Re===null)throw Error(H(349));Jn&30||yp(n,t,s)}return s}function yp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xp(e,t,n,r){t.value=n,t.getSnapshot=r,wp(t)&&Np(e)}function vp(e,t,n){return n(function(){wp(t)&&Np(e)})}function wp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Np(e){var t=rn(e,1);t!==null&&$t(t,e,1,-1)}function $d(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=$x.bind(null,ve,e),[t.memoizedState,e]}function qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sp(){return Nt().memoizedState}function Yi(e,t,n,r){var s=zt();ve.flags|=e,s.memoizedState=qs(1|t,n,void 0,r===void 0?null:r)}function Yo(e,t,n,r){var s=Nt();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var o=Ae.memoizedState;if(i=o.destroy,r!==null&&Ku(r,o.deps)){s.memoizedState=qs(t,n,i,r);return}}ve.flags|=e,s.memoizedState=qs(1|t,n,i,r)}function Pd(e,t){return Yi(8390656,8,e,t)}function Qu(e,t){return Yo(2048,8,e,t)}function bp(e,t){return Yo(4,2,e,t)}function kp(e,t){return Yo(4,4,e,t)}function _p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ep(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4,4,_p.bind(null,t,e),n)}function Zu(){}function jp(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cp(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ap(e,t,n){return Jn&21?(Pt(n,t)||(n=Mh(),ve.lanes|=n,er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Ax(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{ce=n,Il.transition=r}}function Tp(){return Nt().memoizedState}function Tx(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$p(e))Pp(t,n);else if(n=fp(e,t,n,r),n!==null){var s=Ke();$t(n,e,r,s),Rp(n,t,r)}}function $x(e,t,n){var r=En(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($p(e))Pp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Pt(l,o)){var a=t.interleaved;a===null?(s.next=s,Vu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=fp(e,t,s,r),n!==null&&(s=Ke(),$t(n,e,r,s),Rp(n,t,r))}}function $p(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Pp(e,t){Cs=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Au(e,n)}}var ko={readContext:wt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Px={readContext:wt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Pd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4194308,4,_p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yi(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tx.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:Zu,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Ax.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,s=zt();if(ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Re===null)throw Error(H(349));Jn&30||yp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Pd(vp.bind(null,r,i,e),[e]),r.flags|=2048,qs(9,xp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zt(),t=Re.identifierPrefix;if(ye){var n=Qt,r=Gt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rx={readContext:wt,useCallback:jp,useContext:wt,useEffect:Qu,useImperativeHandle:Ep,useInsertionEffect:bp,useLayoutEffect:kp,useMemo:Cp,useReducer:zl,useRef:Sp,useState:function(){return zl(Ys)},useDebugValue:Zu,useDeferredValue:function(e){var t=Nt();return Ap(t,Ae.memoizedState,e)},useTransition:function(){var e=zl(Ys)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:mp,useSyncExternalStore:gp,useId:Tp,unstable_isNewReconciler:!1},Mx={readContext:wt,useCallback:jp,useContext:wt,useEffect:Qu,useImperativeHandle:Ep,useInsertionEffect:bp,useLayoutEffect:kp,useMemo:Cp,useReducer:Ll,useRef:Sp,useState:function(){return Ll(Ys)},useDebugValue:Zu,useDeferredValue:function(e){var t=Nt();return Ae===null?t.memoizedState=e:Ap(t,Ae.memoizedState,e)},useTransition:function(){var e=Ll(Ys)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:mp,useSyncExternalStore:gp,useId:Tp,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ra(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),s=En(e),i=Jt(r,s);i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,s),t!==null&&($t(t,e,s,r),Ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),s=En(e),i=Jt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,s),t!==null&&($t(t,e,s,r),Ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=En(e),s=Jt(n,r);s.tag=2,t!=null&&(s.callback=t),t=kn(e,s,r),t!==null&&($t(t,e,r,n),Ui(t,e,r))}};function Rd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Os(n,r)||!Os(s,i):!0}function Mp(e,t,n){var r=!1,s=$n,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=nt(t)?Qn:Ue.current,r=t.contextTypes,i=(r=r!=null)?zr(e,s):$n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Ma(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=nt(t)?Qn:Ue.current,s.context=zr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ra(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qo.enqueueReplaceState(s,s.state,null),No(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=ay(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ix=typeof WeakMap=="function"?WeakMap:Map;function Ip(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eo||(Eo=!0,Wa=r),Ia(e,t)},n}function zp(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ia(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ix;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xx.bind(null,e,t,n),t.then(e,e))}function zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ld(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var zx=an.ReactCurrentOwner,Je=!1;function qe(e,t,n,r){t.child=e===null?dp(t,null,n,r):Dr(t,e.child,n,r)}function Dd(e,t,n,r,s){n=n.render;var i=t.ref;return Tr(t,s),r=Xu(e,t,n,r,i,s),n=Gu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ye&&n&&Lu(t),t.flags|=1,qe(e,t,r,s),t.child)}function Od(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Lp(e,t,i,r,s)):(e=Gi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(o,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=jn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Os(i,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,sn(e,t,s)}return za(e,t,n,r,s)}function Dp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(kr,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(kr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(kr,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,fe(kr,it),it|=r;return qe(e,t,s,n),t.child}function Op(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function za(e,t,n,r,s){var i=nt(n)?Qn:Ue.current;return i=zr(t,i),Tr(t,s),n=Xu(e,t,n,r,i,s),r=Gu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ye&&r&&Lu(t),t.flags|=1,qe(e,t,n,s),t.child)}function Fd(e,t,n,r,s){if(nt(n)){var i=!0;go(t)}else i=!1;if(Tr(t,s),t.stateNode===null)qi(e,t),Mp(t,n,r),Ma(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wt(c):(c=nt(n)?Qn:Ue.current,c=zr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Md(t,o,r,c),fn=!1;var h=t.memoizedState;o.state=h,No(t,r,o,s),a=t.memoizedState,l!==r||h!==a||tt.current||fn?(typeof d=="function"&&(Ra(t,n,d,r),a=t.memoizedState),(l=fn||Rd(t,n,l,r,h,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,hp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:kt(t.type,l),o.props=c,f=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=wt(a):(a=nt(n)?Qn:Ue.current,a=zr(t,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Md(t,o,r,a),fn=!1,h=t.memoizedState,o.state=h,No(t,r,o,s);var v=t.memoizedState;l!==f||h!==v||tt.current||fn?(typeof g=="function"&&(Ra(t,n,g,r),v=t.memoizedState),(c=fn||Rd(t,n,c,r,h,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,i,s)}function La(e,t,n,r,s,i){Op(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_d(t,n,!1),sn(e,t,i);r=t.stateNode,zx.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,l,i)):qe(e,t,l,i),t.memoizedState=r.state,s&&_d(t,n,!0),t.child}function Fp(e){var t=e.stateNode;t.pendingContext?kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kd(e,t.context,!1),Wu(e,t.containerInfo)}function Bd(e,t,n,r,s){return Lr(),Ou(s),t.flags|=256,qe(e,t,n,r),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bp(e,t,n){var r=t.pendingProps,s=xe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(xe,s&1),e===null)return $a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Go(o,r,0,null),e=Kn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oa(n),t.memoizedState=Da,e):Ju(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lx(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=jn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=jn(l,i):(i=Kn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Oa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Da,r}return i=e.child,e=i.sibling,r=jn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ju(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ki(e,t,n,r){return r!==null&&Ou(r),Dr(t,e.child,null,n),e=Ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lx(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Dl(Error(H(422))),ki(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Go({mode:"visible",children:r.children},s,0,null),i=Kn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=Oa(o),t.memoizedState=Da,i);if(!(t.mode&1))return ki(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=Dl(i,r,void 0),ki(e,t,o,r)}if(l=(o&e.childLanes)!==0,Je||l){if(r=Re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rn(e,s),$t(r,e,s,-1))}return ic(),r=Dl(Error(H(421))),ki(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ot=bn(s.nextSibling),lt=t,ye=!0,Ct=null,e!==null&&(ft[ht++]=Gt,ft[ht++]=Qt,ft[ht++]=Zn,Gt=e.id,Qt=e.overflow,Zn=t),t=Ju(t,r.children),t.flags|=4096,t)}function Hd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pa(e.return,t,n)}function Ol(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,n,t);else if(e.tag===19)Hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ol(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&So(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ol(t,!0,n,null,i);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dx(e,t,n){switch(t.tag){case 3:Fp(t),Lr();break;case 5:pp(t);break;case 1:nt(t.type)&&go(t);break;case 4:Wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;fe(vo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Bp(e,t,n):(fe(xe,xe.current&1),e=sn(e,t,n),e!==null?e.sibling:null);fe(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Dp(e,t,n)}return sn(e,t,n)}var Vp,Fa,Up,Wp;Vp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fa=function(){};Up=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Un(Ot.current);var i=null;switch(n){case"input":s=aa(e,s),r=aa(e,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=da(e,s),r=da(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=po)}ha(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ps.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ps.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&pe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Wp=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ox(e,t,n){var r=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return nt(t.type)&&mo(),He(t),null;case 3:return r=t.stateNode,Or(),me(tt),me(Ue),qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(Ka(Ct),Ct=null))),Fa(e,t),He(t),null;case 5:Yu(t);var s=Un(Us.current);if(n=t.type,e!==null&&t.stateNode!=null)Up(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return He(t),null}if(e=Un(Ot.current),Si(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Lt]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<xs.length;s++)pe(xs[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Qc(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Jc(r,i),pe("invalid",r)}ha(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",""+l]):Ps.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":hi(r),Zc(r,i,!0);break;case"textarea":hi(r),ed(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=po)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Lt]=t,e[Hs]=r,Vp(e,t,!1,!1),t.stateNode=e;e:{switch(o=pa(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<xs.length;s++)pe(xs[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":Qc(e,r),s=aa(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Jc(e,r),s=da(e,r),pe("invalid",e);break;default:s=r}ha(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Sh(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wh(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Rs(e,a):typeof a=="number"&&Rs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ps.hasOwnProperty(i)?a!=null&&i==="onScroll"&&pe("scroll",e):a!=null&&bu(e,i,a,o))}switch(n){case"input":hi(e),Zc(e,r,!1);break;case"textarea":hi(e),ed(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Wp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Un(Us.current),Un(Ot.current),Si(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(i=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return He(t),null;case 13:if(me(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&ot!==null&&t.mode&1&&!(t.flags&128))up(),Lr(),t.flags|=98560,i=!1;else if(i=Si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Lt]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),i=!1}else Ct!==null&&(Ka(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Te===0&&(Te=3):ic())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Or(),Fa(e,t),e===null&&Fs(t.stateNode.containerInfo),He(t),null;case 10:return Hu(t.type._context),He(t),null;case 17:return nt(t.type)&&mo(),He(t),null;case 19:if(me(xe),i=t.memoizedState,i===null)return He(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=So(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>Br&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=So(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return He(t),null}else 2*ke()-i.renderingStartTime>Br&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=xe.current,fe(xe,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Fx(e,t){switch(Du(t),t.tag){case 1:return nt(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),me(tt),me(Ue),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yu(t),null;case 13:if(me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(xe),null;case 4:return Or(),null;case 10:return Hu(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var _i=!1,Ve=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,K=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Ba(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Vd=!1;function Hx(e,t){if(ka=co,e=Gh(),zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++d===r&&(a=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_a={focusedElem:e,selectionRange:n},co=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:kt(t.type,x),b);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Se(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return v=Vd,Vd=!1,v}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ba(t,n,i)}s=s.next}while(s!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ha(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yp(e){var t=e.alternate;t!==null&&(e.alternate=null,Yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Hs],delete t[Ca],delete t[kx],delete t[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qp(e){return e.tag===5||e.tag===3||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=po));else if(r!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function Ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ua(e,t,n),e=e.sibling;e!==null;)Ua(e,t,n),e=e.sibling}var ze=null,_t=!1;function un(e,t,n){for(n=n.child;n!==null;)Kp(e,t,n),n=n.sibling}function Kp(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Fo,n)}catch{}switch(n.tag){case 5:Ve||br(n,t);case 6:var r=ze,s=_t;ze=null,un(e,t,n),ze=r,_t=s,ze!==null&&(_t?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(_t?(e=ze,n=n.stateNode,e.nodeType===8?Pl(e.parentNode,n):e.nodeType===1&&Pl(e,n),Ls(e)):Pl(ze,n.stateNode));break;case 4:r=ze,s=_t,ze=n.stateNode.containerInfo,_t=!0,un(e,t,n),ze=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ba(n,t,o),s=s.next}while(s!==r)}un(e,t,n);break;case 1:if(!Ve&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,un(e,t,n),Ve=r):un(e,t,n);break;default:un(e,t,n)}}function Wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bx),t.forEach(function(r){var s=Qx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,_t=!1;break e;case 3:ze=l.stateNode.containerInfo,_t=!0;break e;case 4:ze=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(ze===null)throw Error(H(160));Kp(i,o,s),ze=null,_t=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xp(t,e),t=t.sibling}function Xp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),It(e),r&4){try{As(3,e,e.return),Ko(3,e)}catch(x){Se(e,e.return,x)}try{As(5,e,e.return)}catch(x){Se(e,e.return,x)}}break;case 1:bt(t,e),It(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(bt(t,e),It(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{Rs(s,"")}catch(x){Se(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yh(s,i),pa(l,o);var c=pa(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Sh(s,f):d==="dangerouslySetInnerHTML"?wh(s,f):d==="children"?Rs(s,f):bu(s,d,f,c)}switch(l){case"input":ua(s,i);break;case"textarea":xh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Er(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(x){Se(e,e.return,x)}}break;case 6:if(bt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Se(e,e.return,x)}}break;case 3:if(bt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(x){Se(e,e.return,x)}break;case 4:bt(t,e),It(e);break;case 13:bt(t,e),It(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=ke())),r&4&&Wd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(c=Ve)||d,bt(t,e),Ve=c):bt(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,g=h.child,h.tag){case 0:case 11:case 14:case 15:As(4,h,h.return);break;case 1:br(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Se(r,n,x)}}break;case 5:br(h,h.return);break;case 22:if(h.memoizedState!==null){qd(f);continue}}g!==null?(g.return=h,K=g):qd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nh("display",o))}catch(x){Se(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Se(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bt(t,e),It(e),r&4&&Wd(e);break;case 21:break;default:bt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qp(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rs(s,""),r.flags&=-33);var i=Ud(e);Ua(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ud(e);Va(e,l,o);break;default:throw Error(H(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vx(e,t,n){K=e,Gp(e)}function Gp(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_i;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ve;l=_i;var c=Ve;if(_i=o,(Ve=a)&&!c)for(K=s;K!==null;)o=K,a=o.child,o.tag===22&&o.memoizedState!==null?Kd(s):a!==null?(a.return=o,K=a):Kd(s);for(;i!==null;)K=i,Gp(i),i=i.sibling;K=s,_i=l,Ve=c}Yd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Yd(e)}}function Yd(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Td(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Td(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ve||t.flags&512&&Ha(t)}catch(h){Se(t,t.return,h)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function qd(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Kd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Se(t,s,a)}}var i=t.return;try{Ha(t)}catch(a){Se(t,i,a)}break;case 5:var o=t.return;try{Ha(t)}catch(a){Se(t,o,a)}}}catch(a){Se(t,t.return,a)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var Ux=Math.ceil,_o=an.ReactCurrentDispatcher,ec=an.ReactCurrentOwner,xt=an.ReactCurrentBatchConfig,le=0,Re=null,Ee=null,Le=0,it=0,kr=Rn(0),Te=0,Ks=null,er=0,Xo=0,tc=0,Ts=null,Ze=null,nc=0,Br=1/0,Kt=null,Eo=!1,Wa=null,_n=null,Ei=!1,vn=null,jo=0,$s=0,Ya=null,Ki=-1,Xi=0;function Ke(){return le&6?ke():Ki!==-1?Ki:Ki=ke()}function En(e){return e.mode&1?le&2&&Le!==0?Le&-Le:jx.transition!==null?(Xi===0&&(Xi=Mh()),Xi):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Bh(e.type)),e):1}function $t(e,t,n,r){if(50<$s)throw $s=0,Ya=null,Error(H(185));si(e,n,r),(!(le&2)||e!==Re)&&(e===Re&&(!(le&2)&&(Xo|=n),Te===4&&gn(e,Le)),rt(e,r),n===1&&le===0&&!(t.mode&1)&&(Br=ke()+500,Wo&&Mn()))}function rt(e,t){var n=e.callbackNode;jy(e,t);var r=uo(e,e===Re?Le:0);if(r===0)n!==null&&rd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rd(n),t===1)e.tag===0?Ex(Xd.bind(null,e)):op(Xd.bind(null,e)),Sx(function(){!(le&6)&&Mn()}),n=null;else{switch(Ih(r)){case 1:n=Cu;break;case 4:n=Ph;break;case 16:n=ao;break;case 536870912:n=Rh;break;default:n=ao}n=sm(n,Qp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qp(e,t){if(Ki=-1,Xi=0,le&6)throw Error(H(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var r=uo(e,e===Re?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Co(e,r);else{t=r;var s=le;le|=2;var i=Jp();(Re!==e||Le!==t)&&(Kt=null,Br=ke()+500,qn(e,t));do try{qx();break}catch(l){Zp(e,l)}while(!0);Bu(),_o.current=i,le=s,Ee!==null?t=0:(Re=null,Le=0,t=Te)}if(t!==0){if(t===2&&(s=va(e),s!==0&&(r=s,t=qa(e,s))),t===1)throw n=Ks,qn(e,0),gn(e,r),rt(e,ke()),n;if(t===6)gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Wx(s)&&(t=Co(e,r),t===2&&(i=va(e),i!==0&&(r=i,t=qa(e,i))),t===1))throw n=Ks,qn(e,0),gn(e,r),rt(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Fn(e,Ze,Kt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=nc+500-ke(),10<t)){if(uo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ja(Fn.bind(null,e,Ze,Kt),t);break}Fn(e,Ze,Kt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Tt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ux(r/1960))-r,10<r){e.timeoutHandle=ja(Fn.bind(null,e,Ze,Kt),r);break}Fn(e,Ze,Kt);break;case 5:Fn(e,Ze,Kt);break;default:throw Error(H(329))}}}return rt(e,ke()),e.callbackNode===n?Qp.bind(null,e):null}function qa(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Co(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Ka(t)),e}function Ka(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Wx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~tc,t&=~Xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function Xd(e){if(le&6)throw Error(H(327));$r();var t=uo(e,0);if(!(t&1))return rt(e,ke()),null;var n=Co(e,t);if(e.tag!==0&&n===2){var r=va(e);r!==0&&(t=r,n=qa(e,r))}if(n===1)throw n=Ks,qn(e,0),gn(e,t),rt(e,ke()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,Ze,Kt),rt(e,ke()),null}function rc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Br=ke()+500,Wo&&Mn())}}function tr(e){vn!==null&&vn.tag===0&&!(le&6)&&$r();var t=le;le|=1;var n=xt.transition,r=ce;try{if(xt.transition=null,ce=1,e)return e()}finally{ce=r,xt.transition=n,le=t,!(le&6)&&Mn()}}function sc(){it=kr.current,me(kr)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nx(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mo();break;case 3:Or(),me(tt),me(Ue),qu();break;case 5:Yu(r);break;case 4:Or();break;case 13:me(xe);break;case 19:me(xe);break;case 10:Hu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Re=e,Ee=e=jn(e.current,null),Le=it=t,Te=0,Ks=null,tc=Xo=er=0,Ze=Ts=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vn=null}return e}function Zp(e,t){do{var n=Ee;try{if(Bu(),Wi.current=ko,bo){for(var r=ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bo=!1}if(Jn=0,Pe=Ae=ve=null,Cs=!1,Ws=0,ec.current=null,n===null||n.return===null){Te=1,Ks=t,Ee=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=zd(o);if(g!==null){g.flags&=-257,Ld(g,o,l,i,t),g.mode&1&&Id(i,c,t),t=g,a=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Id(i,c,t),ic();break e}a=Error(H(426))}}else if(ye&&l.mode&1){var b=zd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ld(b,o,l,i,t),Ou(Fr(a,l));break e}}i=a=Fr(a,l),Te!==4&&(Te=2),Ts===null?Ts=[i]:Ts.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ip(i,a,t);Ad(i,p);break e;case 1:l=a;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_n===null||!_n.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=zp(i,l,t);Ad(i,w);break e}}i=i.return}while(i!==null)}tm(n)}catch(_){t=_,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Jp(){var e=_o.current;return _o.current=ko,e===null?ko:e}function ic(){(Te===0||Te===3||Te===2)&&(Te=4),Re===null||!(er&268435455)&&!(Xo&268435455)||gn(Re,Le)}function Co(e,t){var n=le;le|=2;var r=Jp();(Re!==e||Le!==t)&&(Kt=null,qn(e,t));do try{Yx();break}catch(s){Zp(e,s)}while(!0);if(Bu(),le=n,_o.current=r,Ee!==null)throw Error(H(261));return Re=null,Le=0,Te}function Yx(){for(;Ee!==null;)em(Ee)}function qx(){for(;Ee!==null&&!xy();)em(Ee)}function em(e){var t=rm(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?tm(e):Ee=t,ec.current=null}function tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fx(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(n=Ox(n,t,it),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function Fn(e,t,n){var r=ce,s=xt.transition;try{xt.transition=null,ce=1,Kx(e,t,n,r)}finally{xt.transition=s,ce=r}return null}function Kx(e,t,n,r){do $r();while(vn!==null);if(le&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cy(e,i),e===Re&&(Ee=Re=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ei||(Ei=!0,sm(ao,function(){return $r(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var o=ce;ce=1;var l=le;le|=4,ec.current=null,Hx(e,n),Xp(n,e),px(_a),co=!!ka,_a=ka=null,e.current=n,Vx(n),vy(),le=l,ce=o,xt.transition=i}else e.current=n;if(Ei&&(Ei=!1,vn=e,jo=s),i=e.pendingLanes,i===0&&(_n=null),Sy(n.stateNode),rt(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eo)throw Eo=!1,e=Wa,Wa=null,e;return jo&1&&e.tag!==0&&$r(),i=e.pendingLanes,i&1?e===Ya?$s++:($s=0,Ya=e):$s=0,Mn(),null}function $r(){if(vn!==null){var e=Ih(jo),t=xt.transition,n=ce;try{if(xt.transition=null,ce=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,jo=0,le&6)throw Error(H(331));var s=le;for(le|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:As(8,d,i)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,g=d.return;if(Yp(d),d===c){K=null;break}if(h!==null){h.return=g,K=h;break}K=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,K=p;break e}K=i.return}}var m=e.current;for(K=m;K!==null;){o=K;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,K=y;else e:for(o=m;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(_){Se(l,l.return,_)}if(l===o){K=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,K=w;break e}K=l.return}}if(le=s,Mn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Fo,e)}catch{}r=!0}return r}finally{ce=n,xt.transition=t}}return!1}function Gd(e,t,n){t=Fr(n,t),t=Ip(e,t,1),e=kn(e,t,1),t=Ke(),e!==null&&(si(e,1,t),rt(e,t))}function Se(e,t,n){if(e.tag===3)Gd(e,e,n);else for(;t!==null;){if(t.tag===3){Gd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Fr(n,e),e=zp(t,e,1),t=kn(t,e,1),e=Ke(),t!==null&&(si(t,1,e),rt(t,e));break}}t=t.return}}function Xx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Le&n)===n&&(Te===4||Te===3&&(Le&130023424)===Le&&500>ke()-nc?qn(e,0):tc|=n),rt(e,t)}function nm(e,t){t===0&&(e.mode&1?(t=gi,gi<<=1,!(gi&130023424)&&(gi=4194304)):t=1);var n=Ke();e=rn(e,t),e!==null&&(si(e,t,n),rt(e,n))}function Gx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nm(e,n)}function Qx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),nm(e,n)}var rm;rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Dx(e,t,n);Je=!!(e.flags&131072)}else Je=!1,ye&&t.flags&1048576&&lp(t,xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var s=zr(t,Ue.current);Tr(t,n),s=Xu(null,t,r,e,s,n);var i=Gu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(i=!0,go(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uu(t),s.updater=qo,t.stateNode=s,s._reactInternals=t,Ma(t,r,e,n),t=La(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Lu(t),qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Jx(r),e=kt(r,e),s){case 0:t=za(null,t,r,e,n);break e;case 1:t=Fd(null,t,r,e,n);break e;case 11:t=Dd(null,t,r,e,n);break e;case 14:t=Od(null,t,r,kt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),za(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Fd(e,t,r,s,n);case 3:e:{if(Fp(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,s=i.element,hp(e,t),No(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(H(423)),t),t=Bd(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(H(424)),t),t=Bd(e,t,r,n,s);break e}else for(ot=bn(t.stateNode.containerInfo.firstChild),lt=t,ye=!0,Ct=null,n=dp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===s){t=sn(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return pp(t),e===null&&$a(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ea(r,s)?o=null:i!==null&&Ea(r,i)&&(t.flags|=32),Op(e,t),qe(e,t,o,n),t.child;case 6:return e===null&&$a(t),null;case 13:return Bp(e,t,n);case 4:return Wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Dd(e,t,r,s,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,fe(vo,r._currentValue),r._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===s.children&&!tt.current){t=sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Jt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Pa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tr(t,n),s=wt(s),r=r(s),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,s=kt(r,t.pendingProps),s=kt(r.type,s),Od(e,t,r,s,n);case 15:return Lp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),qi(e,t),t.tag=1,nt(r)?(e=!0,go(t)):e=!1,Tr(t,n),Mp(t,r,s),Ma(t,r,s,n),La(null,t,r,!0,e,n);case 19:return Hp(e,t,n);case 22:return Dp(e,t,n)}throw Error(H(156,t.tag))};function sm(e,t){return $h(e,t)}function Zx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,r){return new Zx(e,t,n,r)}function oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jx(e){if(typeof e=="function")return oc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_u)return 11;if(e===Eu)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pr:return Kn(n.children,s,i,t);case ku:o=8,s|=8;break;case sa:return e=gt(12,n,t,s|2),e.elementType=sa,e.lanes=i,e;case ia:return e=gt(13,n,t,s),e.elementType=ia,e.lanes=i,e;case oa:return e=gt(19,n,t,s),e.elementType=oa,e.lanes=i,e;case ph:return Go(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fh:o=10;break e;case hh:o=9;break e;case _u:o=11;break e;case Eu:o=14;break e;case dn:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=gt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Kn(e,t,n,r){return e=gt(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=gt(22,e,r,t),e.elementType=ph,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function Bl(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ev(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lc(e,t,n,r,s,i,o,l,a){return e=new ev(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(i),e}function tv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function im(e){if(!e)return $n;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(nt(n))return ip(e,n,t)}return t}function om(e,t,n,r,s,i,o,l,a){return e=lc(n,r,!0,e,s,i,o,l,a),e.context=im(null),n=e.current,r=Ke(),s=En(n),i=Jt(r,s),i.callback=t??null,kn(n,i,s),e.current.lanes=s,si(e,s,r),rt(e,r),e}function Qo(e,t,n,r){var s=t.current,i=Ke(),o=En(s);return n=im(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(s,t,o),e!==null&&($t(e,s,o,i),Ui(e,s,o)),o}function Ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function nv(){return null}var lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function uc(e){this._internalRoot=e}Zo.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Qo(e,t,null,null)};Zo.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){Qo(null,e,null,null)}),t[nn]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Fh(e)}};function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function rv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ao(o);i.call(c)}}var o=om(t,r,e,0,null,!1,!1,"",Zd);return e._reactRootContainer=o,e[nn]=o.current,Fs(e.nodeType===8?e.parentNode:e),tr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Ao(a);l.call(c)}}var a=lc(e,0,!1,null,null,!1,!1,"",Zd);return e._reactRootContainer=a,e[nn]=a.current,Fs(e.nodeType===8?e.parentNode:e),tr(function(){Qo(t,a,n,r)}),a}function el(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Ao(o);l.call(a)}}Qo(t,o,e,s)}else o=rv(n,t,e,s,r);return Ao(o)}zh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ys(t.pendingLanes);n!==0&&(Au(t,n|1),rt(t,ke()),!(le&6)&&(Br=ke()+500,Mn()))}break;case 13:tr(function(){var r=rn(e,1);if(r!==null){var s=Ke();$t(r,e,1,s)}}),ac(e,1)}};Tu=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ke();$t(t,e,134217728,n)}ac(e,134217728)}};Lh=function(e){if(e.tag===13){var t=En(e),n=rn(e,t);if(n!==null){var r=Ke();$t(n,e,t,r)}ac(e,t)}};Dh=function(){return ce};Oh=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};ga=function(e,t,n){switch(t){case"input":if(ua(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Uo(r);if(!s)throw Error(H(90));gh(r),ua(r,s)}}}break;case"textarea":xh(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};_h=rc;Eh=tr;var sv={usingClientEntryPoint:!1,Events:[oi,xr,Uo,bh,kh,rc]},ls={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iv={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ah(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ji.isDisabled&&ji.supportsFiber)try{Fo=ji.inject(iv),Dt=ji}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(t))throw Error(H(200));return tv(e,t,null,n)};ct.createRoot=function(e,t){if(!cc(e))throw Error(H(299));var n=!1,r="",s=lm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lc(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,Fs(e.nodeType===8?e.parentNode:e),new uc(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Ah(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return tr(e)};ct.hydrate=function(e,t,n){if(!Jo(t))throw Error(H(200));return el(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!cc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=om(t,null,e,1,n??null,s,!1,i,o),e[nn]=t.current,Fs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Zo(t)};ct.render=function(e,t,n){if(!Jo(t))throw Error(H(200));return el(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!Jo(e))throw Error(H(40));return e._reactRootContainer?(tr(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ct.unstable_batchedUpdates=rc;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jo(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return el(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(e){console.error(e)}}am(),ah.exports=ct;var ov=ah.exports,Jd=ov;na.createRoot=Jd.createRoot,na.hydrateRoot=Jd.hydrateRoot;function Oe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Oe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var um={exports:{}},cm={},dm={exports:{}},fm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=S;function lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var av=typeof Object.is=="function"?Object.is:lv,uv=Hr.useState,cv=Hr.useEffect,dv=Hr.useLayoutEffect,fv=Hr.useDebugValue;function hv(e,t){var n=t(),r=uv({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return dv(function(){s.value=n,s.getSnapshot=t,Hl(s)&&i({inst:s})},[e,n,t]),cv(function(){return Hl(s)&&i({inst:s}),e(function(){Hl(s)&&i({inst:s})})},[e]),fv(n),n}function Hl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!av(e,n)}catch{return!0}}function pv(e,t){return t()}var mv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pv:hv;fm.useSyncExternalStore=Hr.useSyncExternalStore!==void 0?Hr.useSyncExternalStore:mv;dm.exports=fm;var gv=dm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=S,yv=gv;function xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vv=typeof Object.is=="function"?Object.is:xv,wv=yv.useSyncExternalStore,Nv=tl.useRef,Sv=tl.useEffect,bv=tl.useMemo,kv=tl.useDebugValue;cm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Nv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=bv(function(){function a(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return f=v}return f=g}if(v=f,vv(d,g))return v;var x=r(g);return s!==void 0&&s(v,x)?(d=g,v):(d=g,f=x)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,s]);var l=wv(e,i[0],i[1]);return Sv(function(){o.hasValue=!0,o.value=l},[l]),kv(l),l};um.exports=cm;var _v=um.exports;const Ev=Gf(_v),jv={},ef=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,g))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(jv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,a);return a},Cv=e=>e?ef(e):ef,{useDebugValue:Av}=I,{useSyncExternalStoreWithSelector:Tv}=Ev,$v=e=>e;function hm(e,t=$v,n){const r=Tv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Av(r),r}const tf=(e,t)=>{const n=Cv(e),r=(s,i=t)=>hm(n,s,i);return Object.assign(r,n),r},Pv=(e,t)=>e?tf(e,t):tf;function Me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Rv={value:()=>{}};function nl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qi(n)}function Qi(e){this._=e}function Mv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qi.prototype=nl.prototype={constructor:Qi,on:function(e,t){var n=this._,r=Mv(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=Iv(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=nf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=nf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qi(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function Iv(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function nf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Rv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Xa="http://www.w3.org/1999/xhtml";const rf={svg:"http://www.w3.org/2000/svg",xhtml:Xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),rf.hasOwnProperty(t)?{space:rf[t],local:e}:e}function zv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xa&&t.documentElement.namespaceURI===Xa?t.createElement(e):t.createElementNS(n,e)}}function Lv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pm(e){var t=rl(e);return(t.local?Lv:zv)(t)}function Dv(){}function dc(e){return e==null?Dv:function(){return this.querySelector(e)}}function Ov(e){typeof e!="function"&&(e=dc(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),a,c,d=0;d<o;++d)(a=i[d])&&(c=e.call(a,a.__data__,d,i))&&("__data__"in a&&(c.__data__=a.__data__),l[d]=c);return new ut(r,this._parents)}function Fv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bv(){return[]}function mm(e){return e==null?Bv:function(){return this.querySelectorAll(e)}}function Hv(e){return function(){return Fv(e.apply(this,arguments))}}function Vv(e){typeof e=="function"?e=Hv(e):e=mm(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&(r.push(e.call(a,a.__data__,c,o)),s.push(a));return new ut(r,s)}function gm(e){return function(){return this.matches(e)}}function ym(e){return function(t){return t.matches(e)}}var Uv=Array.prototype.find;function Wv(e){return function(){return Uv.call(this.children,e)}}function Yv(){return this.firstElementChild}function qv(e){return this.select(e==null?Yv:Wv(typeof e=="function"?e:ym(e)))}var Kv=Array.prototype.filter;function Xv(){return Array.from(this.children)}function Gv(e){return function(){return Kv.call(this.children,e)}}function Qv(e){return this.selectAll(e==null?Xv:Gv(typeof e=="function"?e:ym(e)))}function Zv(e){typeof e!="function"&&(e=gm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new ut(r,this._parents)}function xm(e){return new Array(e.length)}function Jv(){return new ut(this._enter||this._groups.map(xm),this._parents)}function To(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}To.prototype={constructor:To,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function e1(e){return function(){return e}}function t1(e,t,n,r,s,i){for(var o=0,l,a=t.length,c=i.length;o<c;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new To(e,i[o]);for(;o<a;++o)(l=t[o])&&(s[o]=l)}function n1(e,t,n,r,s,i,o){var l,a,c=new Map,d=t.length,f=i.length,h=new Array(d),g;for(l=0;l<d;++l)(a=t[l])&&(h[l]=g=o.call(a,a.__data__,l,t)+"",c.has(g)?s[l]=a:c.set(g,a));for(l=0;l<f;++l)g=o.call(e,i[l],l,i)+"",(a=c.get(g))?(r[l]=a,a.__data__=i[l],c.delete(g)):n[l]=new To(e,i[l]);for(l=0;l<d;++l)(a=t[l])&&c.get(h[l])===a&&(s[l]=a)}function r1(e){return e.__data__}function s1(e,t){if(!arguments.length)return Array.from(this,r1);var n=t?n1:t1,r=this._parents,s=this._groups;typeof e!="function"&&(e=e1(e));for(var i=s.length,o=new Array(i),l=new Array(i),a=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,g=i1(e.call(d,d&&d.__data__,c,r)),v=g.length,x=l[c]=new Array(v),b=o[c]=new Array(v),p=a[c]=new Array(h);n(d,f,x,b,p,g,t);for(var m=0,y=0,w,_;m<v;++m)if(w=x[m]){for(m>=y&&(y=m+1);!(_=b[y])&&++y<v;);w._next=_||null}}return o=new ut(o,r),o._enter=l,o._exit=a,o}function i1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o1(){return new ut(this._exit||this._groups.map(xm),this._parents)}function l1(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function a1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),a=0;a<o;++a)for(var c=n[a],d=r[a],f=c.length,h=l[a]=new Array(f),g,v=0;v<f;++v)(g=c[v]||d[v])&&(h[v]=g);for(;a<s;++a)l[a]=n[a];return new ut(l,this._parents)}function u1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function c1(e){e||(e=d1);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,a=s[i]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(a[d]=c);a.sort(t)}return new ut(s,this._parents).order()}function d1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function f1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function h1(){return Array.from(this)}function p1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function m1(){let e=0;for(const t of this)++e;return e}function g1(){return!this.node()}function y1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function x1(e){return function(){this.removeAttribute(e)}}function v1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w1(e,t){return function(){this.setAttribute(e,t)}}function N1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function S1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function b1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function k1(e,t){var n=rl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?v1:x1:typeof t=="function"?n.local?b1:S1:n.local?N1:w1)(n,t))}function vm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _1(e){return function(){this.style.removeProperty(e)}}function E1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function j1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function C1(e,t,n){return arguments.length>1?this.each((t==null?_1:typeof t=="function"?j1:E1)(e,t,n??"")):Vr(this.node(),e)}function Vr(e,t){return e.style.getPropertyValue(t)||vm(e).getComputedStyle(e,null).getPropertyValue(t)}function A1(e){return function(){delete this[e]}}function T1(e,t){return function(){this[e]=t}}function $1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function P1(e,t){return arguments.length>1?this.each((t==null?A1:typeof t=="function"?$1:T1)(e,t)):this.node()[e]}function wm(e){return e.trim().split(/^|\s+/)}function fc(e){return e.classList||new Nm(e)}function Nm(e){this._node=e,this._names=wm(e.getAttribute("class")||"")}Nm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sm(e,t){for(var n=fc(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function bm(e,t){for(var n=fc(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function R1(e){return function(){Sm(this,e)}}function M1(e){return function(){bm(this,e)}}function I1(e,t){return function(){(t.apply(this,arguments)?Sm:bm)(this,e)}}function z1(e,t){var n=wm(e+"");if(arguments.length<2){for(var r=fc(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?I1:t?R1:M1)(n,t))}function L1(){this.textContent=""}function D1(e){return function(){this.textContent=e}}function O1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function F1(e){return arguments.length?this.each(e==null?L1:(typeof e=="function"?O1:D1)(e)):this.node().textContent}function B1(){this.innerHTML=""}function H1(e){return function(){this.innerHTML=e}}function V1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function U1(e){return arguments.length?this.each(e==null?B1:(typeof e=="function"?V1:H1)(e)):this.node().innerHTML}function W1(){this.nextSibling&&this.parentNode.appendChild(this)}function Y1(){return this.each(W1)}function q1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K1(){return this.each(q1)}function X1(e){var t=typeof e=="function"?e:pm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function G1(){return null}function Q1(e,t){var n=typeof e=="function"?e:pm(e),r=t==null?G1:typeof t=="function"?t:dc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Z1(){var e=this.parentNode;e&&e.removeChild(this)}function J1(){return this.each(Z1)}function ew(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nw(e){return this.select(e?tw:ew)}function rw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sw(e){return function(t){e.call(this,t,this.__data__)}}function iw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ow(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function lw(e,t,n){return function(){var r=this.__on,s,i=sw(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function aw(e,t,n){var r=iw(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,d;a<c;++a)for(s=0,d=l[a];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?lw:ow,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function km(e,t,n){var r=vm(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function uw(e,t){return function(){return km(this,e,t)}}function cw(e,t){return function(){return km(this,e,t.apply(this,arguments))}}function dw(e,t){return this.each((typeof t=="function"?cw:uw)(e,t))}function*fw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var _m=[null];function ut(e,t){this._groups=e,this._parents=t}function ai(){return new ut([[document.documentElement]],_m)}function hw(){return this}ut.prototype=ai.prototype={constructor:ut,select:Ov,selectAll:Vv,selectChild:qv,selectChildren:Qv,filter:Zv,data:s1,enter:Jv,exit:o1,join:l1,merge:a1,selection:hw,order:u1,sort:c1,call:f1,nodes:h1,node:p1,size:m1,empty:g1,each:y1,attr:k1,style:C1,property:P1,classed:z1,text:F1,html:U1,raise:Y1,lower:K1,append:X1,insert:Q1,remove:J1,clone:nw,datum:rw,on:aw,dispatch:dw,[Symbol.iterator]:fw};function mt(e){return typeof e=="string"?new ut([[document.querySelector(e)]],[document.documentElement]):new ut([[e]],_m)}function pw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Et(e,t){if(e=pw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const mw={passive:!1},Xs={capture:!0,passive:!1};function Vl(e){e.stopImmediatePropagation()}function Pr(e){e.preventDefault(),e.stopImmediatePropagation()}function Em(e){var t=e.document.documentElement,n=mt(e).on("dragstart.drag",Pr,Xs);"onselectstart"in t?n.on("selectstart.drag",Pr,Xs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jm(e,t){var n=e.document.documentElement,r=mt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Pr,Xs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ci=e=>()=>e;function Ga(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:a,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Ga.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gw(e){return!e.ctrlKey&&!e.button}function yw(){return this.parentNode}function xw(e,t){return t??{x:e.x,y:e.y}}function vw(){return navigator.maxTouchPoints||"ontouchstart"in this}function ww(){var e=gw,t=yw,n=xw,r=vw,s={},i=nl("start","drag","end"),o=0,l,a,c,d,f=0;function h(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",b).on("touchmove.drag",p,mw).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,_){if(!(d||!e.call(this,w,_))){var A=y(this,t.call(this,w,_),w,_,"mouse");A&&(mt(w.view).on("mousemove.drag",v,Xs).on("mouseup.drag",x,Xs),Em(w.view),Vl(w),c=!1,l=w.clientX,a=w.clientY,A("start",w))}}function v(w){if(Pr(w),!c){var _=w.clientX-l,A=w.clientY-a;c=_*_+A*A>f}s.mouse("drag",w)}function x(w){mt(w.view).on("mousemove.drag mouseup.drag",null),jm(w.view,c),Pr(w),s.mouse("end",w)}function b(w,_){if(e.call(this,w,_)){var A=w.changedTouches,$=t.call(this,w,_),R=A.length,M,z;for(M=0;M<R;++M)(z=y(this,$,w,_,A[M].identifier,A[M]))&&(Vl(w),z("start",w,A[M]))}}function p(w){var _=w.changedTouches,A=_.length,$,R;for($=0;$<A;++$)(R=s[_[$].identifier])&&(Pr(w),R("drag",w,_[$]))}function m(w){var _=w.changedTouches,A=_.length,$,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),$=0;$<A;++$)(R=s[_[$].identifier])&&(Vl(w),R("end",w,_[$]))}function y(w,_,A,$,R,M){var z=i.copy(),F=Et(M||A,_),U,B,N;if((N=n.call(w,new Ga("beforestart",{sourceEvent:A,target:h,identifier:R,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:z}),$))!=null)return U=N.x-F[0]||0,B=N.y-F[1]||0,function P(j,D,E){var k=F,T;switch(j){case"start":s[R]=P,T=o++;break;case"end":delete s[R],--o;case"drag":F=Et(E||D,_),T=o;break}z.call(j,w,new Ga(j,{sourceEvent:D,subject:N,target:h,identifier:R,active:T,x:F[0]+U,y:F[1]+B,dx:F[0]-k[0],dy:F[1]-k[1],dispatch:z}),$)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Ci(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:Ci(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Ci(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Ci(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function hc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ui(){}var Gs=.7,$o=1/Gs,Rr="\\s*([+-]?\\d+)\\s*",Qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nw=/^#([0-9a-f]{3,8})$/,Sw=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),bw=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),kw=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Qs}\\)$`),_w=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${Qs}\\)$`),Ew=new RegExp(`^hsl\\(${Qs},${Ft},${Ft}\\)$`),jw=new RegExp(`^hsla\\(${Qs},${Ft},${Ft},${Qs}\\)$`),sf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hc(ui,Zs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:of,formatHex:of,formatHex8:Cw,formatHsl:Aw,formatRgb:lf,toString:lf});function of(){return this.rgb().formatHex()}function Cw(){return this.rgb().formatHex8()}function Aw(){return Am(this).formatHsl()}function lf(){return this.rgb().formatRgb()}function Zs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Nw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?af(t):n===3?new et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ai(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ai(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sw.exec(e))?new et(t[1],t[2],t[3],1):(t=bw.exec(e))?new et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kw.exec(e))?Ai(t[1],t[2],t[3],t[4]):(t=_w.exec(e))?Ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ew.exec(e))?df(t[1],t[2]/100,t[3]/100,1):(t=jw.exec(e))?df(t[1],t[2]/100,t[3]/100,t[4]):sf.hasOwnProperty(e)?af(sf[e]):e==="transparent"?new et(NaN,NaN,NaN,0):null}function af(e){return new et(e>>16&255,e>>8&255,e&255,1)}function Ai(e,t,n,r){return r<=0&&(e=t=n=NaN),new et(e,t,n,r)}function Tw(e){return e instanceof ui||(e=Zs(e)),e?(e=e.rgb(),new et(e.r,e.g,e.b,e.opacity)):new et}function Qa(e,t,n,r){return arguments.length===1?Tw(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hc(et,Qa,Cm(ui,{brighter(e){return e=e==null?$o:Math.pow($o,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gs:Math.pow(Gs,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new et(Xn(this.r),Xn(this.g),Xn(this.b),Po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uf,formatHex:uf,formatHex8:$w,formatRgb:cf,toString:cf}));function uf(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}`}function $w(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}${Wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function cf(){const e=Po(this.opacity);return`${e===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${e===1?")":`, ${e})`}`}function Po(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wn(e){return e=Xn(e),(e<16?"0":"")+e.toString(16)}function df(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new At(e,t,n,r)}function Am(e){if(e instanceof At)return new At(e.h,e.s,e.l,e.opacity);if(e instanceof ui||(e=Zs(e)),!e)return new At;if(e instanceof At)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,a=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=a<.5?i+s:2-i-s,o*=60):l=a>0&&a<1?0:o,new At(o,l,a,e.opacity)}function Pw(e,t,n,r){return arguments.length===1?Am(e):new At(e,t,n,r??1)}function At(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hc(At,Pw,Cm(ui,{brighter(e){return e=e==null?$o:Math.pow($o,e),new At(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gs:Math.pow(Gs,e),new At(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new et(Ul(e>=240?e-240:e+120,s,r),Ul(e,s,r),Ul(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new At(ff(this.h),Ti(this.s),Ti(this.l),Po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Po(this.opacity);return`${e===1?"hsl(":"hsla("}${ff(this.h)}, ${Ti(this.s)*100}%, ${Ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ff(e){return e=(e||0)%360,e<0?e+360:e}function Ti(e){return Math.max(0,Math.min(1,e||0))}function Ul(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tm=e=>()=>e;function Rw(e,t){return function(n){return e+n*t}}function Mw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Iw(e){return(e=+e)==1?$m:function(t,n){return n-t?Mw(t,n,e):Tm(isNaN(t)?n:t)}}function $m(e,t){var n=t-e;return n?Rw(e,n):Tm(isNaN(e)?t:e)}const hf=function e(t){var n=Iw(t);function r(s,i){var o=n((s=Qa(s)).r,(i=Qa(i)).r),l=n(s.g,i.g),a=n(s.b,i.b),c=$m(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=a(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wl=new RegExp(Za.source,"g");function zw(e){return function(){return e}}function Lw(e){return function(t){return e(t)+""}}function Dw(e,t){var n=Za.lastIndex=Wl.lastIndex=0,r,s,i,o=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Za.exec(e))&&(s=Wl.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,a.push({i:o,x:hn(r,s)})),n=Wl.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?a[0]?Lw(a[0].x):zw(t):(t=a.length,function(c){for(var d=0,f;d<t;++d)l[(f=a[d]).i]=f.x(c);return l.join("")})}var pf=180/Math.PI,Ja={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pm(e,t,n,r,s,i){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*pf,skewX:Math.atan(a)*pf,scaleX:o,scaleY:l}}var $i;function Ow(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ja:Pm(t.a,t.b,t.c,t.d,t.e,t.f)}function Fw(e){return e==null||($i||($i=document.createElementNS("http://www.w3.org/2000/svg","g")),$i.setAttribute("transform",e),!(e=$i.transform.baseVal.consolidate()))?Ja:(e=e.matrix,Pm(e.a,e.b,e.c,e.d,e.e,e.f))}function Rm(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,g,v){if(c!==f||d!==h){var x=g.push("translate(",null,t,null,n);v.push({i:x-4,x:hn(c,f)},{i:x-2,x:hn(d,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:hn(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:hn(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function a(c,d,f,h,g,v){if(c!==f||d!==h){var x=g.push(s(g)+"scale(",null,",",null,")");v.push({i:x-4,x:hn(c,f)},{i:x-2,x:hn(d,h)})}else(f!==1||h!==1)&&g.push(s(g)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),a(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(g){for(var v=-1,x=h.length,b;++v<x;)f[(b=h[v]).i]=b.x(g);return f.join("")}}}var Bw=Rm(Ow,"px, ","px)","deg)"),Hw=Rm(Fw,", ",")",")"),Vw=1e-12;function mf(e){return((e=Math.exp(e))+1/e)/2}function Uw(e){return((e=Math.exp(e))-1/e)/2}function Ww(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yw=function e(t,n,r){function s(i,o){var l=i[0],a=i[1],c=i[2],d=o[0],f=o[1],h=o[2],g=d-l,v=f-a,x=g*g+v*v,b,p;if(x<Vw)p=Math.log(h/c)/t,b=function($){return[l+$*g,a+$*v,c*Math.exp(t*$*p)]};else{var m=Math.sqrt(x),y=(h*h-c*c+r*x)/(2*c*n*m),w=(h*h-c*c-r*x)/(2*h*n*m),_=Math.log(Math.sqrt(y*y+1)-y),A=Math.log(Math.sqrt(w*w+1)-w);p=(A-_)/t,b=function($){var R=$*p,M=mf(_),z=c/(n*m)*(M*Ww(t*R+_)-Uw(_));return[l+z*g,a+z*v,c*M/mf(t*R+_)]}}return b.duration=p*1e3*t/Math.SQRT2,b}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,a=l*l;return e(o,l,a)},s}(Math.SQRT2,2,4);var Ur=0,vs=0,as=0,Mm=1e3,Ro,ws,Mo=0,nr=0,sl=0,Js=typeof performance=="object"&&performance.now?performance:Date,Im=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pc(){return nr||(Im(qw),nr=Js.now()+sl)}function qw(){nr=0}function Io(){this._call=this._time=this._next=null}Io.prototype=zm.prototype={constructor:Io,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pc():+n)+(t==null?0:+t),!this._next&&ws!==this&&(ws?ws._next=this:Ro=this,ws=this),this._call=e,this._time=n,eu()},stop:function(){this._call&&(this._call=null,this._time=1/0,eu())}};function zm(e,t,n){var r=new Io;return r.restart(e,t,n),r}function Kw(){pc(),++Ur;for(var e=Ro,t;e;)(t=nr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ur}function gf(){nr=(Mo=Js.now())+sl,Ur=vs=0;try{Kw()}finally{Ur=0,Gw(),nr=0}}function Xw(){var e=Js.now(),t=e-Mo;t>Mm&&(sl-=t,Mo=e)}function Gw(){for(var e,t=Ro,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ro=n);ws=e,eu(r)}function eu(e){if(!Ur){vs&&(vs=clearTimeout(vs));var t=e-nr;t>24?(e<1/0&&(vs=setTimeout(gf,e-Js.now()-sl)),as&&(as=clearInterval(as))):(as||(Mo=Js.now(),as=setInterval(Xw,Mm)),Ur=1,Im(gf))}}function yf(e,t,n){var r=new Io;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Qw=nl("start","end","cancel","interrupt"),Zw=[],Lm=0,xf=1,tu=2,Zi=3,vf=4,nu=5,Ji=6;function il(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Jw(e,n,{name:t,index:r,group:s,on:Qw,tween:Zw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Lm})}function mc(e,t){var n=Rt(e,t);if(n.state>Lm)throw new Error("too late; already scheduled");return n}function Vt(e,t){var n=Rt(e,t);if(n.state>Zi)throw new Error("too late; already running");return n}function Rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Jw(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=zm(i,0,n.time);function i(c){n.state=xf,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,g;if(n.state!==xf)return a();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Zi)return yf(o);g.state===vf?(g.state=Ji,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Ji,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(yf(function(){n.state===Zi&&(n.state=vf,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=tu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===tu){for(n.state=Zi,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=g);s.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=nu,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===nu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ji,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function eo(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>tu&&r.state<nu,r.state=Ji,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function eN(e){return this.each(function(){eo(this,e)})}function tN(e,t){var n,r;return function(){var s=Vt(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function nN(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Vt(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},a=0,c=s.length;a<c;++a)if(s[a].name===t){s[a]=l;break}a===c&&s.push(l)}i.tween=s}}function rN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Rt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?tN:nN)(n,e,t))}function gc(e,t,n){var r=e._id;return e.each(function(){var s=Vt(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Rt(s,r).value[t]}}function Dm(e,t){var n;return(typeof t=="number"?hn:t instanceof Zs?hf:(n=Zs(t))?(t=n,hf):Dw)(e,t)}function sN(e){return function(){this.removeAttribute(e)}}function iN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function lN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function aN(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function uN(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function cN(e,t){var n=rl(e),r=n==="transform"?Hw:Dm;return this.attrTween(e,typeof t=="function"?(n.local?uN:aN)(n,r,gc(this,"attr."+e,t)):t==null?(n.local?iN:sN)(n):(n.local?lN:oN)(n,r,t))}function dN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function fN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&fN(e,i)),n}return s._value=t,s}function pN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&dN(e,i)),n}return s._value=t,s}function mN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=rl(e);return this.tween(n,(r.local?hN:pN)(r,t))}function gN(e,t){return function(){mc(this,e).delay=+t.apply(this,arguments)}}function yN(e,t){return t=+t,function(){mc(this,e).delay=t}}function xN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gN:yN)(t,e)):Rt(this.node(),t).delay}function vN(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function wN(e,t){return t=+t,function(){Vt(this,e).duration=t}}function NN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vN:wN)(t,e)):Rt(this.node(),t).duration}function SN(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function bN(e){var t=this._id;return arguments.length?this.each(SN(t,e)):Rt(this.node(),t).ease}function kN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vt(this,e).ease=n}}function _N(e){if(typeof e!="function")throw new Error;return this.each(kN(this._id,e))}function EN(e){typeof e!="function"&&(e=gm(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new on(r,this._parents,this._name,this._id)}function jN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var a=t[l],c=n[l],d=a.length,f=o[l]=new Array(d),h,g=0;g<d;++g)(h=a[g]||c[g])&&(f[g]=h);for(;l<r;++l)o[l]=t[l];return new on(o,this._parents,this._name,this._id)}function CN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function AN(e,t,n){var r,s,i=CN(t)?mc:Vt;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function TN(e,t){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(AN(n,e,t))}function $N(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function PN(){return this.on("end.remove",$N(this._id))}function RN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=dc(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],a=l.length,c=i[o]=new Array(a),d,f,h=0;h<a;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,il(c[h],t,n,h,c,Rt(d,n)));return new on(i,this._parents,t,n)}function MN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mm(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var a=r[l],c=a.length,d,f=0;f<c;++f)if(d=a[f]){for(var h=e.call(d,d.__data__,f,a),g,v=Rt(d,n),x=0,b=h.length;x<b;++x)(g=h[x])&&il(g,t,n,x,h,v);i.push(h),o.push(d)}return new on(i,o,t,n)}var IN=ai.prototype.constructor;function zN(){return new IN(this._groups,this._parents)}function LN(e,t){var n,r,s;return function(){var i=Vr(this,e),o=(this.style.removeProperty(e),Vr(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Om(e){return function(){this.style.removeProperty(e)}}function DN(e,t,n){var r,s=n+"",i;return function(){var o=Vr(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function ON(e,t,n){var r,s,i;return function(){var o=Vr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Vr(this,e))),o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l))}}function FN(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var a=Vt(this,e),c=a.on,d=a.value[i]==null?l||(l=Om(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),a.on=r}}function BN(e,t,n){var r=(e+="")=="transform"?Bw:Dm;return t==null?this.styleTween(e,LN(e,r)).on("end.style."+e,Om(e)):typeof t=="function"?this.styleTween(e,ON(e,r,gc(this,"style."+e,t))).each(FN(this._id,e)):this.styleTween(e,DN(e,r,t),n).on("end.style."+e,null)}function HN(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function VN(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&HN(e,o,n)),r}return i._value=t,i}function UN(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,VN(e,t,n??""))}function WN(e){return function(){this.textContent=e}}function YN(e){return function(){var t=e(this);this.textContent=t??""}}function qN(e){return this.tween("text",typeof e=="function"?YN(gc(this,"text",e)):WN(e==null?"":e+""))}function KN(e){return function(t){this.textContent=e.call(this,t)}}function XN(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&KN(s)),t}return r._value=e,r}function GN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,XN(e))}function QN(){for(var e=this._name,t=this._id,n=Fm(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)if(a=o[c]){var d=Rt(a,t);il(a,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new on(r,this._parents,e,n)}function ZN(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},a={value:function(){--s===0&&i()}};n.each(function(){var c=Vt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),c.on=t}),s===0&&i()})}var JN=0;function on(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fm(){return++JN}var qt=ai.prototype;on.prototype={constructor:on,select:RN,selectAll:MN,selectChild:qt.selectChild,selectChildren:qt.selectChildren,filter:EN,merge:jN,selection:zN,transition:QN,call:qt.call,nodes:qt.nodes,node:qt.node,size:qt.size,empty:qt.empty,each:qt.each,on:TN,attr:cN,attrTween:mN,style:BN,styleTween:UN,text:qN,textTween:GN,remove:PN,tween:rN,delay:xN,duration:NN,ease:bN,easeVarying:_N,end:ZN,[Symbol.iterator]:qt[Symbol.iterator]};function e2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var t2={time:null,delay:0,duration:250,ease:e2};function n2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function r2(e){var t,n;e instanceof on?(t=e._id,e=e._name):(t=Fm(),(n=t2).time=pc(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&il(a,e,t,c,o,n||n2(a,t));return new on(r,this._parents,e,t)}ai.prototype.interrupt=eN;ai.prototype.transition=r2;const Pi=e=>()=>e;function s2(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Zt(e,t,n){this.k=e,this.x=t,this.y=n}Zt.prototype={constructor:Zt,scale:function(e){return e===1?this:new Zt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var en=new Zt(1,0,0);Zt.prototype;function Yl(e){e.stopImmediatePropagation()}function us(e){e.preventDefault(),e.stopImmediatePropagation()}function i2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function o2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function wf(){return this.__zoom||en}function l2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function a2(){return navigator.maxTouchPoints||"ontouchstart"in this}function u2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Bm(){var e=i2,t=o2,n=u2,r=l2,s=a2,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Yw,c=nl("start","zoom","end"),d,f,h,g=500,v=150,x=0,b=10;function p(N){N.property("__zoom",wf).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(s).on("touchstart.zoom",F).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(N,P,j,D){var E=N.selection?N.selection():N;E.property("__zoom",wf),N!==E?_(N,P,j,D):E.interrupt().each(function(){A(this,arguments).event(D).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(N,P,j,D){p.scaleTo(N,function(){var E=this.__zoom.k,k=typeof P=="function"?P.apply(this,arguments):P;return E*k},j,D)},p.scaleTo=function(N,P,j,D){p.transform(N,function(){var E=t.apply(this,arguments),k=this.__zoom,T=j==null?w(E):typeof j=="function"?j.apply(this,arguments):j,L=k.invert(T),O=typeof P=="function"?P.apply(this,arguments):P;return n(y(m(k,O),T,L),E,o)},j,D)},p.translateBy=function(N,P,j,D){p.transform(N,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),o)},null,D)},p.translateTo=function(N,P,j,D,E){p.transform(N,function(){var k=t.apply(this,arguments),T=this.__zoom,L=D==null?w(k):typeof D=="function"?D.apply(this,arguments):D;return n(en.translate(L[0],L[1]).scale(T.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof j=="function"?-j.apply(this,arguments):-j),k,o)},D,E)};function m(N,P){return P=Math.max(i[0],Math.min(i[1],P)),P===N.k?N:new Zt(P,N.x,N.y)}function y(N,P,j){var D=P[0]-j[0]*N.k,E=P[1]-j[1]*N.k;return D===N.x&&E===N.y?N:new Zt(N.k,D,E)}function w(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function _(N,P,j,D){N.on("start.zoom",function(){A(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(D).end()}).tween("zoom",function(){var E=this,k=arguments,T=A(E,k).event(D),L=t.apply(E,k),O=j==null?w(L):typeof j=="function"?j.apply(E,k):j,q=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),W=E.__zoom,Q=typeof P=="function"?P.apply(E,k):P,J=a(W.invert(O).concat(q/W.k),Q.invert(O).concat(q/Q.k));return function(ee){if(ee===1)ee=Q;else{var ae=J(ee),oe=q/ae[2];ee=new Zt(oe,O[0]-ae[0]*oe,O[1]-ae[1]*oe)}T.zoom(null,ee)}})}function A(N,P,j){return!j&&N.__zooming||new $(N,P)}function $(N,P){this.that=N,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,P),this.taps=0}$.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,P){return this.mouse&&N!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var P=mt(this.that).datum();c.call(N,this.that,new s2(N,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:c}),P)}};function R(N,...P){if(!e.apply(this,arguments))return;var j=A(this,P).event(N),D=this.__zoom,E=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),k=Et(N);if(j.wheel)(j.mouse[0][0]!==k[0]||j.mouse[0][1]!==k[1])&&(j.mouse[1]=D.invert(j.mouse[0]=k)),clearTimeout(j.wheel);else{if(D.k===E)return;j.mouse=[k,D.invert(k)],eo(this),j.start()}us(N),j.wheel=setTimeout(T,v),j.zoom("mouse",n(y(m(D,E),j.mouse[0],j.mouse[1]),j.extent,o));function T(){j.wheel=null,j.end()}}function M(N,...P){if(h||!e.apply(this,arguments))return;var j=N.currentTarget,D=A(this,P,!0).event(N),E=mt(N.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",q,!0),k=Et(N,j),T=N.clientX,L=N.clientY;Em(N.view),Yl(N),D.mouse=[k,this.__zoom.invert(k)],eo(this),D.start();function O(W){if(us(W),!D.moved){var Q=W.clientX-T,J=W.clientY-L;D.moved=Q*Q+J*J>x}D.event(W).zoom("mouse",n(y(D.that.__zoom,D.mouse[0]=Et(W,j),D.mouse[1]),D.extent,o))}function q(W){E.on("mousemove.zoom mouseup.zoom",null),jm(W.view,D.moved),us(W),D.event(W).end()}}function z(N,...P){if(e.apply(this,arguments)){var j=this.__zoom,D=Et(N.changedTouches?N.changedTouches[0]:N,this),E=j.invert(D),k=j.k*(N.shiftKey?.5:2),T=n(y(m(j,k),D,E),t.apply(this,P),o);us(N),l>0?mt(this).transition().duration(l).call(_,T,D,N):mt(this).call(p.transform,T,D,N)}}function F(N,...P){if(e.apply(this,arguments)){var j=N.touches,D=j.length,E=A(this,P,N.changedTouches.length===D).event(N),k,T,L,O;for(Yl(N),T=0;T<D;++T)L=j[T],O=Et(L,this),O=[O,this.__zoom.invert(O),L.identifier],E.touch0?!E.touch1&&E.touch0[2]!==O[2]&&(E.touch1=O,E.taps=0):(E.touch0=O,k=!0,E.taps=1+!!d);d&&(d=clearTimeout(d)),k&&(E.taps<2&&(f=O[0],d=setTimeout(function(){d=null},g)),eo(this),E.start())}}function U(N,...P){if(this.__zooming){var j=A(this,P).event(N),D=N.changedTouches,E=D.length,k,T,L,O;for(us(N),k=0;k<E;++k)T=D[k],L=Et(T,this),j.touch0&&j.touch0[2]===T.identifier?j.touch0[0]=L:j.touch1&&j.touch1[2]===T.identifier&&(j.touch1[0]=L);if(T=j.that.__zoom,j.touch1){var q=j.touch0[0],W=j.touch0[1],Q=j.touch1[0],J=j.touch1[1],ee=(ee=Q[0]-q[0])*ee+(ee=Q[1]-q[1])*ee,ae=(ae=J[0]-W[0])*ae+(ae=J[1]-W[1])*ae;T=m(T,Math.sqrt(ee/ae)),L=[(q[0]+Q[0])/2,(q[1]+Q[1])/2],O=[(W[0]+J[0])/2,(W[1]+J[1])/2]}else if(j.touch0)L=j.touch0[0],O=j.touch0[1];else return;j.zoom("touch",n(y(T,L,O),j.extent,o))}}function B(N,...P){if(this.__zooming){var j=A(this,P).event(N),D=N.changedTouches,E=D.length,k,T;for(Yl(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),k=0;k<E;++k)T=D[k],j.touch0&&j.touch0[2]===T.identifier?delete j.touch0:j.touch1&&j.touch1[2]===T.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(T=Et(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<b)){var L=mt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return p.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Pi(+N),p):r},p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Pi(!!N),p):e},p.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Pi(!!N),p):s},p.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Pi([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),p):t},p.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],p):[i[0],i[1]]},p.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(N){return arguments.length?(n=N,p):n},p.duration=function(N){return arguments.length?(l=+N,p):l},p.interpolate=function(N){return arguments.length?(a=N,p):a},p.on=function(){var N=c.on.apply(c,arguments);return N===c?p:N},p.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,p):Math.sqrt(x)},p.tapDistance=function(N){return arguments.length?(b=+N,p):b},p}const ol=S.createContext(null),c2=ol.Provider,ln={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Hm=ln.error001();function he(e,t){const n=S.useContext(ol);if(n===null)throw new Error(Hm);return hm(n,e,t)}const $e=()=>{const e=S.useContext(ol);if(e===null)throw new Error(Hm);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},d2=e=>e.userSelectionActive?"none":"all";function yc({position:e,children:t,className:n,style:r,...s}){const i=he(d2),o=`${e}`.split("-");return I.createElement("div",{className:Oe(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function f2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:I.createElement(yc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},I.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const h2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:a,className:c,...d})=>{const f=S.useRef(null),[h,g]=S.useState({x:0,y:0,width:0,height:0}),v=Oe(["react-flow__edge-textwrapper",c]);return S.useEffect(()=>{if(f.current){const x=f.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:I.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...d},s&&I.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),I.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),a)};var p2=S.memo(h2);const xc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Wr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),vc=(e={x:0,y:0},t)=>({x:Wr(e.x,t[0][0],t[1][0]),y:Wr(e.y,t[0][1],t[1][1])}),Nf=(e,t,n)=>e<t?Wr(Math.abs(e-t),1,50)/50:e>n?-Wr(Math.abs(e-n),1,50)/50:0,Vm=(e,t)=>{const n=Nf(e.x,35,t.width-35)*20,r=Nf(e.y,35,t.height-35)*20;return[n,r]},Um=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Wm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ei=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ym=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),m2=(e,t)=>Ym(Wm(ei(e),ei(t))),ru=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},g2=e=>yt(e.width)&&yt(e.height)&&yt(e.x)&&yt(e.y),yt=e=>!isNaN(e)&&isFinite(e),be=Symbol.for("internals"),qm=["Enter"," ","Escape"],y2=(e,t)=>{},x2=e=>"nativeEvent"in e;function su(e){var s,i;const t=x2(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Km=e=>"clientX"in e,Cn=(e,t)=>{var i,o;const n=Km(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},zo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ci=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g=20})=>I.createElement(I.Fragment,null,I.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),g&&I.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&yt(n)&&yt(r)?I.createElement(p2,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c}):null);ci.displayName="BaseEdge";function cs(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function Xm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function Gm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const a=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+l*.375+r*.125,d=Math.abs(a-e),f=Math.abs(c-t);return[a,c,d,f]}var rr;(function(e){e.Strict="strict",e.Loose="loose"})(rr||(rr={}));var Yn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Yn||(Yn={}));var ti;(function(e){e.Partial="partial",e.Full="full"})(ti||(ti={}));var yn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(yn||(yn={}));var Qe;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Qe||(Qe={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function bf({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Qm({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,l]=bf({pos:n,x1:e,y1:t,x2:r,y2:s}),[a,c]=bf({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,g]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:a,targetControlY:c});return[`M${e},${t} C${o},${l} ${a},${c} ${r},${s}`,d,f,h,g]}const wc=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=G.Bottom,targetPosition:i=G.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[b,p,m]=Qm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return I.createElement(ci,{path:b,labelX:p,labelY:m,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})});wc.displayName="SimpleBezierEdge";const kf={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},v2=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_f=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function w2({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i}){const o=kf[t],l=kf[r],a={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+l.x*i,y:n.y+l.y*i},d=v2({source:a,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",h=d[f];let g=[],v,x;const b={x:0,y:0},p={x:0,y:0},[m,y,w,_]=Xm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){v=s.x??m,x=s.y??y;const $=[{x:v,y:a.y},{x:v,y:c.y}],R=[{x:a.x,y:x},{x:c.x,y:x}];o[f]===h?g=f==="x"?$:R:g=f==="x"?R:$}else{const $=[{x:a.x,y:c.y}],R=[{x:c.x,y:a.y}];if(f==="x"?g=o.x===h?R:$:g=o.y===h?$:R,t===r){const B=Math.abs(e[f]-n[f]);if(B<=i){const N=Math.min(i-1,i-B);o[f]===h?b[f]=(a[f]>e[f]?-1:1)*N:p[f]=(c[f]>n[f]?-1:1)*N}}if(t!==r){const B=f==="x"?"y":"x",N=o[f]===l[B],P=a[B]>c[B],j=a[B]<c[B];(o[f]===1&&(!N&&P||N&&j)||o[f]!==1&&(!N&&j||N&&P))&&(g=f==="x"?$:R)}const M={x:a.x+b.x,y:a.y+b.y},z={x:c.x+p.x,y:c.y+p.y},F=Math.max(Math.abs(M.x-g[0].x),Math.abs(z.x-g[0].x)),U=Math.max(Math.abs(M.y-g[0].y),Math.abs(z.y-g[0].y));F>=U?(v=(M.x+z.x)/2,x=g[0].y):(v=g[0].x,x=(M.y+z.y)/2)}return[[e,{x:a.x+b.x,y:a.y+b.y},...g,{x:c.x+p.x,y:c.y+p.y},n],v,x,w,_]}function N2(e,t,n,r){const s=Math.min(_f(e,t)/2,_f(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${o+s*a}Q ${i},${o} ${i+s*l},${o}`}function iu({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:l,centerY:a,offset:c=20}){const[d,f,h,g,v]=w2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:a},offset:c});return[d.reduce((b,p,m)=>{let y="";return m>0&&m<d.length-1?y=N2(d[m-1],p,d[m+1],o):y=`${m===0?"M":"L"}${p.x} ${p.y}`,b+=y,b},""),f,h,g,v]}const ll=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,sourcePosition:f=G.Bottom,targetPosition:h=G.Top,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[p,m,y]=iu({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return I.createElement(ci,{path:p,labelX:m,labelY:y,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:v,interactionWidth:b})});ll.displayName="SmoothStepEdge";const Nc=S.memo(e=>{var t;return I.createElement(ll,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Nc.displayName="StepEdge";function S2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=Xm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const Sc=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g})=>{const[v,x,b]=S2({sourceX:e,sourceY:t,targetX:n,targetY:r});return I.createElement(ci,{path:v,labelX:x,labelY:b,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h,interactionWidth:g})});Sc.displayName="StraightEdge";function Ri(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ef({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Ri(t-r,i),n];case G.Right:return[t+Ri(r-t,i),n];case G.Top:return[t,n-Ri(n-s,i)];case G.Bottom:return[t,n+Ri(s-n,i)]}}function Zm({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[l,a]=Ef({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Ef({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,g,v]=Gm({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${a} ${c},${d} ${r},${s}`,f,h,g,v]}const Lo=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=G.Bottom,targetPosition:i=G.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[p,m,y]=Zm({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:x==null?void 0:x.curvature});return I.createElement(ci,{path:p,labelX:m,labelY:y,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:b})});Lo.displayName="BezierEdge";const bc=S.createContext(null),b2=bc.Provider;bc.Consumer;const k2=()=>S.useContext(bc),_2=e=>"id"in e&&"source"in e&&"target"in e,E2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,ou=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,j2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),al=(e,t)=>{if(!e.source||!e.target)return t;let n;return _2(e)?n={...e}:n={...e,id:E2(e)},j2(n,t)?t:t.concat(n)},lu=({x:e,y:t},[n,r,s],i,[o,l])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(a.x/o),y:l*Math.round(a.y/l)}:a},Jm=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Gn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},ul=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Gn(s,t).positionAbsolute;return Wm(r,ei({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ym(n)},e0=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const a={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},c=[];return e.forEach(d=>{const{width:f,height:h,selectable:g=!0,hidden:v=!1}=d;if(o&&!g||v)return!1;const{positionAbsolute:x}=Gn(d,l),b={x:x.x,y:x.y,width:f||0,height:h||0},p=ru(a,b),m=typeof f>"u"||typeof h>"u"||f===null||h===null,y=i&&p>0,w=(f||0)*(h||0);(m||y||p>=w||d.dragging)&&c.push(d)}),c},t0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},n0=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(o,l),c=Wr(a,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c,g=n/2-f*c;return{x:h,y:g,zoom:c}},Bn=(e,t=0)=>e.transition().duration(t);function jf(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function C2(e,t,n,r,s,i){const{x:o,y:l}=Cn(e),c=t.elementsFromPoint(o,l).find(v=>v.classList.contains("react-flow__handle"));if(c){const v=c.getAttribute("data-nodeid");if(v){const x=kc(void 0,c),b=c.getAttribute("data-handleid"),p=i({nodeId:v,id:b,type:x});if(p){const m=s.find(y=>y.nodeId===v&&y.type===x&&y.id===b);return{handle:{id:b,type:x,nodeId:v,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:p}}}}let d=[],f=1/0;if(s.forEach(v=>{const x=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(x<=r){const b=i(v);x<=f&&(x<f?d=[{handle:v,validHandleResult:b}]:x===f&&d.push({handle:v,validHandleResult:b}),f=x)}}),!d.length)return{handle:null,validHandleResult:r0()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:v})=>v.isValid),g=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:x})=>g?v.type==="target":h?x.isValid:!0)||d[0]}const A2={source:null,target:null,sourceHandle:null,targetHandle:null},r0=()=>({handleDomNode:null,isValid:!1,connection:A2,endHandle:null});function s0(e,t,n,r,s,i,o){const l=s==="target",a=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...r0(),handleDomNode:a};if(a){const d=kc(void 0,a),f=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),g=a.classList.contains("connectable"),v=a.classList.contains("connectableend"),x={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};c.connection=x,g&&v&&(t===rr.Strict?l&&d==="source"||!l&&d==="target":f!==n||h!==r)&&(c.endHandle={nodeId:f,handleId:h,type:d},c.isValid=i(x))}return c}function T2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[be]){const{handleBounds:o}=i[be];let l=[],a=[];o&&(l=jf(i,o,"source",`${t}-${n}-${r}`),a=jf(i,o,"target",`${t}-${n}-${r}`)),s.push(...l,...a)}return s},[])}function kc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ql(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function $2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function i0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:c}){const d=Um(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:g,connectionRadius:v,onConnectStart:x,panBy:b,getNodes:p,cancelConnection:m}=i();let y=0,w;const{x:_,y:A}=Cn(e),$=d==null?void 0:d.elementFromPoint(_,A),R=kc(a,$),M=h==null?void 0:h.getBoundingClientRect();if(!M||!R)return;let z,F=Cn(e,M),U=!1,B=null,N=!1,P=null;const j=T2({nodes:p(),nodeId:n,handleId:t,handleType:R}),D=()=>{if(!g)return;const[T,L]=Vm(F,M);b({x:T,y:L}),y=requestAnimationFrame(D)};o({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:R});function E(T){const{transform:L}=i();F=Cn(T,M);const{handle:O,validHandleResult:q}=C2(T,d,lu(F,L,!1,[1,1]),v,j,W=>s0(W,f,n,t,s?"target":"source",l,d));if(w=O,U||(D(),U=!0),P=q.handleDomNode,B=q.connection,N=q.isValid,o({connectionPosition:w&&N?Jm({x:w.x,y:w.y},L):F,connectionStatus:$2(!!w,N),connectionEndHandle:q.endHandle}),!w&&!N&&!P)return ql(z);B.source!==B.target&&P&&(ql(z),z=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",N),P.classList.toggle("react-flow__handle-valid",N))}function k(T){var L,O;(w||P)&&B&&N&&(r==null||r(B)),(O=(L=i()).onConnectEnd)==null||O.call(L,T),a&&(c==null||c(T)),ql(z),m(),cancelAnimationFrame(y),U=!1,N=!1,B=null,P=null,d.removeEventListener("mousemove",E),d.removeEventListener("mouseup",k),d.removeEventListener("touchmove",E),d.removeEventListener("touchend",k)}d.addEventListener("mousemove",E),d.addEventListener("mouseup",k),d.addEventListener("touchmove",E),d.addEventListener("touchend",k)}const Cf=()=>!0,P2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),R2=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},o0=S.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:a,className:c,onMouseDown:d,onTouchStart:f,...h},g)=>{var M,z;const v=o||null,x=e==="target",b=$e(),p=k2(),{connectOnClick:m,noPanClassName:y}=he(P2,Me),{connecting:w,clickConnecting:_}=he(R2(p,v,e),Me);p||(z=(M=b.getState()).onError)==null||z.call(M,"010",ln.error010());const A=F=>{const{defaultEdgeOptions:U,onConnect:B,hasDefaultEdges:N}=b.getState(),P={...U,...F};if(N){const{edges:j,setEdges:D}=b.getState();D(al(P,j))}B==null||B(P),l==null||l(P)},$=F=>{if(!p)return;const U=Km(F);s&&(U&&F.button===0||!U)&&i0({event:F,handleId:v,nodeId:p,onConnect:A,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Cf}),U?d==null||d(F):f==null||f(F)},R=F=>{const{onClickConnectStart:U,onClickConnectEnd:B,connectionClickStartHandle:N,connectionMode:P,isValidConnection:j}=b.getState();if(!p||!N&&!s)return;if(!N){U==null||U(F,{nodeId:p,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:v}});return}const D=Um(F.target),E=n||j||Cf,{connection:k,isValid:T}=s0({nodeId:p,id:v,type:e},P,N.nodeId,N.handleId||null,N.type,E,D);T&&A(k),B==null||B(F),b.setState({connectionClickStartHandle:null})};return I.createElement("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:Oe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!x,target:x,connectable:r,connectablestart:s,connectableend:i,connecting:_,connectionindicator:r&&(s&&!w||i&&w)}]),onMouseDown:$,onTouchStart:$,onClick:m?R:void 0,ref:g,...h},a)});o0.displayName="Handle";var st=S.memo(o0);const l0=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>I.createElement(I.Fragment,null,I.createElement(st,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,I.createElement(st,{type:"source",position:r,isConnectable:t}));l0.displayName="DefaultNode";var au=S.memo(l0);const a0=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>I.createElement(I.Fragment,null,e==null?void 0:e.label,I.createElement(st,{type:"source",position:n,isConnectable:t}));a0.displayName="InputNode";var u0=S.memo(a0);const c0=({data:e,isConnectable:t,targetPosition:n=G.Top})=>I.createElement(I.Fragment,null,I.createElement(st,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);c0.displayName="OutputNode";var d0=S.memo(c0);const _c=()=>null;_c.displayName="GroupNode";const M2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Mi=e=>e.id;function I2(e,t){return Me(e.selectedNodes.map(Mi),t.selectedNodes.map(Mi))&&Me(e.selectedEdges.map(Mi),t.selectedEdges.map(Mi))}const f0=S.memo(({onSelectionChange:e})=>{const t=$e(),{selectedNodes:n,selectedEdges:r}=he(M2,I2);return S.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});f0.displayName="SelectionListener";const z2=e=>!!e.onSelectionChange;function L2({onSelectionChange:e}){const t=he(z2);return e||t?I.createElement(f0,{onSelectionChange:e}):null}const D2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ur(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const O2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:c,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:x,maxZoom:b,nodeExtent:p,onNodesChange:m,onEdgesChange:y,elementsSelectable:w,connectionMode:_,snapGrid:A,snapToGrid:$,translateExtent:R,connectOnClick:M,defaultEdgeOptions:z,fitView:F,fitViewOptions:U,onNodesDelete:B,onEdgesDelete:N,onNodeDrag:P,onNodeDragStart:j,onNodeDragStop:D,onSelectionDrag:E,onSelectionDragStart:k,onSelectionDragStop:T,noPanClassName:L,nodeOrigin:O,rfId:q,autoPanOnConnect:W,autoPanOnNodeDrag:Q,onError:J,connectionRadius:ee,isValidConnection:ae,nodeDragThreshold:oe})=>{const{setNodes:se,setEdges:Ce,setDefaultNodesAndEdges:ie,setMinZoom:Ne,setMaxZoom:_e,setTranslateExtent:ge,setNodeExtent:We,reset:ue}=he(D2,Me),Z=$e();return S.useEffect(()=>{const Ie=r==null?void 0:r.map(C=>({...C,...z}));return ie(n,Ie),()=>{ue()}},[]),te("defaultEdgeOptions",z,Z.setState),te("connectionMode",_,Z.setState),te("onConnect",s,Z.setState),te("onConnectStart",i,Z.setState),te("onConnectEnd",o,Z.setState),te("onClickConnectStart",l,Z.setState),te("onClickConnectEnd",a,Z.setState),te("nodesDraggable",c,Z.setState),te("nodesConnectable",d,Z.setState),te("nodesFocusable",f,Z.setState),te("edgesFocusable",h,Z.setState),te("edgesUpdatable",g,Z.setState),te("elementsSelectable",w,Z.setState),te("elevateNodesOnSelect",v,Z.setState),te("snapToGrid",$,Z.setState),te("snapGrid",A,Z.setState),te("onNodesChange",m,Z.setState),te("onEdgesChange",y,Z.setState),te("connectOnClick",M,Z.setState),te("fitViewOnInit",F,Z.setState),te("fitViewOnInitOptions",U,Z.setState),te("onNodesDelete",B,Z.setState),te("onEdgesDelete",N,Z.setState),te("onNodeDrag",P,Z.setState),te("onNodeDragStart",j,Z.setState),te("onNodeDragStop",D,Z.setState),te("onSelectionDrag",E,Z.setState),te("onSelectionDragStart",k,Z.setState),te("onSelectionDragStop",T,Z.setState),te("noPanClassName",L,Z.setState),te("nodeOrigin",O,Z.setState),te("rfId",q,Z.setState),te("autoPanOnConnect",W,Z.setState),te("autoPanOnNodeDrag",Q,Z.setState),te("onError",J,Z.setState),te("connectionRadius",ee,Z.setState),te("isValidConnection",ae,Z.setState),te("nodeDragThreshold",oe,Z.setState),ur(e,se),ur(t,Ce),ur(x,Ne),ur(b,_e),ur(R,ge),ur(p,We),null},Af={display:"none"},F2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},h0="react-flow__node-desc",p0="react-flow__edge-desc",B2="react-flow__aria-live",H2=e=>e.ariaLiveMessage;function V2({rfId:e}){const t=he(H2);return I.createElement("div",{id:`${B2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:F2},t)}function U2({rfId:e,disableKeyboardA11y:t}){return I.createElement(I.Fragment,null,I.createElement("div",{id:`${h0}-${e}`,style:Af},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),I.createElement("div",{id:`${p0}-${e}`,style:Af},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&I.createElement(V2,{rfId:e}))}var ni=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),s=S.useRef(!1),i=S.useRef(new Set([])),[o,l]=S.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return S.useEffect(()=>{const a=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||a;if(e!==null){const d=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&su(g))return!1;const x=$f(g.code,l);i.current.add(g[x]),Tf(o,i.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&su(g))return!1;const x=$f(g.code,l);Tf(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[x]),g.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Tf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function $f(e,t){return t.includes(e)?"code":"key"}function m0(e,t,n,r){var l,a;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Gn(i,r);return m0(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[be])==null?void 0:l.z)??0)>(n.z??0)?((a=i[be])==null?void 0:a.z)??0:n.z??0},r)}function g0(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:a}=m0(r,e,{...r.position,z:((i=r[be])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:l},r[be].z=a,n!=null&&n[r.id]&&(r[be].isParent=!0)}})}function Kl(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(l=>{var g;const a=(yt(l.zIndex)?l.zIndex:0)+(l.selected?o:0),c=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const h=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==l.type;Object.defineProperty(d,be,{enumerable:!1,value:{handleBounds:h||(g=c==null?void 0:c[be])==null?void 0:g.handleBounds,z:a}}),s.set(l.id,d)}),g0(s,n,i),s}function y0(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:a,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!c&&d;if(l&&a&&(h||!t.initial)){const v=n().filter(b=>{var m;const p=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(m=t.nodes)!=null&&m.length?p&&t.nodes.some(y=>y.id===b.id):p}),x=v.every(b=>b.width&&b.height);if(v.length>0&&x){const b=ul(v,f),{x:p,y:m,zoom:y}=n0(b,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),w=en.translate(p,m).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Bn(a,t.duration),w):l.transform(a,w),!0}}return!1}function W2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[be]:r[be],selected:n.selected})}),new Map(t)}function Y2(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Ii({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:c}=n();e!=null&&e.length&&(a&&r({nodeInternals:W2(e,s)}),o==null||o(e)),t!=null&&t.length&&(c&&r({edges:Y2(t,i)}),l==null||l(t))}const cr=()=>{},q2={zoomIn:cr,zoomOut:cr,zoomTo:cr,getZoom:()=>1,setViewport:cr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:cr,fitBounds:cr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},K2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),X2=()=>{const e=$e(),{d3Zoom:t,d3Selection:n}=he(K2,Me);return S.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Bn(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Bn(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Bn(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,l,a]=e.getState().transform,c=en.translate(s.x??o,s.y??l).scale(s.zoom??a);t.transform(Bn(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>y0(e.getState,s),setCenter:(s,i,o)=>{const{width:l,height:a,maxZoom:c}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,f=l/2-s*d,h=a/2-i*d,g=en.translate(f,h).scale(d);t.transform(Bn(n,o==null?void 0:o.duration),g)},fitBounds:(s,i)=>{const{width:o,height:l,minZoom:a,maxZoom:c}=e.getState(),{x:d,y:f,zoom:h}=n0(s,o,l,a,c,(i==null?void 0:i.padding)??.1),g=en.translate(d,f).scale(h);t.transform(Bn(n,i==null?void 0:i.duration),g)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),lu(s,i,o,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:a}=e.getState();if(!a)return s;const{x:c,y:d}=a.getBoundingClientRect(),f={x:s.x-c,y:s.y-d};return lu(f,i,o,l)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:l,y:a}=o.getBoundingClientRect(),c=Jm(s,i);return{x:c.x+l,y:c.y+a}},viewportInitialized:!0}:q2,[t,n])};function Ec(){const e=X2(),t=$e(),n=S.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=S.useCallback(x=>t.getState().nodeInternals.get(x),[]),s=S.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(b=>({...b}))},[]),i=S.useCallback(x=>{const{edges:b=[]}=t.getState();return b.find(p=>p.id===x)},[]),o=S.useCallback(x=>{const{getNodes:b,setNodes:p,hasDefaultNodes:m,onNodesChange:y}=t.getState(),w=b(),_=typeof x=="function"?x(w):x;if(m)p(_);else if(y){const A=_.length===0?w.map($=>({type:"remove",id:$.id})):_.map($=>({item:$,type:"reset"}));y(A)}},[]),l=S.useCallback(x=>{const{edges:b=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:y}=t.getState(),w=typeof x=="function"?x(b):x;if(m)p(w);else if(y){const _=w.length===0?b.map(A=>({type:"remove",id:A.id})):w.map(A=>({item:A,type:"reset"}));y(_)}},[]),a=S.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:p,setNodes:m,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const A=[...p(),...b];m(A)}else if(w){const _=b.map(A=>({item:A,type:"add"}));w(_)}},[]),c=S.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:p=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)m([...p,...b]);else if(w){const _=b.map(A=>({item:A,type:"add"}));w(_)}},[]),d=S.useCallback(()=>{const{getNodes:x,edges:b=[],transform:p}=t.getState(),[m,y,w]=p;return{nodes:x().map(_=>({..._})),edges:b.map(_=>({..._})),viewport:{x:m,y,zoom:w}}},[]),f=S.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:p,getNodes:m,edges:y,hasDefaultNodes:w,hasDefaultEdges:_,onNodesDelete:A,onEdgesDelete:$,onNodesChange:R,onEdgesChange:M}=t.getState(),z=(x||[]).map(P=>P.id),F=(b||[]).map(P=>P.id),U=m().reduce((P,j)=>{const D=j.parentNode||j.parentId,E=!z.includes(j.id)&&D&&P.find(T=>T.id===D);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(z.includes(j.id)||E)&&P.push(j),P},[]),B=y.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),N=B.filter(P=>F.includes(P.id));if(U||N){const P=t0(U,B),j=[...N,...P],D=j.reduce((E,k)=>(E.includes(k.id)||E.push(k.id),E),[]);if((_||w)&&(_&&t.setState({edges:y.filter(E=>!D.includes(E.id))}),w&&(U.forEach(E=>{p.delete(E.id)}),t.setState({nodeInternals:new Map(p)}))),D.length>0&&($==null||$(j),M&&M(D.map(E=>({id:E,type:"remove"})))),U.length>0&&(A==null||A(U),R)){const E=U.map(k=>({id:k.id,type:"remove"}));R(E)}}},[]),h=S.useCallback(x=>{const b=g2(x),p=b?null:t.getState().nodeInternals.get(x.id);return!b&&!p?[null,null,b]:[b?x:Sf(p),p,b]},[]),g=S.useCallback((x,b=!0,p)=>{const[m,y,w]=h(x);return m?(p||t.getState().getNodes()).filter(_=>{if(!w&&(_.id===y.id||!_.positionAbsolute))return!1;const A=Sf(_),$=ru(A,m);return b&&$>0||$>=m.width*m.height}):[]},[]),v=S.useCallback((x,b,p=!0)=>{const[m]=h(x);if(!m)return!1;const y=ru(m,b);return p&&y>0||y>=m.width*m.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:l,addNodes:a,addEdges:c,toObject:d,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:v}),[e,n,r,s,i,o,l,a,c,d,f,g,v])}const G2={actInsideInputWithModifier:!1};var Q2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=$e(),{deleteElements:r}=Ec(),s=ni(e,G2),i=ni(t);S.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),a=l().filter(d=>d.selected),c=o.filter(d=>d.selected);r({nodes:a,edges:c}),n.setState({nodesSelectionActive:!1})}},[s]),S.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Z2(e){const t=$e();S.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=xc(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",ln.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const jc={position:"absolute",width:"100%",height:"100%",top:0,left:0},J2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,zi=e=>({x:e.x,y:e.y,zoom:e.k}),dr=(e,t)=>e.target.closest(`.${t}`),Pf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Rf=e=>{const t=e.ctrlKey&&zo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},eS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),tS=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Yn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:w})=>{const _=S.useRef(),A=$e(),$=S.useRef(!1),R=S.useRef(!1),M=S.useRef(null),z=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:U,d3ZoomHandler:B,userSelectionActive:N}=he(eS,Me),P=ni(b),j=S.useRef(0),D=S.useRef(!1),E=S.useRef();return Z2(M),S.useEffect(()=>{if(M.current){const k=M.current.getBoundingClientRect(),T=Bm().scaleExtent([v,x]).translateExtent(g),L=mt(M.current).call(T),O=en.translate(h.x,h.y).scale(Wr(h.zoom,v,x)),q=[[0,0],[k.width,k.height]],W=T.constrain()(O,q,g);T.transform(L,W),T.wheelDelta(Rf),A.setState({d3Zoom:T,d3Selection:L,d3ZoomHandler:L.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:M.current.closest(".react-flow")})}},[]),S.useEffect(()=>{U&&F&&(o&&!P&&!N?U.on("wheel.zoom",k=>{if(dr(k,y))return!1;k.preventDefault(),k.stopImmediatePropagation();const T=U.property("__zoom").k||1;if(k.ctrlKey&&i){const ae=Et(k),oe=Rf(k),se=T*Math.pow(2,oe);F.scaleTo(U,se,ae,k);return}const L=k.deltaMode===1?20:1;let O=a===Yn.Vertical?0:k.deltaX*L,q=a===Yn.Horizontal?0:k.deltaY*L;!zo()&&k.shiftKey&&a!==Yn.Vertical&&(O=k.deltaY*L,q=0),F.translateBy(U,-(O/T)*l,-(q/T)*l,{internal:!0});const W=zi(U.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:J,onViewportChangeEnd:ee}=A.getState();clearTimeout(E.current),D.current||(D.current=!0,t==null||t(k,W),Q==null||Q(W)),D.current&&(e==null||e(k,W),J==null||J(W),E.current=setTimeout(()=>{n==null||n(k,W),ee==null||ee(W),D.current=!1},150))},{passive:!1}):typeof B<"u"&&U.on("wheel.zoom",function(k,T){if(!p&&k.type==="wheel"&&!k.ctrlKey||dr(k,y))return null;k.preventDefault(),B.call(this,k,T)},{passive:!1}))},[N,o,a,U,F,B,P,i,p,y,t,e,n]),S.useEffect(()=>{F&&F.on("start",k=>{var O,q;if(!k.sourceEvent||k.sourceEvent.internal)return null;j.current=(O=k.sourceEvent)==null?void 0:O.button;const{onViewportChangeStart:T}=A.getState(),L=zi(k.transform);$.current=!0,z.current=L,((q=k.sourceEvent)==null?void 0:q.type)==="mousedown"&&A.setState({paneDragging:!0}),T==null||T(L),t==null||t(k.sourceEvent,L)})},[F,t]),S.useEffect(()=>{F&&(N&&!$.current?F.on("zoom",null):N||F.on("zoom",k=>{var L;const{onViewportChange:T}=A.getState();if(A.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),R.current=!!(r&&Pf(f,j.current??0)),(e||T)&&!((L=k.sourceEvent)!=null&&L.internal)){const O=zi(k.transform);T==null||T(O),e==null||e(k.sourceEvent,O)}}))},[N,F,e,f,r]),S.useEffect(()=>{F&&F.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=A.getState();if($.current=!1,A.setState({paneDragging:!1}),r&&Pf(f,j.current??0)&&!R.current&&r(k.sourceEvent),R.current=!1,(n||T)&&J2(z.current,k.transform)){const L=zi(k.transform);z.current=L,clearTimeout(_.current),_.current=setTimeout(()=>{T==null||T(L),n==null||n(k.sourceEvent,L)},o?150:0)}})},[F,o,f,n,r]),S.useEffect(()=>{F&&F.filter(k=>{const T=P||s,L=i&&k.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&k.button===1&&k.type==="mousedown"&&(dr(k,"react-flow__node")||dr(k,"react-flow__edge")))return!0;if(!f&&!T&&!o&&!c&&!i||N||!c&&k.type==="dblclick"||dr(k,y)&&k.type==="wheel"||dr(k,w)&&(k.type!=="wheel"||o&&k.type==="wheel"&&!P)||!i&&k.ctrlKey&&k.type==="wheel"||!T&&!o&&!L&&k.type==="wheel"||!f&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(f)&&!f.includes(k.button)&&k.type==="mousedown")return!1;const O=Array.isArray(f)&&f.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&O})},[N,F,s,i,o,c,f,d,P]),I.createElement("div",{className:"react-flow__renderer",ref:M,style:jc},m)},nS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function rS(){const{userSelectionActive:e,userSelectionRect:t}=he(nS,Me);return e&&t?I.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Mf(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function x0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Mf(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Mf(r,o);break}case"remove":return r}return r.push(o),r},n)}function v0(e,t){return x0(e,t)}function sS(e,t){return x0(e,t)}const pn=(e,t)=>({id:e,type:"select",selected:t});function _r(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(pn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(pn(r.id,!1))),n},[])}const Xl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},iS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),w0=S.memo(({isSelecting:e,selectionMode:t=ti.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:c,onPaneMouseLeave:d,children:f})=>{const h=S.useRef(null),g=$e(),v=S.useRef(0),x=S.useRef(0),b=S.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:y}=he(iS,Me),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},_=B=>{i==null||i(B),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},A=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}o==null||o(B)},$=l?B=>l(B):void 0,R=B=>{const{resetSelectedElements:N,domNode:P}=g.getState();if(b.current=P==null?void 0:P.getBoundingClientRect(),!m||!e||B.button!==0||B.target!==h.current||!b.current)return;const{x:j,y:D}=Cn(B,b.current);N(),g.setState({userSelectionRect:{width:0,height:0,startX:j,startY:D,x:j,y:D}}),r==null||r(B)},M=B=>{const{userSelectionRect:N,nodeInternals:P,edges:j,transform:D,onNodesChange:E,onEdgesChange:k,nodeOrigin:T,getNodes:L}=g.getState();if(!e||!b.current||!N)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=Cn(B,b.current),q=N.startX??0,W=N.startY??0,Q={...N,x:O.x<q?O.x:q,y:O.y<W?O.y:W,width:Math.abs(O.x-q),height:Math.abs(O.y-W)},J=L(),ee=e0(P,Q,D,t===ti.Partial,!0,T),ae=t0(ee,j).map(se=>se.id),oe=ee.map(se=>se.id);if(v.current!==oe.length){v.current=oe.length;const se=_r(J,oe);se.length&&(E==null||E(se))}if(x.current!==ae.length){x.current=ae.length;const se=_r(j,ae);se.length&&(k==null||k(se))}g.setState({userSelectionRect:Q})},z=B=>{if(B.button!==0)return;const{userSelectionRect:N}=g.getState();!p&&N&&B.target===h.current&&(_==null||_(B)),g.setState({nodesSelectionActive:v.current>0}),w(),s==null||s(B)},F=B=>{p&&(g.setState({nodesSelectionActive:v.current>0}),s==null||s(B)),w()},U=m&&(e||p);return I.createElement("div",{className:Oe(["react-flow__pane",{dragging:y,selection:e}]),onClick:U?void 0:Xl(_,h),onContextMenu:Xl(A,h),onWheel:Xl($,h),onMouseEnter:U?void 0:a,onMouseDown:U?R:void 0,onMouseMove:U?M:c,onMouseUp:U?z:void 0,onMouseLeave:U?F:d,ref:h,style:jc},f,I.createElement(rS,null))});w0.displayName="Pane";function N0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:N0(r,t):!1}function If(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function oS(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!N0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function lS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function S0(e,t,n,r,s=[0,0],i){const o=lS(e,e.extent||r);let l=o;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:h,y:g}=Gn(f,s).positionAbsolute;l=f&&yt(h)&&yt(g)&&yt(f.width)&&yt(f.height)?[[h+e.width*s[0],g+e.height*s[1]],[h+f.width-e.width+e.width*s[0],g+f.height-e.height+e.height*s[1]]]:l}else i==null||i("005",ln.error005()),l=o;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:h,y:g}=Gn(f,s).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+g],[e.extent[1][0]+h,e.extent[1][1]+g]]}let c={x:0,y:0};if(a){const f=n.get(a);c=Gn(f,s).positionAbsolute}const d=l&&l!=="parent"?vc(t,l):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Gl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const zf=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return i.map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(c.left-o.left-l.x)/n,y:(c.top-o.top-l.y)/n,...xc(a)}})};function ds(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function uu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:a}=t.getState(),c=l.get(e);if(!c){a==null||a("012",ln.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function aS(){const e=$e();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(a.x/s[0]):a.x,ySnapped:i?s[1]*Math.round(a.y/s[1]):a.y,...a}},[])}function Ql(e){return(t,n,r)=>e==null?void 0:e(t,r)}function b0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const l=$e(),[a,c]=S.useState(!1),d=S.useRef([]),f=S.useRef({x:null,y:null}),h=S.useRef(0),g=S.useRef(null),v=S.useRef({x:0,y:0}),x=S.useRef(null),b=S.useRef(!1),p=S.useRef(!1),m=S.useRef(!1),y=aS();return S.useEffect(()=>{if(e!=null&&e.current){const w=mt(e.current),_=({x:R,y:M})=>{const{nodeInternals:z,onNodeDrag:F,onSelectionDrag:U,updateNodePositions:B,nodeExtent:N,snapGrid:P,snapToGrid:j,nodeOrigin:D,onError:E}=l.getState();f.current={x:R,y:M};let k=!1,T={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&N){const O=ul(d.current,D);T=ei(O)}if(d.current=d.current.map(O=>{const q={x:R-O.distance.x,y:M-O.distance.y};j&&(q.x=P[0]*Math.round(q.x/P[0]),q.y=P[1]*Math.round(q.y/P[1]));const W=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];d.current.length>1&&N&&!O.extent&&(W[0][0]=O.positionAbsolute.x-T.x+N[0][0],W[1][0]=O.positionAbsolute.x+(O.width??0)-T.x2+N[1][0],W[0][1]=O.positionAbsolute.y-T.y+N[0][1],W[1][1]=O.positionAbsolute.y+(O.height??0)-T.y2+N[1][1]);const Q=S0(O,q,z,W,D,E);return k=k||O.position.x!==Q.position.x||O.position.y!==Q.position.y,O.position=Q.position,O.positionAbsolute=Q.positionAbsolute,O}),!k)return;B(d.current,!0,!0),c(!0);const L=s?F:Ql(U);if(L&&x.current){const[O,q]=Gl({nodeId:s,dragItems:d.current,nodeInternals:z});L(x.current,O,q)}},A=()=>{if(!g.current)return;const[R,M]=Vm(v.current,g.current);if(R!==0||M!==0){const{transform:z,panBy:F}=l.getState();f.current.x=(f.current.x??0)-R/z[2],f.current.y=(f.current.y??0)-M/z[2],F({x:R,y:M})&&_(f.current)}h.current=requestAnimationFrame(A)},$=R=>{var D;const{nodeInternals:M,multiSelectionActive:z,nodesDraggable:F,unselectNodesAndEdges:U,onNodeDragStart:B,onSelectionDragStart:N}=l.getState();p.current=!0;const P=s?B:Ql(N);(!o||!i)&&!z&&s&&((D=M.get(s))!=null&&D.selected||U()),s&&i&&o&&uu({id:s,store:l,nodeRef:e});const j=y(R);if(f.current=j,d.current=oS(M,F,j,s),P&&d.current){const[E,k]=Gl({nodeId:s,dragItems:d.current,nodeInternals:M});P(R.sourceEvent,E,k)}};if(t)w.on(".drag",null);else{const R=ww().on("start",M=>{const{domNode:z,nodeDragThreshold:F}=l.getState();F===0&&$(M),m.current=!1;const U=y(M);f.current=U,g.current=(z==null?void 0:z.getBoundingClientRect())||null,v.current=Cn(M.sourceEvent,g.current)}).on("drag",M=>{var B,N;const z=y(M),{autoPanOnNodeDrag:F,nodeDragThreshold:U}=l.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!b.current&&p.current&&F&&(b.current=!0,A()),!p.current){const P=z.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),j=z.ySnapped-(((N=f==null?void 0:f.current)==null?void 0:N.y)??0);Math.sqrt(P*P+j*j)>U&&$(M)}(f.current.x!==z.xSnapped||f.current.y!==z.ySnapped)&&d.current&&p.current&&(x.current=M.sourceEvent,v.current=Cn(M.sourceEvent,g.current),_(z))}}).on("end",M=>{if(!(!p.current||m.current)&&(c(!1),b.current=!1,p.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:z,nodeInternals:F,onNodeDragStop:U,onSelectionDragStop:B}=l.getState(),N=s?U:Ql(B);if(z(d.current,!1,!1),N){const[P,j]=Gl({nodeId:s,dragItems:d.current,nodeInternals:F});N(M.sourceEvent,P,j)}}}).filter(M=>{const z=M.target;return!M.button&&(!n||!If(z,`.${n}`,e))&&(!r||If(z,r,e))});return w.call(R),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,l,s,o,y]),a}function k0(){const e=$e();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:a,onError:c,nodesDraggable:d}=e.getState(),f=o().filter(m=>m.selected&&(m.draggable||d&&typeof m.draggable>"u")),h=l?a[0]:5,g=l?a[1]:5,v=n.isShiftPressed?4:1,x=n.x*h*v,b=n.y*g*v,p=f.map(m=>{if(m.positionAbsolute){const y={x:m.positionAbsolute.x+x,y:m.positionAbsolute.y+b};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:w,position:_}=S0(m,y,r,s,void 0,c);m.position=_,m.positionAbsolute=w}return m});i(p,!0,!1)},[])}const Mr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var fs=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:a,selected:c,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,onContextMenu:v,onDoubleClick:x,style:b,className:p,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:_,selectNodesOnDrag:A,sourcePosition:$,targetPosition:R,hidden:M,resizeObserver:z,dragHandle:F,zIndex:U,isParent:B,noDragClassName:N,noPanClassName:P,initialized:j,disableKeyboardA11y:D,ariaLabel:E,rfId:k,hasHandleBounds:T})=>{const L=$e(),O=S.useRef(null),q=S.useRef(null),W=S.useRef($),Q=S.useRef(R),J=S.useRef(r),ee=y||m||d||f||h||g,ae=k0(),oe=ds(n,L.getState,f),se=ds(n,L.getState,h),Ce=ds(n,L.getState,g),ie=ds(n,L.getState,v),Ne=ds(n,L.getState,x),_e=ue=>{const{nodeDragThreshold:Z}=L.getState();if(y&&(!A||!m||Z>0)&&uu({id:n,store:L,nodeRef:O}),d){const Ie=L.getState().nodeInternals.get(n);Ie&&d(ue,{...Ie})}},ge=ue=>{if(!su(ue)&&!D)if(qm.includes(ue.key)&&y){const Z=ue.key==="Escape";uu({id:n,store:L,unselect:Z,nodeRef:O})}else m&&c&&Object.prototype.hasOwnProperty.call(Mr,ue.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${ue.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),ae({x:Mr[ue.key].x,y:Mr[ue.key].y,isShiftPressed:ue.shiftKey}))};S.useEffect(()=>()=>{q.current&&(z==null||z.unobserve(q.current),q.current=null)},[]),S.useEffect(()=>{if(O.current&&!M){const ue=O.current;(!j||!T||q.current!==ue)&&(q.current&&(z==null||z.unobserve(q.current)),z==null||z.observe(ue),q.current=ue)}},[M,j,T]),S.useEffect(()=>{const ue=J.current!==r,Z=W.current!==$,Ie=Q.current!==R;O.current&&(ue||Z||Ie)&&(ue&&(J.current=r),Z&&(W.current=$),Ie&&(Q.current=R),L.getState().updateNodeDimensions([{id:n,nodeElement:O.current,forceUpdate:!0}]))},[n,r,$,R]);const We=b0({nodeRef:O,disabled:M||!m,noDragClassName:N,handleSelector:F,nodeId:n,isSelectable:y,selectNodesOnDrag:A});return M?null:I.createElement("div",{className:Oe(["react-flow__node",`react-flow__node-${r}`,{[P]:m},p,{selected:c,selectable:y,parent:B,dragging:We}]),ref:O,style:{zIndex:U,transform:`translate(${l}px,${a}px)`,pointerEvents:ee?"all":"none",visibility:j?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:se,onMouseLeave:Ce,onContextMenu:ie,onClick:_e,onDoubleClick:Ne,onKeyDown:_?ge:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":D?void 0:`${h0}-${k}`,"aria-label":E},I.createElement(b2,{value:n},I.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:c,isConnectable:w,sourcePosition:$,targetPosition:R,dragging:We,dragHandle:F,zIndex:U})))};return t.displayName="NodeWrapper",S.memo(t)};const uS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ul(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function cS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=$e(),{width:s,height:i,x:o,y:l,transformString:a,userSelectionActive:c}=he(uS,Me),d=k0(),f=S.useRef(null);if(S.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),b0({nodeRef:f}),c||!s||!i)return null;const h=e?v=>{const x=r.getState().getNodes().filter(b=>b.selected);e(v,x)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(Mr,v.key)&&d({x:Mr[v.key].x,y:Mr[v.key].y,isShiftPressed:v.shiftKey})};return I.createElement("div",{className:Oe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},I.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:i,top:l,left:o}}))}var dS=S.memo(cS);const fS=e=>e.nodesSelectionActive,_0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:a,onMoveStart:c,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:g,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:A,panOnScrollSpeed:$,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:z,defaultViewport:F,translateExtent:U,minZoom:B,maxZoom:N,preventScrolling:P,onSelectionContextMenu:j,noWheelClassName:D,noPanClassName:E,disableKeyboardA11y:k})=>{const T=he(fS),L=ni(f),O=ni(p),q=O||z,W=O||A,Q=L||h&&q!==!0;return Q2({deleteKeyCode:l,multiSelectionKeyCode:b}),I.createElement(tS,{onMove:a,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:W,panOnScrollSpeed:$,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:!L&&q,defaultViewport:F,translateExtent:U,minZoom:B,maxZoom:N,zoomActivationKeyCode:m,preventScrolling:P,noWheelClassName:D,noPanClassName:E},I.createElement(w0,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:q,isSelecting:!!Q,selectionMode:g},e,T&&I.createElement(dS,{onSelectionContextMenu:j,noPanClassName:E,disableKeyboardA11y:k})))};_0.displayName="FlowRenderer";var hS=S.memo(_0);function pS(e){return he(S.useCallback(n=>e?e0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function mS(e){const t={input:fs(e.input||u0),default:fs(e.default||au),output:fs(e.output||d0),group:fs(e.group||_c)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=fs(e[i]||au),s),n);return{...t,...r}}const gS=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},yS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),E0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=he(yS,Me),l=pS(e.onlyRenderVisibleElements),a=S.useRef(),c=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));i(h)});return a.current=d,d},[]);return S.useEffect(()=>()=>{var d;(d=a==null?void 0:a.current)==null||d.disconnect()},[]),I.createElement("div",{className:"react-flow__nodes",style:jc},l.map(d=>{var _,A,$;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",ln.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,g=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||s&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),p=e.nodeExtent?vc(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,m=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,w=gS({x:m,y,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return I.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||G.Bottom,targetPosition:d.targetPosition||G.Top,hidden:d.hidden,xPos:m,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:v,isConnectable:x,isFocusable:b,resizeObserver:c,dragHandle:d.dragHandle,zIndex:((_=d[be])==null?void 0:_.z)??0,isParent:!!((A=d[be])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!(($=d[be])!=null&&$.handleBounds)})}))};E0.displayName="NodeRenderer";var xS=S.memo(E0);const vS=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,wS=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,Lf="react-flow__edgeupdater",Df=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l})=>I.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Oe([Lf,`${Lf}-${l}`]),cx:vS(t,r,e),cy:wS(n,r,e),r,stroke:"transparent",fill:"transparent"}),NS=()=>!0;var fr=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:l,selected:a,animated:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,style:b,source:p,target:m,sourceX:y,sourceY:w,targetX:_,targetY:A,sourcePosition:$,targetPosition:R,elementsSelectable:M,hidden:z,sourceHandleId:F,targetHandleId:U,onContextMenu:B,onMouseEnter:N,onMouseMove:P,onMouseLeave:j,reconnectRadius:D,onReconnect:E,onReconnectStart:k,onReconnectEnd:T,markerEnd:L,markerStart:O,rfId:q,ariaLabel:W,isFocusable:Q,isReconnectable:J,pathOptions:ee,interactionWidth:ae,disableKeyboardA11y:oe})=>{const se=S.useRef(null),[Ce,ie]=S.useState(!1),[Ne,_e]=S.useState(!1),ge=$e(),We=S.useMemo(()=>`url('#${ou(O,q)}')`,[O,q]),ue=S.useMemo(()=>`url('#${ou(L,q)}')`,[L,q]);if(z)return null;const Z=Fe=>{var Mt;const{edges:St,addSelectedEdges:In,unselectNodesAndEdges:zn,multiSelectionActive:Ln}=ge.getState(),Yt=St.find(Zr=>Zr.id===n);Yt&&(M&&(ge.setState({nodesSelectionActive:!1}),Yt.selected&&Ln?(zn({nodes:[],edges:[Yt]}),(Mt=se.current)==null||Mt.blur()):In([n])),o&&o(Fe,Yt))},Ie=cs(n,ge.getState,l),C=cs(n,ge.getState,B),V=cs(n,ge.getState,N),Y=cs(n,ge.getState,P),X=cs(n,ge.getState,j),de=(Fe,St)=>{if(Fe.button!==0)return;const{edges:In,isValidConnection:zn}=ge.getState(),Ln=St?m:p,Yt=(St?U:F)||null,Mt=St?"target":"source",Zr=zn||NS,hl=St,Jr=In.find(Dn=>Dn.id===n);_e(!0),k==null||k(Fe,Jr,Mt);const pl=Dn=>{_e(!1),T==null||T(Dn,Jr,Mt)};i0({event:Fe,handleId:Yt,nodeId:Ln,onConnect:Dn=>E==null?void 0:E(Jr,Dn),isTarget:hl,getState:ge.getState,setState:ge.setState,isValidConnection:Zr,edgeUpdaterType:Mt,onReconnectEnd:pl})},Ye=Fe=>de(Fe,!0),Ut=Fe=>de(Fe,!1),Wt=()=>ie(!0),or=()=>ie(!1),lr=!M&&!o,Qr=Fe=>{var St;if(!oe&&qm.includes(Fe.key)&&M){const{unselectNodesAndEdges:In,addSelectedEdges:zn,edges:Ln}=ge.getState();Fe.key==="Escape"?((St=se.current)==null||St.blur(),In({edges:[Ln.find(Mt=>Mt.id===n)]})):zn([n])}};return I.createElement("g",{className:Oe(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:a,animated:c,inactive:lr,updating:Ce}]),onClick:Z,onDoubleClick:Ie,onContextMenu:C,onMouseEnter:V,onMouseMove:Y,onMouseLeave:X,onKeyDown:Q?Qr:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":W===null?void 0:W||`Edge from ${p} to ${m}`,"aria-describedby":Q?`${p0}-${q}`:void 0,ref:se},!Ne&&I.createElement(e,{id:n,source:p,target:m,selected:a,animated:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,data:i,style:b,sourceX:y,sourceY:w,targetX:_,targetY:A,sourcePosition:$,targetPosition:R,sourceHandleId:F,targetHandleId:U,markerStart:We,markerEnd:ue,pathOptions:ee,interactionWidth:ae}),J&&I.createElement(I.Fragment,null,(J==="source"||J===!0)&&I.createElement(Df,{position:$,centerX:y,centerY:w,radius:D,onMouseDown:Ye,onMouseEnter:Wt,onMouseOut:or,type:"source"}),(J==="target"||J===!0)&&I.createElement(Df,{position:R,centerX:_,centerY:A,radius:D,onMouseDown:Ut,onMouseEnter:Wt,onMouseOut:or,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function SS(e){const t={default:fr(e.default||Lo),straight:fr(e.bezier||Sc),step:fr(e.step||Nc),smoothstep:fr(e.step||ll),simplebezier:fr(e.simplebezier||wc)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=fr(e[i]||Lo),s),n);return{...t,...r}}function Of(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+i/2,y:s};case G.Right:return{x:r+i,y:s+o/2};case G.Bottom:return{x:r+i/2,y:s+o};case G.Left:return{x:r,y:s+o/2}}}function Ff(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const bS=(e,t,n,r,s,i)=>{const o=Of(n,e,t),l=Of(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function kS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:l,transform:a}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=ei({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:o/a[2],height:l/a[2]}),f=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),h=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(f*h)>0}function Bf(e){var r,s,i,o,l;const t=((r=e==null?void 0:e[be])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const _S=[{level:0,isMaxLevel:!0,edges:[]}];function ES(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var d,f;const a=yt(l.zIndex);let c=a?l.zIndex:0;if(n){const h=t.get(l.target),g=t.get(l.source),v=l.selected||(h==null?void 0:h.selected)||(g==null?void 0:g.selected),x=Math.max(((d=g==null?void 0:g[be])==null?void 0:d.z)||0,((f=h==null?void 0:h[be])==null?void 0:f.z)||0,1e3);c=(a?l.zIndex:0)+(v?x:0)}return o[c]?o[c].push(l):o[c]=[l],r=c>r?c:r,o},{}),i=Object.entries(s).map(([o,l])=>{const a=+o;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?_S:i}function jS(e,t,n){const r=he(S.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&kS({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return ES(r,t,n)}const CS=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),AS=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Hf={[Qe.Arrow]:CS,[Qe.ArrowClosed]:AS};function TS(e){const t=$e();return S.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Hf,e)?Hf[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",ln.error009(e)),null)},[e])}const $S=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const a=TS(t);return a?I.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},I.createElement(a,{color:n,strokeWidth:o})):null},PS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=ou(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},j0=({defaultColor:e,rfId:t})=>{const n=he(S.useCallback(PS({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return I.createElement("defs",null,n.map(r=>I.createElement($S,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};j0.displayName="MarkerDefinitions";var RS=S.memo(j0);const MS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),C0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,children:b,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:y,elementsSelectable:w,width:_,height:A,connectionMode:$,nodeInternals:R,onError:M}=he(MS,Me),z=jS(t,R,n);return _?I.createElement(I.Fragment,null,z.map(({level:F,edges:U,isMaxLevel:B})=>I.createElement("svg",{key:F,style:{zIndex:F},width:_,height:A,className:"react-flow__edges react-flow__container"},B&&I.createElement(RS,{defaultColor:e,rfId:r}),I.createElement("g",null,U.map(N=>{const[P,j,D]=Bf(R.get(N.source)),[E,k,T]=Bf(R.get(N.target));if(!D||!T)return null;let L=N.type||"default";s[L]||(M==null||M("011",ln.error011(L)),L="default");const O=s[L]||s.default,q=$===rr.Strict?k.target:(k.target??[]).concat(k.source??[]),W=Ff(j.source,N.sourceHandle),Q=Ff(q,N.targetHandle),J=(W==null?void 0:W.position)||G.Bottom,ee=(Q==null?void 0:Q.position)||G.Top,ae=!!(N.focusable||m&&typeof N.focusable>"u"),oe=N.reconnectable||N.updatable,se=typeof h<"u"&&(oe||y&&typeof oe>"u");if(!W||!Q)return M==null||M("008",ln.error008(W,N)),null;const{sourceX:Ce,sourceY:ie,targetX:Ne,targetY:_e}=bS(P,W,J,E,Q,ee);return I.createElement(O,{key:N.id,id:N.id,className:Oe([N.className,i]),type:L,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:Ce,sourceY:ie,targetX:Ne,targetY:_e,sourcePosition:J,targetPosition:ee,elementsSelectable:w,onContextMenu:o,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,rfId:r,ariaLabel:N.ariaLabel,isFocusable:ae,isReconnectable:se,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:p})})))),b):null};C0.displayName="EdgeRenderer";var IS=S.memo(C0);const zS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function LS({children:e}){const t=he(zS);return I.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function DS(e){const t=Ec(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const OS={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},A0=({nodeId:e,handleType:t,style:n,type:r=yn.Bezier,CustomComponent:s,connectionStatus:i})=>{var A,$,R;const{fromNode:o,handleId:l,toX:a,toY:c,connectionMode:d}=he(S.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Me),f=(A=o==null?void 0:o[be])==null?void 0:A.handleBounds;let h=f==null?void 0:f[t];if(d===rr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const g=l?h.find(M=>M.id===l):h[0],v=g?g.x+g.width/2:(o.width??0)/2,x=g?g.y+g.height/2:o.height??0,b=((($=o.positionAbsolute)==null?void 0:$.x)??0)+v,p=(((R=o.positionAbsolute)==null?void 0:R.y)??0)+x,m=g==null?void 0:g.position,y=m?OS[m]:null;if(!m||!y)return null;if(s)return I.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:g,fromX:b,fromY:p,toX:a,toY:c,fromPosition:m,toPosition:y,connectionStatus:i});let w="";const _={sourceX:b,sourceY:p,sourcePosition:m,targetX:a,targetY:c,targetPosition:y};return r===yn.Bezier?[w]=Zm(_):r===yn.Step?[w]=iu({..._,borderRadius:0}):r===yn.SmoothStep?[w]=iu(_):r===yn.SimpleBezier?[w]=Qm(_):w=`M${b},${p} ${a},${c}`,I.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};A0.displayName="ConnectionLine";const FS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function BS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:l,height:a,connectionStatus:c}=he(FS,Me);return!(s&&i&&l&&o)?null:I.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},I.createElement("g",{className:Oe(["react-flow__connection",c])},I.createElement(A0,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function Vf(e,t){return S.useRef(null),$e(),S.useMemo(()=>t(e),[e])}const T0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:b,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:_,selectionOnDrag:A,selectionMode:$,multiSelectionKeyCode:R,panActivationKeyCode:M,zoomActivationKeyCode:z,deleteKeyCode:F,onlyRenderVisibleElements:U,elementsSelectable:B,selectNodesOnDrag:N,defaultViewport:P,translateExtent:j,minZoom:D,maxZoom:E,preventScrolling:k,defaultMarkerColor:T,zoomOnScroll:L,zoomOnPinch:O,panOnScroll:q,panOnScrollSpeed:W,panOnScrollMode:Q,zoomOnDoubleClick:J,panOnDrag:ee,onPaneClick:ae,onPaneMouseEnter:oe,onPaneMouseMove:se,onPaneMouseLeave:Ce,onPaneScroll:ie,onPaneContextMenu:Ne,onEdgeContextMenu:_e,onEdgeMouseEnter:ge,onEdgeMouseMove:We,onEdgeMouseLeave:ue,onReconnect:Z,onReconnectStart:Ie,onReconnectEnd:C,reconnectRadius:V,noDragClassName:Y,noWheelClassName:X,noPanClassName:de,elevateEdgesOnSelect:Ye,disableKeyboardA11y:Ut,nodeOrigin:Wt,nodeExtent:or,rfId:lr})=>{const Qr=Vf(e,mS),Fe=Vf(t,SS);return DS(i),I.createElement(hS,{onPaneClick:ae,onPaneMouseEnter:oe,onPaneMouseMove:se,onPaneMouseLeave:Ce,onPaneContextMenu:Ne,onPaneScroll:ie,deleteKeyCode:F,selectionKeyCode:_,selectionOnDrag:A,selectionMode:$,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:M,zoomActivationKeyCode:z,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:L,zoomOnPinch:O,zoomOnDoubleClick:J,panOnScroll:q,panOnScrollSpeed:W,panOnScrollMode:Q,panOnDrag:ee,defaultViewport:P,translateExtent:j,minZoom:D,maxZoom:E,onSelectionContextMenu:v,preventScrolling:k,noDragClassName:Y,noWheelClassName:X,noPanClassName:de,disableKeyboardA11y:Ut},I.createElement(LS,null,I.createElement(IS,{edgeTypes:Fe,onEdgeClick:l,onEdgeDoubleClick:c,onlyRenderVisibleElements:U,onEdgeContextMenu:_e,onEdgeMouseEnter:ge,onEdgeMouseMove:We,onEdgeMouseLeave:ue,onReconnect:Z,onReconnectStart:Ie,onReconnectEnd:C,reconnectRadius:V,defaultMarkerColor:T,noPanClassName:de,elevateEdgesOnSelect:!!Ye,disableKeyboardA11y:Ut,rfId:lr},I.createElement(BS,{style:m,type:p,component:y,containerStyle:w})),I.createElement("div",{className:"react-flow__edgelabel-renderer"}),I.createElement(xS,{nodeTypes:Qr,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,selectNodesOnDrag:N,onlyRenderVisibleElements:U,noPanClassName:de,noDragClassName:Y,disableKeyboardA11y:Ut,nodeOrigin:Wt,nodeExtent:or,rfId:lr})))};T0.displayName="GraphView";var HS=S.memo(T0);const cu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],cn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:cu,nodeExtent:cu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:y2,isValidConnection:void 0},VS=()=>Pv((e,t)=>({...cn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:Kl(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Kl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:a,nodeOrigin:c}=t(),d=a==null?void 0:a.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((x,b)=>{const p=s.get(b.id);if(p!=null&&p.hidden)s.set(p.id,{...p,[be]:{...p[be],handleBounds:void 0}});else if(p){const m=xc(b.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||b.forceUpdate))&&(s.set(p.id,{...p,[be]:{...p[be],handleBounds:{source:zf(".source",b.nodeElement,h,c),target:zf(".target",b.nodeElement,h,c)}},...m}),x.push({id:p.id,type:"dimensions",dimensions:m}))}return x},[]);g0(s,c);const v=o||i&&!o&&y0(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const a={id:l.id,type:"position",dragging:s};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const c=v0(n,l()),d=Kl(c,s,o,a);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>pn(a,!0)):(o=_r(i(),n),l=_r(s,[])),Ii({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>pn(a,!0)):(o=_r(s,n),l=_r(i(),[])),Ii({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),l=r||s,a=o.map(d=>(d.selected=!1,pn(d.id,!1))),c=l.map(d=>pn(d.id,!1));Ii({changedNodes:a,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>pn(l.id,!1)),o=n.filter(l=>l.selected).map(l=>pn(l.id,!1));Ii({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=vc(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:l,translateExtent:a}=t();if(!o||!l||!n.x&&!n.y)return!1;const c=en.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],f=o==null?void 0:o.constrain()(c,d,a);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:cn.connectionNodeId,connectionHandleId:cn.connectionHandleId,connectionHandleType:cn.connectionHandleType,connectionStatus:cn.connectionStatus,connectionStartHandle:cn.connectionStartHandle,connectionEndHandle:cn.connectionEndHandle}),reset:()=>e({...cn})}),Object.is),$0=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=VS()),I.createElement(c2,{value:t.current},e)};$0.displayName="ReactFlowProvider";const P0=({children:e})=>S.useContext(ol)?I.createElement(I.Fragment,null,e):I.createElement($0,null,e);P0.displayName="ReactFlowWrapper";const US={input:u0,default:au,output:d0,group:_c},WS={default:Lo,straight:Sc,step:Nc,smoothstep:ll,simplebezier:wc},YS=[0,0],qS=[15,15],KS={x:0,y:0,zoom:1},XS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},cl=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=US,edgeTypes:o=WS,onNodeClick:l,onEdgeClick:a,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:_,onNodeDoubleClick:A,onNodeDragStart:$,onNodeDrag:R,onNodeDragStop:M,onNodesDelete:z,onEdgesDelete:F,onSelectionChange:U,onSelectionDragStart:B,onSelectionDrag:N,onSelectionDragStop:P,onSelectionContextMenu:j,onSelectionStart:D,onSelectionEnd:E,connectionMode:k=rr.Strict,connectionLineType:T=yn.Bezier,connectionLineStyle:L,connectionLineComponent:O,connectionLineContainerStyle:q,deleteKeyCode:W="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:J=!1,selectionMode:ee=ti.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:oe=zo()?"Meta":"Control",zoomActivationKeyCode:se=zo()?"Meta":"Control",snapToGrid:Ce=!1,snapGrid:ie=qS,onlyRenderVisibleElements:Ne=!1,selectNodesOnDrag:_e=!0,nodesDraggable:ge,nodesConnectable:We,nodesFocusable:ue,nodeOrigin:Z=YS,edgesFocusable:Ie,edgesUpdatable:C,elementsSelectable:V,defaultViewport:Y=KS,minZoom:X=.5,maxZoom:de=2,translateExtent:Ye=cu,preventScrolling:Ut=!0,nodeExtent:Wt,defaultMarkerColor:or="#b1b1b7",zoomOnScroll:lr=!0,zoomOnPinch:Qr=!0,panOnScroll:Fe=!1,panOnScrollSpeed:St=.5,panOnScrollMode:In=Yn.Free,zoomOnDoubleClick:zn=!0,panOnDrag:Ln=!0,onPaneClick:Yt,onPaneMouseEnter:Mt,onPaneMouseMove:Zr,onPaneMouseLeave:hl,onPaneScroll:Jr,onPaneContextMenu:pl,children:Bc,onEdgeContextMenu:Dn,onEdgeDoubleClick:ng,onEdgeMouseEnter:rg,onEdgeMouseMove:sg,onEdgeMouseLeave:ig,onEdgeUpdate:og,onEdgeUpdateStart:lg,onEdgeUpdateEnd:ag,onReconnect:ug,onReconnectStart:cg,onReconnectEnd:dg,reconnectRadius:fg=10,edgeUpdaterRadius:hg=10,onNodesChange:pg,onEdgesChange:mg,noDragClassName:gg="nodrag",noWheelClassName:yg="nowheel",noPanClassName:Hc="nopan",fitView:xg=!1,fitViewOptions:vg,connectOnClick:wg=!0,attributionPosition:Ng,proOptions:Sg,defaultEdgeOptions:bg,elevateNodesOnSelect:kg=!0,elevateEdgesOnSelect:_g=!1,disableKeyboardA11y:Vc=!1,autoPanOnConnect:Eg=!0,autoPanOnNodeDrag:jg=!0,connectionRadius:Cg=20,isValidConnection:Ag,onError:Tg,style:$g,id:Uc,nodeDragThreshold:Pg,...Rg},Mg)=>{const ml=Uc||"1";return I.createElement("div",{...Rg,style:{...$g,...XS},ref:Mg,className:Oe(["react-flow",s]),"data-testid":"rf__wrapper",id:Uc},I.createElement(P0,null,I.createElement(HS,{onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:_,onNodeDoubleClick:A,nodeTypes:i,edgeTypes:o,connectionLineType:T,connectionLineStyle:L,connectionLineComponent:O,connectionLineContainerStyle:q,selectionKeyCode:Q,selectionOnDrag:J,selectionMode:ee,deleteKeyCode:W,multiSelectionKeyCode:oe,panActivationKeyCode:ae,zoomActivationKeyCode:se,onlyRenderVisibleElements:Ne,selectNodesOnDrag:_e,defaultViewport:Y,translateExtent:Ye,minZoom:X,maxZoom:de,preventScrolling:Ut,zoomOnScroll:lr,zoomOnPinch:Qr,zoomOnDoubleClick:zn,panOnScroll:Fe,panOnScrollSpeed:St,panOnScrollMode:In,panOnDrag:Ln,onPaneClick:Yt,onPaneMouseEnter:Mt,onPaneMouseMove:Zr,onPaneMouseLeave:hl,onPaneScroll:Jr,onPaneContextMenu:pl,onSelectionContextMenu:j,onSelectionStart:D,onSelectionEnd:E,onEdgeContextMenu:Dn,onEdgeDoubleClick:ng,onEdgeMouseEnter:rg,onEdgeMouseMove:sg,onEdgeMouseLeave:ig,onReconnect:ug??og,onReconnectStart:cg??lg,onReconnectEnd:dg??ag,reconnectRadius:fg??hg,defaultMarkerColor:or,noDragClassName:gg,noWheelClassName:yg,noPanClassName:Hc,elevateEdgesOnSelect:_g,rfId:ml,disableKeyboardA11y:Vc,nodeOrigin:Z,nodeExtent:Wt}),I.createElement(O2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:We,nodesFocusable:ue,edgesFocusable:Ie,edgesUpdatable:C,elementsSelectable:V,elevateNodesOnSelect:kg,minZoom:X,maxZoom:de,nodeExtent:Wt,onNodesChange:pg,onEdgesChange:mg,snapToGrid:Ce,snapGrid:ie,connectionMode:k,translateExtent:Ye,connectOnClick:wg,defaultEdgeOptions:bg,fitView:xg,fitViewOptions:vg,onNodesDelete:z,onEdgesDelete:F,onNodeDragStart:$,onNodeDrag:R,onNodeDragStop:M,onSelectionDrag:N,onSelectionDragStart:B,onSelectionDragStop:P,noPanClassName:Hc,nodeOrigin:Z,rfId:ml,autoPanOnConnect:Eg,autoPanOnNodeDrag:jg,onError:Tg,connectionRadius:Cg,isValidConnection:Ag,nodeDragThreshold:Pg}),I.createElement(L2,{onSelectionChange:U}),Bc,I.createElement(f2,{proOptions:Sg,position:Ng}),I.createElement(U2,{rfId:ml,disableKeyboardA11y:Vc})))});cl.displayName="ReactFlow";function R0(e){return t=>{const[n,r]=S.useState(t),s=S.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const Cc=R0(v0),Ac=R0(sS),M0=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:a,className:c,borderRadius:d,shapeRendering:f,onClick:h,selected:g})=>{const{background:v,backgroundColor:x}=i||{},b=o||v||x;return I.createElement("rect",{className:Oe(["react-flow__minimap-node",{selected:g},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:l,strokeWidth:a,shapeRendering:f,onClick:h?p=>h(p,e):void 0})};M0.displayName="MiniMapNode";var GS=S.memo(M0);const QS=e=>e.nodeOrigin,ZS=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Zl=e=>e instanceof Function?e:()=>e;function JS({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=GS,onClick:o}){const l=he(ZS,Me),a=he(QS),c=Zl(t),d=Zl(e),f=Zl(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return I.createElement(I.Fragment,null,l.map(g=>{const{x:v,y:x}=Gn(g,a).positionAbsolute;return I.createElement(i,{key:g.id,x:v,y:x,width:g.width,height:g.height,style:g.style,selected:g.selected,className:f(g),color:c(g),borderRadius:r,strokeColor:d(g),strokeWidth:s,shapeRendering:h,onClick:o,id:g.id})}))}var eb=S.memo(JS);const tb=200,nb=150,rb=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?m2(ul(t,e.nodeOrigin),n):n,rfId:e.rfId}},sb="react-flow__minimap-desc";function I0({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:g,pannable:v=!1,zoomable:x=!1,ariaLabel:b="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:y=5}){const w=$e(),_=S.useRef(null),{boundingRect:A,viewBB:$,rfId:R}=he(rb,Me),M=(e==null?void 0:e.width)??tb,z=(e==null?void 0:e.height)??nb,F=A.width/M,U=A.height/z,B=Math.max(F,U),N=B*M,P=B*z,j=y*B,D=A.x-(N-A.width)/2-j,E=A.y-(P-A.height)/2-j,k=N+j*2,T=P+j*2,L=`${sb}-${R}`,O=S.useRef(0);O.current=B,S.useEffect(()=>{if(_.current){const Q=mt(_.current),J=oe=>{const{transform:se,d3Selection:Ce,d3Zoom:ie}=w.getState();if(oe.sourceEvent.type!=="wheel"||!Ce||!ie)return;const Ne=-oe.sourceEvent.deltaY*(oe.sourceEvent.deltaMode===1?.05:oe.sourceEvent.deltaMode?1:.002)*m,_e=se[2]*Math.pow(2,Ne);ie.scaleTo(Ce,_e)},ee=oe=>{const{transform:se,d3Selection:Ce,d3Zoom:ie,translateExtent:Ne,width:_e,height:ge}=w.getState();if(oe.sourceEvent.type!=="mousemove"||!Ce||!ie)return;const We=O.current*Math.max(1,se[2])*(p?-1:1),ue={x:se[0]-oe.sourceEvent.movementX*We,y:se[1]-oe.sourceEvent.movementY*We},Z=[[0,0],[_e,ge]],Ie=en.translate(ue.x,ue.y).scale(se[2]),C=ie.constrain()(Ie,Z,Ne);ie.transform(Ce,C)},ae=Bm().on("zoom",v?ee:null).on("zoom.wheel",x?J:null);return Q.call(ae),()=>{Q.on("zoom",null)}}},[v,x,p,m]);const q=h?Q=>{const J=Et(Q);h(Q,{x:J[0],y:J[1]})}:void 0,W=g?(Q,J)=>{const ee=w.getState().nodeInternals.get(J);g(Q,ee)}:void 0;return I.createElement(yc,{position:f,style:e,className:Oe(["react-flow__minimap",t]),"data-testid":"rf__minimap"},I.createElement("svg",{width:M,height:z,viewBox:`${D} ${E} ${k} ${T}`,role:"img","aria-labelledby":L,ref:_,onClick:q},b&&I.createElement("title",{id:L},b),I.createElement(eb,{onClick:W,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),I.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-j},${E-j}h${k+j*2}v${T+j*2}h${-k-j*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fill:a,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}I0.displayName="MiniMap";var Tc=S.memo(I0);function ib(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},I.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function ob(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},I.createElement("path",{d:"M0 0h32v4.2H0z"}))}function lb(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},I.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ab(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ub(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ns=({children:e,className:t,...n})=>I.createElement("button",{type:"button",className:Oe(["react-flow__controls-button",t]),...n},e);Ns.displayName="ControlButton";const cb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),z0=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:a,className:c,children:d,position:f="bottom-left"})=>{const h=$e(),[g,v]=S.useState(!1),{isInteractive:x,minZoomReached:b,maxZoomReached:p}=he(cb,Me),{zoomIn:m,zoomOut:y,fitView:w}=Ec();if(S.useEffect(()=>{v(!0)},[]),!g)return null;const _=()=>{m(),i==null||i()},A=()=>{y(),o==null||o()},$=()=>{w(s),l==null||l()},R=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)};return I.createElement(yc,{className:Oe(["react-flow__controls",c]),position:f,style:e,"data-testid":"rf__controls"},t&&I.createElement(I.Fragment,null,I.createElement(Ns,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},I.createElement(ib,null)),I.createElement(Ns,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},I.createElement(ob,null))),n&&I.createElement(Ns,{className:"react-flow__controls-fitview",onClick:$,title:"fit view","aria-label":"fit view"},I.createElement(lb,null)),r&&I.createElement(Ns,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},x?I.createElement(ub,null):I.createElement(ab,null)),d)};z0.displayName="Controls";var $c=S.memo(z0),vt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vt||(vt={}));function db({color:e,dimensions:t,lineWidth:n}){return I.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function fb({color:e,radius:t}){return I.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const hb={[vt.Dots]:"#91919a",[vt.Lines]:"#eee",[vt.Cross]:"#e2e2e2"},pb={[vt.Dots]:1,[vt.Lines]:1,[vt.Cross]:6},mb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function L0({id:e,variant:t=vt.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:l,className:a}){const c=S.useRef(null),{transform:d,patternId:f}=he(mb,Me),h=o||hb[t],g=r||pb[t],v=t===vt.Dots,x=t===vt.Cross,b=Array.isArray(n)?n:[n,n],p=[b[0]*d[2]||1,b[1]*d[2]||1],m=g*d[2],y=x?[m,m]:p,w=v?[m/i,m/i]:[y[0]/i,y[1]/i];return I.createElement("svg",{className:Oe(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},I.createElement("pattern",{id:f+e,x:d[0]%p[0],y:d[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?I.createElement(fb,{color:h,radius:m/i}):I.createElement(db,{dimensions:y,color:h,lineWidth:s})),I.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}L0.displayName="Background";var Pc=S.memo(L0);const Rc=S.memo(({data:e})=>{const[t,n]=S.useState(!1),r=o=>o?o.includes("P0")?"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)":o.includes("P1")?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #fcd34d 100%)":o.includes("P2")?"linear-gradient(135deg, #3b82f6 0%, #60a5fa 50%, #93c5fd 100%)":"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)":"linear-gradient(135deg, #9ca3af 0%, #d1d5db 100%)",s=o=>o?o.includes("P0")?"0 0 30px rgba(239, 68, 68, 0.6), 0 0 60px rgba(239, 68, 68, 0.3)":o.includes("P1")?"0 0 30px rgba(245, 158, 11, 0.6), 0 0 60px rgba(245, 158, 11, 0.3)":o.includes("P2")?"0 0 30px rgba(59, 130, 246, 0.6), 0 0 60px rgba(59, 130, 246, 0.3)":"0 0 30px rgba(16, 185, 129, 0.6), 0 0 60px rgba(16, 185, 129, 0.3)":"0 0 20px rgba(156, 163, 175, 0.3)",i=o=>o?o.includes("P0")?"🔥":o.includes("P1")?"⚡":o.includes("P2")?"💎":"✨":"📋";return u.jsxs("div",{className:"relative min-w-[320px] transition-all duration-500 float",style:{filter:`drop-shadow(${s(e.priority)})`},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[u.jsx(st,{type:"target",position:G.Left,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125"}),u.jsx("div",{className:"relative rounded-2xl p-[3px] transition-all duration-500 shimmer",style:{background:r(e.priority),transform:t?"scale(1.05) translateY(-5px)":"scale(1)"},children:u.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-5 shadow-xl",children:u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"text-4xl transition-transform duration-300",style:{animation:t?"scalePulse 1s ease-in-out infinite":"none"},children:i(e.priority)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("h3",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-gray-800 to-gray-600",children:["#",e.number]}),e.priority&&u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider glass-effect-dark text-white",children:e.priority.split(":")[1]||e.priority})]}),u.jsx("p",{className:"text-sm text-gray-700 font-medium leading-relaxed line-clamp-2",children:e.title})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.state&&u.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 text-xs font-bold uppercase tracking-wide border border-indigo-200/50",children:e.state.includes(":")?e.state.split(":")[1]:e.state}),e.assignedAgents.length>0&&u.jsxs("span",{className:"px-3 py-1.5 rounded-lg bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 text-xs font-bold uppercase tracking-wide border border-purple-200/50 flex items-center gap-1",children:[u.jsx("span",{children:"🤖"}),u.jsxs("span",{children:[e.assignedAgents.length," Agent",e.assignedAgents.length>1?"s":""]})]})]})]})})}),u.jsx(st,{type:"source",position:G.Right,className:"!bg-gradient-to-r !from-blue-500 !to-cyan-500 !w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125"})]})});Rc.displayName="IssueNode";const Do={coordinator:{id:"coordinator",name:"CoordinatorAgent",emoji:"🎯",color:"#FF79C6",description:"Task orchestration and DAG decomposition"},codegen:{id:"codegen",name:"CodeGenAgent",emoji:"💻",color:"#00D9FF",description:"AI-driven code generation"},review:{id:"review",name:"ReviewAgent",emoji:"👀",color:"#00FF88",description:"Code quality review and scoring"},issue:{id:"issue",name:"IssueAgent",emoji:"📋",color:"#8B88FF",description:"Issue analysis and labeling"},pr:{id:"pr",name:"PRAgent",emoji:"🔀",color:"#FF79C6",description:"Pull request management"},deployment:{id:"deployment",name:"DeploymentAgent",emoji:"🚀",color:"#FF4444",description:"CI/CD deployment automation"},test:{id:"test",name:"TestAgent",emoji:"🧪",color:"#FBCA04",description:"Automated testing"}},gb={pending:{name:"state:pending",emoji:"📥",color:"#E4E4E4",description:"Issue created, awaiting triage"},analyzing:{name:"state:analyzing",emoji:"🔍",color:"#0E8A16",description:"CoordinatorAgent analyzing"},implementing:{name:"state:implementing",emoji:"🏗️",color:"#1D76DB",description:"Specialist Agents working"},reviewing:{name:"state:reviewing",emoji:"👀",color:"#FBCA04",description:"ReviewAgent conducting checks"},done:{name:"state:done",emoji:"✅",color:"#2EA44F",description:"Completed successfully"},blocked:{name:"state:blocked",emoji:"🔴",color:"#D73A4A",description:"Blocked - requires intervention"},failed:{name:"state:failed",emoji:"🛑",color:"#B60205",description:"Execution failed"},paused:{name:"state:paused",emoji:"⏸️",color:"#D4C5F9",description:"Paused - waiting"}};function Uf(e){if(typeof window>"u"||typeof window.matchMedia!="function")return!1;try{return window.matchMedia(e).matches}catch{return!1}}function Xr(){const[e,t]=S.useState(()=>Uf("(prefers-reduced-motion: reduce)")),[n,r]=S.useState(()=>Uf("(prefers-contrast: more)"));return S.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const s=document.documentElement,i=f=>{const h=f.matches;t(h),s.setAttribute("data-motion",h?"reduced":"normal")},o=f=>{const h=f.matches;r(h),s.setAttribute("data-contrast",h?"high":"standard")},l=window.matchMedia("(prefers-reduced-motion: reduce)"),a=window.matchMedia("(prefers-contrast: more)");i(l),o(a);const c=f=>i(f),d=f=>o(f);return l.addEventListener("change",c),a.addEventListener("change",d),()=>{l.removeEventListener("change",c),a.removeEventListener("change",d),s.removeAttribute("data-motion"),s.removeAttribute("data-contrast")}},[]),{prefersReducedMotion:e,prefersHighContrast:n}}const Mc=S.memo(({data:e})=>{const t=Do[e.agentId],[n,r]=S.useState(!0),[s,i]=S.useState(!1),{prefersReducedMotion:o,prefersHighContrast:l}=Xr(),a=!o,c=l?"text-gray-100":"text-gray-300",d=l?"border-white/50":"border-purple-400/30",f=()=>{switch(e.status){case"running":return l?"0 0 32px rgba(147, 197, 253, 0.85)":"0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(139, 92, 246, 0.5), 0 0 120px rgba(139, 92, 246, 0.3)";case"completed":return l?"0 0 32px rgba(74, 222, 128, 0.9)":"0 0 40px rgba(16, 185, 129, 0.8), 0 0 80px rgba(16, 185, 129, 0.5), 0 0 120px rgba(16, 185, 129, 0.3)";case"error":return l?"0 0 32px rgba(248, 113, 113, 0.9)":"0 0 40px rgba(239, 68, 68, 0.8), 0 0 80px rgba(239, 68, 68, 0.5), 0 0 120px rgba(239, 68, 68, 0.3)";default:return l?"0 0 24px rgba(226, 232, 240, 0.4)":"0 0 20px rgba(107, 114, 128, 0.4), 0 0 40px rgba(107, 114, 128, 0.2)"}},h=S.useMemo(()=>{if(l)switch(e.status){case"running":return"linear-gradient(135deg, #1d4ed8 0%, #312e81 100%)";case"completed":return"linear-gradient(135deg, #047857 0%, #065f46 100%)";case"error":return"linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%)";default:return"linear-gradient(135deg, #1f2937 0%, #111827 100%)"}switch(e.status){case"running":return"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)";case"completed":return"linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%)";case"error":return"linear-gradient(135deg, #ef4444 0%, #f87171 50%, #fca5a5 100%)";default:return"linear-gradient(135deg, #6b7280 0%, #9ca3af 50%, #d1d5db 100%)"}},[l,e.status]),g=()=>a?e.status==="running"?"scale-pulse":e.status==="completed"?"float":"":"";return u.jsxs("div",{className:`relative w-[460px] transition-all duration-700 ${g()}`,style:{filter:`drop-shadow(${f()})`},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[u.jsx(st,{type:"target",position:G.Left,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"}),u.jsx("div",{className:`relative rounded-3xl p-[4px] transition-all duration-700 ${a?"shimmer":""}`,style:{background:h,transform:s?"scale(1.08) translateY(-8px)":e.status==="running"?"scale(1.05)":"scale(1)",backgroundSize:"200% 200%",animation:a&&e.status==="running"?"gradientShift 3s ease infinite":"none"},children:u.jsxs("div",{className:"relative rounded-3xl backdrop-blur-2xl p-7 shadow-2xl",style:{background:l?"linear-gradient(135deg, rgba(15,23,42,0.95) 0%, rgba(2,6,23,0.95) 100%)":"linear-gradient(135deg, rgba(17,24,39,0.95) 0%, rgba(31,41,55,0.95) 100%)",border:l?"1px solid rgba(226,232,240,0.35)":"1px solid rgba(148,163,184,0.20)"},children:[e.status==="running"&&a&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent animate-pulse"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 via-transparent to-pink-600/10",style:{animation:"gradientShift 4s ease infinite"}})]}),u.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-purple-400 rounded-full animate-ping"}),u.jsx("div",{className:"absolute top-8 right-8 w-1.5 h-1.5 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.3s"}}),u.jsx("div",{className:"absolute top-6 right-12 w-1 h-1 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"0.6s"}})]}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex items-start justify-between mb-5",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-6xl relative",style:{filter:e.status==="running"?"drop-shadow(0 0 20px rgba(139, 92, 246, 0.8))":e.status==="completed"?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.8))":"none",animation:e.status==="running"&&a?"scalePulse 2s ease-in-out infinite":"none"},children:(t==null?void 0:t.emoji)||"🤖"}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-xl font-black tracking-wide ${l?"text-gray-50":"text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-100 to-white"}`,style:l?void 0:{backgroundImage:"linear-gradient(135deg, #ffffff 0%, #f5f5f5 50%, #ffffff 100%)"},children:e.name}),u.jsx("p",{className:`text-sm font-medium mt-1 ${c}`,children:t==null?void 0:t.description})]})]})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.status==="running"&&u.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 ${d} backdrop-blur-sm`,children:[u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:`absolute h-4 w-4 rounded-full bg-purple-500 ${a?"animate-ping":""}`}),u.jsx("div",{className:`absolute h-3 w-3 rounded-full bg-purple-400 ${a?"animate-pulse":""}`}),u.jsx("div",{className:"relative h-2.5 w-2.5 rounded-full bg-white"})]}),u.jsx("span",{className:"text-sm font-bold gradient-text",children:"🔥 RUNNING"})]}),e.status==="idle"&&u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-700/40 border border-gray-600/30",children:[u.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-400"}),u.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"💤 IDLE"})]}),e.status==="completed"&&u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl",children:"✨"}),u.jsx("span",{className:"text-sm font-bold gradient-text-success",children:"COMPLETED"})]}),e.status==="error"&&u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 rounded-full bg-gradient-to-r from-red-500/20 to-pink-500/20 border border-red-400/30 backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl",children:"⚠️"}),u.jsx("span",{className:"text-sm font-bold gradient-text-error",children:"ERROR"})]})]}),e.currentIssue&&u.jsxs("div",{className:"mb-4 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-indigo-400/20 px-4 py-3 backdrop-blur-sm",children:[u.jsx("div",{className:`text-xs font-bold mb-1 uppercase tracking-wider ${l?"text-indigo-100":"text-indigo-300"}`,children:"📌 Current Task"}),u.jsxs("div",{className:"text-base font-mono font-bold text-white",children:["Issue #",e.currentIssue]})]}),e.status==="running"&&u.jsxs("div",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:`text-sm font-bold uppercase tracking-wider ${l?"text-gray-100":"text-gray-200"}`,children:"⚡ Progress"}),u.jsxs("span",{className:`text-lg font-black ${l?"text-fuchsia-200":"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"}`,style:l?void 0:{backgroundImage:"linear-gradient(135deg, #c084fc 0%, #f472b6 100%)"},children:[e.progress,"%"]})]}),u.jsxs("div",{className:"relative h-4 rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20"}),u.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 transition-all duration-1000 ease-out shadow-lg",style:{width:`${e.progress}%`,boxShadow:l?"0 0 12px rgba(56, 189, 248, 0.6)":"0 0 20px rgba(139, 92, 246, 0.8), 0 0 40px rgba(236, 72, 153, 0.6)"},children:[a&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]}),e.progress>5&&u.jsx("div",{className:"absolute top-0 h-full w-1 bg-white/80 shadow-lg transition-all duration-1000 ease-out",style:{left:`${e.progress}%`,filter:"drop-shadow(0 0 4px white)"}})]})]}),e.parameters&&Object.keys(e.parameters).length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 border border-purple-400/20 hover:border-purple-400/40 px-4 py-3 transition-all duration-300 group",children:[u.jsxs("span",{className:"text-sm font-bold text-purple-100 uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{className:`transition-transform duration-300 ${n?"rotate-90":""}`,children:"▶"}),u.jsx("span",{children:"⚙️ Parameters"})]}),u.jsx("span",{className:"text-xs font-semibold text-purple-300 bg-purple-500/20 px-3 py-1 rounded-full",children:Object.keys(e.parameters).length})]}),n&&u.jsx("div",{className:"mt-3 space-y-3 max-h-56 overflow-y-auto rounded-xl bg-black/40 p-4 border border-purple-500/20 backdrop-blur-sm",children:Object.entries(e.parameters).map(([v,x])=>u.jsxs("div",{className:"relative border-l-4 border-gradient-to-b from-purple-500 to-pink-500 pl-4 py-2 bg-gradient-to-r from-purple-500/5 to-transparent rounded-r-lg",children:[u.jsx("div",{className:"text-xs font-mono font-black text-purple-200 uppercase tracking-wider mb-1",children:v}),u.jsx("div",{className:"text-sm font-mono break-words leading-relaxed text-gray-100",children:typeof x=="object"?JSON.stringify(x,null,2):String(x)})]},v))})]})]})]})}),u.jsx(st,{type:"source",position:G.Right,className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !w-5 !h-5 !border-4 !border-white !shadow-2xl transition-all duration-300 hover:!scale-150"})]})});Mc.displayName="AgentNode";const Ic=S.memo(({data:e})=>{const[t,n]=S.useState(!1),r=i=>{const l=(a=>{const c=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),f=parseInt(a.slice(5,7),16);return`${c}, ${d}, ${f}`})(i);return`linear-gradient(135deg, rgba(${l}, 1) 0%, rgba(${l}, 0.7) 50%, rgba(${l}, 0.9) 100%)`},s=i=>{const l=(a=>{const c=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),f=parseInt(a.slice(5,7),16);return`${c}, ${d}, ${f}`})(i);return`0 0 30px rgba(${l}, 0.6), 0 0 60px rgba(${l}, 0.3)`};return u.jsxs("div",{className:"relative min-w-[240px] transition-all duration-500 scale-pulse",style:{filter:`drop-shadow(${s(e.color)})`},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[u.jsx(st,{type:"target",position:G.Left,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}}),u.jsx("div",{className:"relative rounded-3xl p-[3px] transition-all duration-500 shimmer",style:{background:r(e.color),transform:t?"scale(1.1) translateY(-8px)":"scale(1)"},children:u.jsx("div",{className:"relative rounded-3xl bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl p-6 shadow-2xl",children:u.jsxs("div",{className:"text-center relative z-10",children:[u.jsx("div",{className:"text-5xl mb-3 inline-block",style:{animation:e.count>0?"scalePulse 2s ease-in-out infinite":"none",filter:e.count>0?`drop-shadow(0 0 10px ${e.color}80)`:"none"},children:e.emoji}),u.jsx("h3",{className:"text-base font-black text-transparent bg-clip-text mb-3",style:{backgroundImage:`linear-gradient(135deg, ${e.color}, ${e.color}cc)`},children:e.label.includes(":")?e.label.split(":")[1]:e.label}),e.count>0&&u.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl text-2xl font-black text-white shadow-lg mb-3 relative overflow-hidden",style:{background:r(e.color),boxShadow:`0 0 30px ${e.color}60, 0 0 60px ${e.color}30`},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"}),u.jsx("span",{className:"relative z-10",children:e.count})]}),u.jsx("p",{className:"text-xs text-gray-600 font-medium leading-relaxed",children:e.description})]})})}),u.jsx(st,{type:"source",position:G.Right,className:"!w-4 !h-4 !border-4 !border-white !shadow-xl transition-all duration-300 hover:!scale-125",style:{background:`linear-gradient(135deg, ${e.color}, ${e.color}dd)`}})]})});Ic.displayName="StateNode";function D0({nodes:e}){const t=S.useMemo(()=>{const n=e.filter(g=>g.type==="issue"),r=e.filter(g=>g.type==="agent"),s=e.filter(g=>g.type==="state"),i={};n.forEach(g=>{const x=g.data.state||"unknown";i[x]=(i[x]||0)+1});const o=r.filter(g=>g.data.status==="running").length,l=r.filter(g=>g.data.status==="idle").length,a=r.filter(g=>g.data.status==="error").length,c=n.filter(g=>{var v;return(v=g.data.priority)==null?void 0:v.includes("P0")}).length,d=n.filter(g=>{var v;return(v=g.data.priority)==null?void 0:v.includes("P1")}).length,f=n.filter(g=>{var x,b;const v=g.data;return((x=v.state)==null?void 0:x.includes("done"))||((b=v.state)==null?void 0:b.includes("completed"))}).length;return{cards:[{label:"Total Issues",value:n.length,icon:"📋",color:"#3B82F6",bgColor:"#EFF6FF"},{label:"Running Agents",value:o,icon:"🤖",color:"#10B981",bgColor:"#D1FAE5"},{label:"Completed",value:f,icon:"✅",color:"#22C55E",bgColor:"#DCFCE7"},{label:"Critical (P0/P1)",value:c+d,icon:"🔥",color:"#EF4444",bgColor:"#FEE2E2"},{label:"Idle Agents",value:l,icon:"💤",color:"#6B7280",bgColor:"#F3F4F6"},{label:"Errors",value:a,icon:"⚠️",color:"#F59E0B",bgColor:"#FEF3C7"}],issuesByState:i,totalAgents:r.length,totalStates:s.length}},[e]);return u.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[u.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:t.cards.map((n,r)=>u.jsx("div",{className:"group relative rounded-2xl p-[2px] transition-all duration-500 hover:scale-110 hover:rotate-1 shimmer",style:{background:`linear-gradient(135deg, ${n.color}, ${n.color}dd)`,animationDelay:`${r*.1}s`},children:u.jsxs("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 p-4 backdrop-blur-xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-3xl transition-transform duration-300 group-hover:scale-125",style:{filter:`drop-shadow(0 0 10px ${n.color}80)`,animation:n.label==="Running Agents"&&typeof n.value=="number"&&n.value>0?"scalePulse 2s ease-in-out infinite":"none"},children:n.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-300",children:n.label}),u.jsx("p",{className:"text-3xl font-black transition-all duration-300 group-hover:scale-110",style:{color:n.color,textShadow:`0 0 20px ${n.color}60`},children:n.value})]})]}),u.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300 group-hover:opacity-100",style:{background:`radial-gradient(circle at 50% 50%, ${n.color}20, transparent 70%)`}})]})},n.label))}),u.jsxs("div",{className:"mt-6 rounded-2xl glass-effect p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider text-gray-200 flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"📈"}),u.jsx("span",{children:"Completion Rate"})]}),u.jsx("span",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400",children:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%"})]}),u.jsxs("div",{className:"relative h-4 w-full rounded-full bg-gray-800/80 overflow-hidden border border-gray-700/50 shadow-inner",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-emerald-600/20"}),u.jsxs("div",{className:"relative h-full rounded-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 transition-all duration-1000 ease-out shadow-lg",style:{width:typeof t.cards[0].value=="number"&&t.cards[0].value>0?`${Math.round(Number(t.cards[2].value)/Number(t.cards[0].value)*100)}%`:"0%",boxShadow:"0 0 20px rgba(16, 185, 129, 0.8), 0 0 40px rgba(16, 185, 129, 0.6)"},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent shimmer"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-transparent"})]})]})]})]})}function yb({selectedNode:e,onClose:t}){const n=S.useMemo(()=>{if(!e)return null;switch(e.type){case"issue":{const r=e.data;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:"📋"}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Issue #",r.number]}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.title})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),u.jsx("p",{className:"mt-1 rounded bg-gray-100 px-2 py-1 text-sm font-medium",children:r.state||"Unknown"})]}),r.priority&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Priority"}),u.jsx("p",{className:"mt-1 rounded bg-orange-100 px-2 py-1 text-sm font-medium text-orange-800",children:r.priority})]}),r.severity&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Severity"}),u.jsx("p",{className:"mt-1 rounded bg-red-100 px-2 py-1 text-sm font-medium text-red-800",children:r.severity})]}),r.assignedAgents.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Assigned Agents (",r.assignedAgents.length,")"]}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.assignedAgents.map(s=>{const i=Do[s];return u.jsxs("span",{className:"flex items-center gap-1 rounded bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800",children:[(i==null?void 0:i.emoji)||"🤖"," ",(i==null?void 0:i.name)||s]},s)})})]}),r.labels&&r.labels.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:["Labels (",r.labels.length,")"]}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.labels.map(s=>u.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-800",children:s},s))})]}),u.jsx("div",{children:u.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:[u.jsx("span",{children:"View on GitHub"}),u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})]})}case"agent":{const r=e.data,s=Do[r.agentId];return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:(s==null?void 0:s.emoji)||"🤖"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s==null?void 0:s.description})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Status"}),u.jsxs("div",{className:"mt-1",children:[r.status==="running"&&u.jsxs("span",{className:"flex items-center gap-2 rounded bg-green-100 px-3 py-1.5 text-sm font-semibold text-green-800",children:[u.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-green-600"}),"Running"]}),r.status==="idle"&&u.jsx("span",{className:"rounded bg-gray-100 px-3 py-1.5 text-sm font-semibold text-gray-800",children:"Idle"}),r.status==="error"&&u.jsx("span",{className:"rounded bg-red-100 px-3 py-1.5 text-sm font-semibold text-red-800",children:"Error"}),r.status==="completed"&&u.jsx("span",{className:"rounded bg-emerald-100 px-3 py-1.5 text-sm font-semibold text-emerald-800",children:"✓ Completed"})]})]}),r.currentIssue&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Current Issue"}),u.jsxs("p",{className:"mt-1 rounded bg-blue-100 px-2 py-1 text-sm font-medium text-blue-800",children:["#",r.currentIssue]})]}),r.status==="running"&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Progress"}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"h-3 w-full rounded-full bg-gray-200",children:u.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${r.progress}%`}})}),u.jsxs("p",{className:"mt-1 text-right text-sm font-semibold text-gray-700",children:[r.progress,"%"]})]})]}),r.lastActivity&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Last Activity"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.lastActivity})]})]})]})}case"state":{const r=e.data;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-4xl",children:r.emoji}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.label}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.description})]})]}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-500",children:"Issues in this state"}),u.jsx("p",{className:"mt-1 inline-block rounded-full px-4 py-2 text-2xl font-bold text-white",style:{backgroundColor:r.color},children:r.count})]})})]})}default:return null}},[e]);return e?u.jsxs("div",{className:"absolute right-0 top-0 z-20 h-full w-80 border-l border-gray-200 bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-500",children:"Details"}),u.jsx("button",{onClick:t,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close sidebar",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"overflow-y-auto p-4",style:{height:"calc(100% - 60px)"},children:n})]}):null}function O0({activities:e,maxItems:t=50}){const{prefersReducedMotion:n,prefersHighContrast:r}=Xr(),s=S.useMemo(()=>e.slice(0,t),[e,t]),i=o=>{try{const l=new Date(o),c=new Date().getTime()-l.getTime(),d=Math.floor(c/1e3),f=Math.floor(d/60),h=Math.floor(f/60);return d<60?`${d}s ago`:f<60?`${f}m ago`:h<24?`${h}h ago`:l.toLocaleString()}catch{return o}};return u.jsxs("div",{className:`glass-effect-dark border-t ${r?"border-white/20":"border-white/10"}`,children:[u.jsx("div",{className:`border-b ${r?"border-white/20":"border-white/10"} px-6 py-3 backdrop-blur-xl`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:`text-base font-black uppercase tracking-wider flex items-center gap-2 ${r?"text-slate-100":"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400"}`,style:r?void 0:{backgroundImage:"linear-gradient(135deg, #60a5fa 0%, #22d3ee 100%)"},children:[u.jsx("span",{className:"text-xl",children:"📊"}),u.jsx("span",{children:"Activity Log"})]}),u.jsxs("span",{className:`glass-effect px-3 py-1 text-xs font-black rounded-full ${r?"text-slate-100":"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"}`,style:r?void 0:{backgroundImage:"linear-gradient(135deg, #c084fc 0%, #f472b6 100%)"},children:[s.length," Events"]})]})}),u.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:s.length===0?u.jsxs("div",{className:"p-10 text-center",children:[u.jsx("div",{className:"text-5xl mb-3",children:"💤"}),u.jsx("p",{className:"text-sm font-semibold text-gray-400",children:"No activity yet"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Waiting for events..."})]}):u.jsx("div",{className:`divide-y ${r?"divide-white/20":"divide-white/5"}`,children:s.map((o,l)=>u.jsxs("div",{className:"group flex items-start gap-4 px-6 py-4 transition-all duration-300 hover:bg-white/5 relative",style:n?void 0:{animation:`fadeIn 0.3s ease-out ${l*.05}s both`},children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-xl text-xl transition-all duration-300 group-hover:scale-110",style:{background:`linear-gradient(135deg, ${o.color}, ${o.color}dd)`,boxShadow:`0 0 20px ${o.color}40`},children:o.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white leading-relaxed break-words",children:o.message}),u.jsx("p",{className:"mt-1 text-xs font-semibold text-gray-400",children:i(o.timestamp)})]}),u.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{background:`radial-gradient(circle at 10% 50%, ${o.color}10, transparent 70%)`}})]},o.id))})})]})}const xb=["P0-Critical","P1-High","P2-Medium","P3-Low"];function vb({filters:e,onFilterChange:t,onClose:n}){const[r,s]=S.useState(e),i=d=>{const f=r.states.includes(d)?r.states.filter(h=>h!==d):[...r.states,d];s({...r,states:f})},o=d=>{const f=r.agents.includes(d)?r.agents.filter(h=>h!==d):[...r.agents,d];s({...r,agents:f})},l=d=>{const f=r.priorities.includes(d)?r.priorities.filter(h=>h!==d):[...r.priorities,d];s({...r,priorities:f})},a=()=>{t(r),n()},c=()=>{const d={states:[],agents:[],priorities:[],showOnlyActive:!1};s(d),t(d)};return u.jsxs("div",{className:"absolute left-4 top-24 z-30 w-80 rounded-lg border border-gray-200 bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-700",children:"Filters"}),u.jsx("button",{onClick:n,className:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Close filters",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"States"}),u.jsx("div",{className:"space-y-1",children:Object.entries(gb).map(([d,f])=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.states.includes(f.name),onChange:()=>i(f.name),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-lg",children:f.emoji}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:f.name.split(":")[1]||f.name})]},d))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Agents"}),u.jsx("div",{className:"space-y-1",children:Object.entries(Do).map(([d,f])=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.agents.includes(f.id),onChange:()=>o(f.id),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),u.jsx("span",{className:"text-lg",children:f.emoji}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:f.name})]},d))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-semibold uppercase text-gray-500",children:"Priority"}),u.jsx("div",{className:"space-y-1",children:xb.map(d=>u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded p-2 transition-colors hover:bg-gray-50",children:[u.jsx("input",{type:"checkbox",checked:r.priorities.includes(d),onChange:()=>l(d),className:"h-4 w-4 rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),u.jsx("span",{className:"flex-1 text-sm text-gray-700",children:d})]},d))})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded bg-blue-50 p-3",children:[u.jsx("input",{type:"checkbox",checked:r.showOnlyActive,onChange:d=>s({...r,showOnlyActive:d.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"flex-1 text-sm font-medium text-blue-900",children:"Show only active items"})]})})]}),u.jsxs("div",{className:"flex gap-2 border-t border-gray-200 p-4",children:[u.jsx("button",{onClick:c,className:"flex-1 rounded border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Reset"}),u.jsx("button",{onClick:a,className:"flex-1 rounded bg-blue-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-600",children:"Apply"})]})]})}const hs=[{id:"discovery",name:"Task Discovery",nameJa:"タスク発見",description:"GitHubからIssueを読み込んで、処理すべきタスクを発見します",icon:"📥",color:"#6366F1"},{id:"analysis",name:"Analysis",nameJa:"分析",description:"CoordinatorAgentがIssueを分析し、タイプ・優先度・複雑度を判定します",icon:"🔍",color:"#10B981"},{id:"decomposition",name:"Task Decomposition",nameJa:"タスク分解",description:"Issueを複数のサブタスクに分解し、実行可能な単位にします",icon:"🧩",color:"#F59E0B"},{id:"assignment",name:"Agent Assignment",nameJa:"Agent割り当て",description:"各サブタスクに最適なSpecialist Agentを選択・割り当てます",icon:"🎯",color:"#8B5CF6"},{id:"execution",name:"Execution",nameJa:"実行",description:"Specialist Agentがタスクを実行し、コード生成・レビュー・PRを作成します",icon:"💻",color:"#EC4899"}];function wb({currentStage:e,completedStages:t}){var r;const n=S.useMemo(()=>e?hs.findIndex(s=>s.id===e):-1,[e]);return u.jsxs("div",{className:"glass-effect-dark border-b border-white/10 px-8 py-5 backdrop-blur-2xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"🚀"}),u.jsx("span",{children:"自律ワークフロー / Autonomous Workflow"})]}),u.jsx("p",{className:"text-sm text-gray-300 mt-1 font-medium",children:e?((r=hs.find(s=>s.id===e))==null?void 0:r.description)||"Processing...":"Waiting for tasks..."})]}),n>=0&&u.jsxs("div",{className:"rounded-full glass-effect px-4 py-2 text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:["Step ",n+1," / ",hs.length]})]}),u.jsx("div",{className:"flex items-center gap-2",children:hs.map((s,i)=>{const o=t.includes(s.id),l=e===s.id;return u.jsxs("div",{className:"flex flex-1 items-center",children:[u.jsx("div",{className:`relative flex flex-1 flex-col items-center rounded-2xl p-[2px] transition-all duration-500 ${l?"scale-110 shimmer":o?"scale-105":"opacity-60 scale-95"}`,style:{background:l?`linear-gradient(135deg, ${s.color}, ${s.color}dd)`:o?"linear-gradient(135deg, #10b981, #34d399)":"linear-gradient(135deg, #6b7280, #9ca3af)",filter:l?`drop-shadow(0 0 20px ${s.color}80)`:o?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.6))":"none"},children:u.jsxs("div",{className:"w-full rounded-2xl bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl p-4",children:[u.jsxs("div",{className:"relative mb-3 flex justify-center",children:[u.jsx("span",{className:"text-4xl transition-transform duration-300",style:{animation:l?"scalePulse 2s ease-in-out infinite":"none",filter:l?`drop-shadow(0 0 15px ${s.color})`:o?"drop-shadow(0 0 10px rgba(16, 185, 129, 0.8))":"none"},children:s.icon}),o&&u.jsx("div",{className:"absolute -right-2 -top-1 flex h-7 w-7 items-center justify-center rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm text-white font-bold shadow-lg",children:"✓"}),l&&u.jsxs("div",{className:"absolute -right-2 -top-1",children:[u.jsx("div",{className:"h-4 w-4 animate-ping rounded-full",style:{backgroundColor:s.color}}),u.jsx("div",{className:"absolute top-0 h-4 w-4 rounded-full",style:{backgroundColor:s.color}})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`text-sm font-black mb-1 ${l||o?"text-white":"text-gray-400"}`,children:s.nameJa}),u.jsx("div",{className:`text-[10px] font-semibold ${l||o?"text-gray-300":"text-gray-500"}`,children:s.name})]}),l&&u.jsx("div",{className:"mt-3 h-1.5 w-full overflow-hidden rounded-full bg-gray-700/50",children:u.jsx("div",{className:"h-full animate-pulse rounded-full shadow-lg",style:{background:`linear-gradient(90deg, ${s.color}, ${s.color}dd, ${s.color})`,boxShadow:`0 0 10px ${s.color}80`,width:"100%"},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"})})})]})}),i<hs.length-1&&u.jsx("div",{className:"flex-shrink-0 px-3",children:u.jsx("svg",{className:`h-8 w-8 transition-all duration-300 ${o?"text-green-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{filter:o?"drop-shadow(0 0 4px rgba(16, 185, 129, 0.6))":"none"},children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})})]},s.id)})})]})}function F0(e){const[t,n]=S.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(e).matches);return S.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const r=window.matchMedia(e),s=i=>n(i.matches);return n(r.matches),r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[e]),t}function Nb({entries:e}){const{prefersHighContrast:t}=Xr(),n=F0("(max-width: 1280px)"),[r,s]=S.useState(()=>!n),i=e[0];S.useEffect(()=>{s(!n)},[n]),S.useEffect(()=>{const d=document.getElementById("explanation-panel-content");d&&(d.scrollTop=0)},[e]);const o=d=>{switch(d){case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-amber-50 border-amber-200 text-amber-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"thinking":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},l=d=>{switch(d){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";case"thinking":return"💭";default:return"ℹ️"}},a=S.useMemo(()=>n?"fixed inset-x-4 bottom-6 z-30":"fixed right-4 top-20 z-20",[n]),c=n?"w-auto max-w-xl mx-auto":"w-96";return r?u.jsxs("div",{className:`${a} flex flex-col rounded-xl shadow-2xl ${c}`,style:{background:t?"#0f172a":"#ffffff",border:t?"1px solid rgba(148, 163, 184, 0.4)":"1px solid transparent"},children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 rounded-t-xl",style:{background:t?"linear-gradient(135deg, #312e81 0%, #1e293b 100%)":"linear-gradient(135deg, #9333ea 0%, #2563eb 100%)",borderColor:t?"rgba(148, 163, 184, 0.4)":void 0},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"💡"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"リアルタイム解説"}),u.jsx("p",{className:"text-xs text-white/80",children:"今何が起こっているか"})]})]}),u.jsx("button",{onClick:()=>s(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i&&u.jsxs("div",{className:`border-b-2 border-l-4 p-4 ${o(i.type)}`,children:[u.jsxs("div",{className:"mb-2 flex items-start gap-2",children:[u.jsx("span",{className:"text-2xl",children:i.icon||l(i.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-bold",children:i.title}),u.jsx("p",{className:"mt-1 text-xs leading-relaxed",children:i.explanation})]})]}),i.details&&i.details.length>0&&u.jsx("div",{className:"mt-3 space-y-1 border-t pt-2 opacity-80",style:{borderColor:"currentColor"},children:i.details.map((d,f)=>u.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[u.jsx("span",{className:"text-[10px]",children:"▸"}),u.jsx("span",{className:"flex-1",children:d})]},f))}),u.jsx("div",{className:"mt-2 text-right text-[10px] opacity-60",children:new Date(i.timestamp).toLocaleTimeString("ja-JP")})]}),u.jsxs("div",{id:"explanation-panel-content",className:"max-h-96 overflow-y-auto p-4",style:{scrollBehavior:"smooth"},children:[u.jsx("h4",{className:"mb-3 text-xs font-semibold text-gray-500",children:"履歴 / History"}),u.jsx("div",{className:"space-y-3",children:e.slice(1,10).map(d=>u.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:d.icon||l(d.type)}),u.jsx("span",{className:"flex-1 text-xs font-semibold text-gray-700",children:d.title}),u.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(d.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("p",{className:"text-xs text-gray-600",children:d.explanation})]},d.id))}),e.length===0&&u.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-200 p-6 text-center",children:[u.jsx("span",{className:"mb-2 block text-3xl",children:"🤖"}),u.jsxs("p",{className:"text-xs text-gray-500",children:["タスクを待機中...",u.jsx("br",{}),"Issueが追加されると自動的に処理が開始されます"]})]})]})]}):u.jsx("div",{className:a,style:{maxWidth:n?"min(92vw, 24rem)":void 0},children:u.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[u.jsx("span",{className:"text-xl",children:"💡"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"解説を表示"})]})})}function Sb(){const[e,t]=S.useState(!1),{prefersHighContrast:n}=Xr(),r=F0("(max-width: 1280px)"),s=r?"fixed bottom-6 right-4 z-20":"fixed bottom-20 left-4 z-20",i=r?"fixed bottom-6 inset-x-4 z-30":"fixed bottom-20 left-4 z-20",o=r?"w-auto max-w-md mx-auto":"w-80",l=n?{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(226, 232, 240, 0.35)"}:{background:"rgba(255, 255, 255, 1)",border:"1px solid rgba(229, 231, 235, 1)"};return e?u.jsxs("div",{className:`${i} ${o} rounded-xl shadow-2xl`,style:l,children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 rounded-t-xl",style:{background:n?"linear-gradient(135deg, #1f2937 0%, #0f172a 100%)":"linear-gradient(135deg, #a855f7 0%, #6366f1 100%)",borderColor:n?"rgba(226, 232, 240, 0.35)":void 0},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📖"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"凡例 / Legend"}),u.jsx("p",{className:"text-xs text-white/80",children:"各要素の意味"})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"rounded-lg p-1 text-white transition-colors hover:bg-white/20",children:u.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"ノードの種類"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-white shadow",children:u.jsx("span",{className:"text-xl",children:"📋"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"GitHubから読み込んだタスク"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-900 shadow",children:u.jsx("span",{className:"text-xl",children:"🤖"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行するAIエージェント"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 shadow",children:u.jsx("span",{className:"text-xl",children:"📊"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Node"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクの状態（pending, done等）"})]})]})]})]}),u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの状態"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"IDLE（待機中）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを待っている状態"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"RUNNING（実行中）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを実行中。プログレスバー表示"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-blue-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"COMPLETED（完了）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスク完了。3秒後にIDLEへ"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-red-50 p-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"ERROR（エラー）"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"実行中にエラーが発生"})]})]})]})]}),u.jsxs("section",{className:"mb-4",children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"接続線の種類"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-orange-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 animate-pulse bg-red-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Issue → Agent"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Issueが割り当てられた時にアニメーション"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-purple-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 bg-purple-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"Agent → State"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Agentが状態を更新"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-2",children:[u.jsx("div",{className:"h-0.5 w-8 border-t-2 border-dashed border-gray-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:"State Flow"}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"状態遷移の流れ（pending → done）"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h4",{className:"mb-2 text-xs font-bold text-gray-700",children:"Agentの役割"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"rounded-lg bg-red-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"🎯"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CoordinatorAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"タスクを分析・分解し、最適なAgentに割り当て"})]}),u.jsxs("div",{className:"rounded-lg bg-purple-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"💻"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"CodeGenAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"AIでコードを自動生成（Claude Sonnet 4使用）"})]}),u.jsxs("div",{className:"rounded-lg bg-blue-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"👀"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"ReviewAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"コード品質をレビューしスコアリング（100点満点）"})]}),u.jsxs("div",{className:"rounded-lg bg-green-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"📝"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"PRAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Pull Requestを自動作成（Conventional Commits準拠）"})]}),u.jsxs("div",{className:"rounded-lg bg-yellow-50 p-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"🚀"}),u.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"DeploymentAgent"})]}),u.jsx("div",{className:"text-[10px] text-gray-600",children:"Firebase/Vercel/AWSに自動デプロイ"})]})]})]})]})]}):u.jsx("div",{className:s,children:u.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 rounded-lg bg-white px-4 py-3 shadow-xl transition-all hover:shadow-2xl",children:[u.jsx("span",{className:"text-xl",children:"📖"}),u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"凡例を表示"})]})})}function bb({agentId:e,agentName:t,thinking:n,position:r,status:s}){const[i,o]=S.useState(!1),[l,a]=S.useState(""),[c,d]=S.useState("");if(S.useEffect(()=>{s==="running"&&n?(o(!0),a(n)):o(!1)},[s,n]),S.useEffect(()=>{if(!i)return;const v=setInterval(()=>{d(x=>x.length>=3?"":x+".")},500);return()=>clearInterval(v)},[i]),!i||!n)return null;const f=r.x+75,h=r.y-80,g=s==="running"?"#8B5CF6":"#10B981";return u.jsxs("div",{className:"pointer-events-none absolute z-30 transition-all duration-300",style:{left:`${f}px`,top:`${h}px`,transform:"translate(-50%, 0)"},children:[u.jsxs("div",{className:"relative rounded-2xl px-4 py-3 shadow-2xl backdrop-blur-sm",style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.95), rgba(124, 58, 237, 0.95))",animation:"bubble-float 2s ease-in-out infinite"},children:[u.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[u.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full text-xs",style:{backgroundColor:g},children:"🤖"}),u.jsx("span",{className:"text-xs font-bold text-white",children:t})]}),u.jsxs("p",{className:"text-sm font-medium text-white",children:[l,u.jsx("span",{className:"inline-block w-6 text-left",children:c})]}),u.jsx("div",{className:"absolute left-1/2 top-full h-0 w-0 -translate-x-1/2 border-8 border-transparent",style:{borderTopColor:"rgba(124, 58, 237, 0.95)"}}),u.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"8px",height:"8px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 8px)"}}),u.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 rounded-full",style:{width:"5px",height:"5px",background:"rgba(139, 92, 246, 0.95)",top:"calc(100% + 18px)"}})]}),u.jsx("style",{children:`
        @keyframes bubble-float {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-5px);
          }
        }
      `})]})}function kb({bubbles:e}){return u.jsx(u.Fragment,{children:e.map(t=>u.jsx(bb,{agentId:t.agentId,agentName:t.agentName,thinking:t.thinking,position:t.position,status:t.status},t.agentId))})}function _b({nodes:e,startTime:t}){const n=S.useMemo(()=>{const r=e.filter(b=>b.type==="agent"),s=e.filter(b=>b.type==="issue"),i=r.filter(b=>b.data.status==="running").length,o=s.length,l=s.filter(b=>{var p;return(p=b.data.state)==null?void 0:p.includes("done")}).length,a=o>0?Math.round(l/o*100):0,c=Math.floor((Date.now()-t.getTime())/1e3),d=Math.floor(c/3600),f=Math.floor(c%3600/60),h=c%60,g=`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`,v=l>0?"2m 34s":"---";return[{label:"Uptime",labelJa:"稼働時間",value:g,icon:"⏱️",color:"#3B82F6"},{label:"Active Agents",labelJa:"実行中Agent",value:i,icon:"🤖",color:"#8B5CF6",trend:i>0?"up":"stable"},{label:"Success Rate",labelJa:"成功率",value:`${a}%`,icon:"✅",color:a>=80?"#10B981":a>=50?"#F59E0B":"#EF4444",trend:a>=80?"up":a>=50?"stable":"down"},{label:"Tasks Completed",labelJa:"完了タスク",value:`${l}/${o}`,icon:"📊",color:"#6366F1"},{label:"Avg Duration",labelJa:"平均処理時間",value:v,icon:"⚡",color:"#F59E0B"}]},[e,t]);return u.jsxs("div",{className:"fixed right-4 top-4 z-20 w-80",children:[u.jsx("div",{className:"rounded-t-xl bg-gradient-to-r from-blue-600 to-purple-600 p-3 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"📊"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-white",children:"System Metrics"}),u.jsx("p",{className:"text-xs text-blue-100",children:"リアルタイムシステム状態"})]})]})}),u.jsxs("div",{className:"rounded-b-xl bg-white/95 p-4 shadow-lg backdrop-blur-sm",children:[u.jsx("div",{className:"space-y-3",children:n.map((r,s)=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-all hover:border-gray-300 hover:shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg text-xl",style:{backgroundColor:`${r.color}20`},children:r.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:r.labelJa}),u.jsx("p",{className:"text-xs font-medium text-gray-600",children:r.label})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg font-bold",style:{color:r.color},children:r.value}),r.trend&&u.jsxs("span",{className:"text-sm",children:[r.trend==="up"&&"📈",r.trend==="down"&&"📉",r.trend==="stable"&&"➡️"]})]})]},s))}),u.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 border-t border-gray-200 pt-3",children:[u.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}),u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Live Update"})]})]})]})}function Eb({edges:e,nodes:t,activeEdgeIds:n}){const[r,s]=S.useState([]),i=S.useRef();S.useEffect(()=>{if(n.length===0){s([]);return}const l=[];n.forEach(a=>{for(let c=0;c<3;c++)l.push({id:`${a}-particle-${c}`,edgeId:a,progress:c*.33,speed:.008+Math.random()*.004,color:"#8B5CF6",size:6+Math.random()*4})}),s(l)},[n]),S.useEffect(()=>{if(r.length===0)return;const l=()=>{s(a=>a.map(c=>{let d=c.progress+c.speed;return d>=1&&(d=0),{...c,progress:d}})),i.current=requestAnimationFrame(l)};return i.current=requestAnimationFrame(l),()=>{i.current&&cancelAnimationFrame(i.current)}},[r.length]);const o=r.map(l=>{const a=e.find(g=>g.id===l.edgeId);if(!a)return null;const c=t.find(g=>g.id===a.source),d=t.find(g=>g.id===a.target);if(!c||!d)return null;const f=c.position.x+(d.position.x-c.position.x)*l.progress+75,h=c.position.y+(d.position.y-c.position.y)*l.progress+50;return{id:l.id,x:f,y:h,color:l.color,size:l.size}});return u.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:o.map(l=>l?u.jsxs("div",{className:"absolute transition-transform duration-100",style:{left:`${l.x}px`,top:`${l.y}px`,width:`${l.size}px`,height:`${l.size}px`,transform:"translate(-50%, -50%)"},children:[u.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 blur-sm",style:{backgroundColor:l.color}}),u.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:l.color,boxShadow:`0 0 ${l.size*2}px ${l.color}`}})]},l.id):null)})}function jb(){const[e,t]=S.useState([]),n=(s,i=3e3)=>{t(o=>[...o,s]),setTimeout(()=>{t(o=>o.filter(l=>l!==s))},i)};return{activeEdgeIds:e,activateEdge:n,activateEdgesForNode:(s,i,o=3e3)=>{i.filter(a=>a.source===s||a.target===s).map(a=>a.id).forEach(a=>{n(a,o)})}}}function Cb({trigger:e,onComplete:t}){const[n,r]=S.useState([]),[s,i]=S.useState(!1);return S.useEffect(()=>{if(!e)return;const o=[],l=["#8B5CF6","#10B981","#F59E0B","#EF4444","#3B82F6","#EC4899"];for(let c=0;c<50;c++)o.push({id:`confetti-${c}`,x:50,y:50,rotation:Math.random()*360,color:l[Math.floor(Math.random()*l.length)],size:8+Math.random()*8,velocityX:(Math.random()-.5)*6,velocityY:-8-Math.random()*4,rotationSpeed:(Math.random()-.5)*10});r(o),i(!0);const a=setTimeout(()=>{i(!1),r([]),t&&t()},3e3);return()=>clearTimeout(a)},[e,t]),S.useEffect(()=>{if(!s)return;let o,l=Date.now();const a=()=>{const c=(Date.now()-l)/1e3;r(d=>d.map(f=>({...f,x:f.x+f.velocityX*.5,y:f.y+f.velocityY*.5+c*9.8*.3,rotation:f.rotation+f.rotationSpeed}))),o=requestAnimationFrame(a)};return o=requestAnimationFrame(a),()=>{o&&cancelAnimationFrame(o)}},[s]),s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 overflow-hidden",children:n.map(o=>u.jsx("div",{className:"absolute",style:{left:`${o.x}%`,top:`${o.y}%`,width:`${o.size}px`,height:`${o.size}px`,backgroundColor:o.color,transform:`translate(-50%, -50%) rotate(${o.rotation}deg)`,transition:"all 0.05s linear"}},o.id))}),u.jsx("div",{className:"pointer-events-none fixed inset-0 z-40 flex items-center justify-center",children:u.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-6 text-center shadow-2xl",style:{animation:"celebration-pulse 0.5s ease-out"},children:[u.jsx("div",{className:"mb-2 text-6xl",children:"🎉"}),u.jsx("h2",{className:"mb-1 text-2xl font-bold text-white",children:"タスク完了！"}),u.jsx("p",{className:"text-sm text-green-50",children:"Task Completed Successfully"})]})}),u.jsx("style",{children:`
        @keyframes celebration-pulse {
          0% {
            transform: scale(0.8);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]}):null}function Ab(){const[e,t]=S.useState(!1);return{celebrationTrigger:e,celebrate:()=>{t(!0),setTimeout(()=>{t(!1)},100)}}}function Tb({node:e,onClose:t}){const[n,r]=S.useState([]);if(S.useEffect(()=>{if(!e)return;const a=[];if(e.type==="agent"){const c=e.data;a.push({timestamp:new Date().toISOString(),type:"agent:created",message:`Agent ${c.agentId} initialized`,icon:"🔧"}),c.status==="running"&&a.push({timestamp:new Date().toISOString(),type:"agent:started",message:`Started working on Issue #${c.currentIssue}`,icon:"🚀"}),c.status==="completed"&&a.push({timestamp:new Date().toISOString(),type:"agent:completed",message:"Task completed successfully",icon:"✅"})}else if(e.type==="issue"){const c=e.data;a.push({timestamp:new Date().toISOString(),type:"issue:created",message:`Issue #${c.number} created: ${c.title}`,icon:"📝"}),c.state&&a.push({timestamp:new Date().toISOString(),type:"state:transition",message:`State changed to: ${c.state}`,icon:"🔄"})}r(a.reverse())},[e]),!e)return null;const s=e.data,i=()=>e.type==="agent"?"🤖":e.type==="issue"?"📋":e.type==="state"?"🔵":"❓",o=()=>e.type==="agent"?`${s.name||s.agentId}`:e.type==="issue"?`Issue #${s.number}`:e.type==="state"?s.name||"State Node":"Unknown Node",l=()=>{if(e.type==="agent"){const a=s.status||"idle",c={idle:"bg-gray-500",running:"bg-purple-500",completed:"bg-green-500",error:"bg-red-500"};return u.jsx("span",{className:`${c[a]} rounded-full px-3 py-1 text-xs font-bold text-white`,children:a.toUpperCase()})}return null};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-t-2xl bg-gradient-to-r from-purple-600 to-blue-600 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-4xl",children:i()}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:o()}),u.jsxs("p",{className:"text-sm text-purple-100",children:[e.type==="issue"&&s.title,e.type==="agent"&&`Specialist Agent - ${s.agentId}`]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[l(),u.jsx("button",{onClick:t,className:"rounded-full bg-white/20 p-2 text-white transition-colors hover:bg-white/30",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:[u.jsxs("div",{className:"mb-6 rounded-lg bg-gray-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"基本情報"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Node ID"}),u.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.id})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Type"}),u.jsx("p",{className:"font-mono text-sm text-gray-900",children:e.type})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Position"}),u.jsxs("p",{className:"font-mono text-sm text-gray-900",children:["(",Math.round(e.position.x),", ",Math.round(e.position.y),")"]})]})]})]}),e.type==="agent"&&u.jsxs("div",{className:"mb-6 rounded-lg bg-purple-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-purple-900",children:"Agent 詳細"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Agent ID"}),u.jsx("p",{className:"font-mono text-sm text-purple-900",children:s.agentId})]}),s.currentIssue&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Current Issue"}),u.jsxs("p",{className:"font-mono text-sm text-purple-900",children:["#",s.currentIssue]})]}),s.progress!==void 0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-purple-700",children:"Progress"}),u.jsx("div",{className:"mt-1 h-2 w-full rounded-full bg-purple-200",children:u.jsx("div",{className:"h-2 rounded-full bg-purple-600 transition-all duration-300",style:{width:`${s.progress}%`}})}),u.jsxs("p",{className:"mt-1 text-right text-xs text-purple-700",children:[s.progress,"%"]})]}),s.parameters&&Object.keys(s.parameters).length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-xs text-purple-700",children:"Parameters"}),u.jsx("pre",{className:"max-h-32 overflow-auto rounded bg-purple-900 p-2 text-xs text-purple-50",children:JSON.stringify(s.parameters,null,2)})]})]})]}),e.type==="issue"&&u.jsxs("div",{className:"mb-6 rounded-lg bg-blue-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-blue-900",children:"Issue 詳細"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Number"}),u.jsxs("p",{className:"font-mono text-sm text-blue-900",children:["#",s.number]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Title"}),u.jsx("p",{className:"text-sm text-blue-900",children:s.title})]}),s.state&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"State"}),u.jsx("p",{className:"font-mono text-sm text-blue-900",children:s.state})]}),s.priority&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-700",children:"Priority"}),u.jsx("p",{className:"font-mono text-sm text-blue-900",children:s.priority})]})]})]}),u.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[u.jsx("h3",{className:"mb-3 text-sm font-bold text-gray-700",children:"イベント履歴"}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"No events recorded yet"}):n.map((a,c)=>u.jsxs("div",{className:"flex items-start gap-3 rounded border border-gray-200 bg-white p-3",children:[u.jsx("span",{className:"text-xl",children:a.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),u.jsx("p",{className:"text-xs text-gray-500",children:new Date(a.timestamp).toLocaleString("ja-JP")})]}),u.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600",children:a.type})]},c))})]})]}),u.jsx("div",{className:"flex justify-end gap-3 rounded-b-2xl border-t border-gray-200 bg-gray-50 p-4",children:u.jsx("button",{onClick:t,className:"rounded-lg bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-300",children:"閉じる"})})]})]})}const Ht=Object.create(null);Ht.open="0";Ht.close="1";Ht.ping="2";Ht.pong="3";Ht.message="4";Ht.upgrade="5";Ht.noop="6";const to=Object.create(null);Object.keys(Ht).forEach(e=>{to[Ht[e]]=e});const du={type:"error",data:"parser error"},B0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",H0=typeof ArrayBuffer=="function",V0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,zc=({type:e,data:t},n,r)=>B0&&t instanceof Blob?n?r(t):Wf(t,r):H0&&(t instanceof ArrayBuffer||V0(t))?n?r(t):Wf(new Blob([t]),r):r(Ht[e]+(t||"")),Wf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Yf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Jl;function $b(e,t){if(B0&&e.data instanceof Blob)return e.data.arrayBuffer().then(Yf).then(t);if(H0&&(e.data instanceof ArrayBuffer||V0(e.data)))return t(Yf(e.data));zc(e,!1,n=>{Jl||(Jl=new TextEncoder),t(Jl.encode(n))})}const qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ss=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<qf.length;e++)Ss[qf.charCodeAt(e)]=e;const Pb=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=Ss[e.charCodeAt(r)],o=Ss[e.charCodeAt(r+1)],l=Ss[e.charCodeAt(r+2)],a=Ss[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|a&63;return c},Rb=typeof ArrayBuffer=="function",Lc=(e,t)=>{if(typeof e!="string")return{type:"message",data:U0(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Mb(e.substring(1),t)}:to[n]?e.length>1?{type:to[n],data:e.substring(1)}:{type:to[n]}:du},Mb=(e,t)=>{if(Rb){const n=Pb(e);return U0(n,t)}else return{base64:!0,data:e}},U0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},W0="",Ib=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{zc(i,!1,l=>{r[o]=l,++s===n&&t(r.join(W0))})})},zb=(e,t)=>{const n=e.split(W0),r=[];for(let s=0;s<n.length;s++){const i=Lc(n[s],t);if(r.push(i),i.type==="error")break}return r};function Lb(){return new TransformStream({transform(e,t){$b(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ea;function Li(e){return e.reduce((t,n)=>t+n.length,0)}function Di(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Db(e,t){ea||(ea=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Li(n)<1)break;const a=Di(n,1);i=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Li(n)<2)break;const a=Di(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(Li(n)<8)break;const a=Di(n,8),c=new DataView(a.buffer,a.byteOffset,a.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(du);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Li(n)<s)break;const a=Di(n,s);l.enqueue(Lc(i?a:ea.decode(a),t)),r=0}if(s===0||s>e){l.enqueue(du);break}}}})}const Y0=4;function je(e){if(e)return Ob(e)}function Ob(e){for(var t in je.prototype)e[t]=je.prototype[t];return e}je.prototype.on=je.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};je.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};je.prototype.off=je.prototype.removeListener=je.prototype.removeAllListeners=je.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};je.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};je.prototype.emitReserved=je.prototype.emit;je.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};je.prototype.hasListeners=function(e){return!!this.listeners(e).length};const dl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),pt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Fb="arraybuffer";function q0(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Bb=pt.setTimeout,Hb=pt.clearTimeout;function fl(e,t){t.useNativeTimers?(e.setTimeoutFn=Bb.bind(pt),e.clearTimeoutFn=Hb.bind(pt)):(e.setTimeoutFn=pt.setTimeout.bind(pt),e.clearTimeoutFn=pt.clearTimeout.bind(pt))}const Vb=1.33;function Ub(e){return typeof e=="string"?Wb(e):Math.ceil((e.byteLength||e.size)*Vb)}function Wb(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function K0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Yb(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function qb(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Kb extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Dc extends je{constructor(t){super(),this.writable=!1,fl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Kb(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Lc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Yb(t);return n.length?"?"+n:""}}class Xb extends Dc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};zb(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ib(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=K0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let X0=!1;try{X0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Gb=X0;function Qb(){}class Zb extends Xb{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Bt extends je{constructor(t,n,r){super(),this.createRequest=t,fl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=q0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Bt.requestsCount++,Bt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Qb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Bt.requestsCount=0;Bt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Kf);else if(typeof addEventListener=="function"){const e="onpagehide"in pt?"pagehide":"unload";addEventListener(e,Kf,!1)}}function Kf(){for(let e in Bt.requests)Bt.requests.hasOwnProperty(e)&&Bt.requests[e].abort()}const Jb=function(){const e=G0({xdomain:!1});return e&&e.responseType!==null}();class ek extends Zb{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Jb&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Bt(G0,this.uri(),t)}}function G0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Gb))return new XMLHttpRequest}catch{}if(!t)try{return new pt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Q0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class tk extends Dc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Q0?{}:q0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;zc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&dl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=K0()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ta=pt.WebSocket||pt.MozWebSocket;class nk extends tk{createSocket(t,n,r){return Q0?new ta(t,n,r):n?new ta(t,n):new ta(t)}doWrite(t,n){this.ws.send(n)}}class rk extends Dc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Db(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Lb();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&dl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const sk={websocket:nk,webtransport:rk,polling:ek},ik=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ok=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=ik.exec(e||""),i={},o=14;for(;o--;)i[ok[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=lk(i,i.path),i.queryKey=ak(i,i.query),i}function lk(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ak(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const hu=typeof addEventListener=="function"&&typeof removeEventListener=="function",no=[];hu&&addEventListener("offline",()=>{no.forEach(e=>e())},!1);class An extends je{constructor(t,n){if(super(),this.binaryType=Fb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=fu(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=fu(n.host).host);fl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=qb(this.opts.query)),hu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},no.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Y0,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&An.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",An.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Ub(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,dl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(An.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=no.indexOf(this._offlineEventListener);r!==-1&&no.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}An.protocol=Y0;class uk extends An{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;An.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;An.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function a(){o("socket closed")}function c(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",c)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let ck=class extends uk{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>sk[s]).filter(s=>!!s)),super(t,r)}};function dk(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=fu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const fk=typeof ArrayBuffer=="function",hk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Z0=Object.prototype.toString,pk=typeof Blob=="function"||typeof Blob<"u"&&Z0.call(Blob)==="[object BlobConstructor]",mk=typeof File=="function"||typeof File<"u"&&Z0.call(File)==="[object FileConstructor]";function Oc(e){return fk&&(e instanceof ArrayBuffer||hk(e))||pk&&e instanceof Blob||mk&&e instanceof File}function ro(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ro(e[n]))return!0;return!1}if(Oc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ro(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ro(e[n]))return!0;return!1}function gk(e){const t=[],n=e.data,r=e;return r.data=pu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function pu(e,t){if(!e)return e;if(Oc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=pu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=pu(e[r],t));return n}return e}function yk(e,t){return e.data=mu(e.data,t),delete e.attachments,e}function mu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=mu(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=mu(e[n],t));return e}const xk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vk=5;var re;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(re||(re={}));class wk{constructor(t){this.replacer=t}encode(t){return(t.type===re.EVENT||t.type===re.ACK)&&ro(t)?this.encodeAsBinary({type:t.type===re.EVENT?re.BINARY_EVENT:re.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===re.BINARY_EVENT||t.type===re.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=gk(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Xf(e){return Object.prototype.toString.call(e)==="[object Object]"}class Fc extends je{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===re.BINARY_EVENT;r||n.type===re.BINARY_ACK?(n.type=r?re.EVENT:re.ACK,this.reconstructor=new Nk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Oc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(re[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===re.BINARY_EVENT||r.type===re.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Fc.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case re.CONNECT:return Xf(n);case re.DISCONNECT:return n===void 0;case re.CONNECT_ERROR:return typeof n=="string"||Xf(n);case re.EVENT:case re.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&xk.indexOf(n[0])===-1);case re.ACK:case re.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Nk{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=yk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Sk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Fc,Encoder:wk,get PacketType(){return re},protocol:vk},Symbol.toStringTag,{value:"Module"}));function jt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const bk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class J0 extends je{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[jt(t,"open",this.onopen.bind(this)),jt(t,"packet",this.onpacket.bind(this)),jt(t,"error",this.onerror.bind(this)),jt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(bk.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:re.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case re.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case re.EVENT:case re.BINARY_EVENT:this.onevent(t);break;case re.ACK:case re.BINARY_ACK:this.onack(t);break;case re.DISCONNECT:this.ondisconnect();break;case re.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:re.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Gr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Gr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Gr.prototype.reset=function(){this.attempts=0};Gr.prototype.setMin=function(e){this.ms=e};Gr.prototype.setMax=function(e){this.max=e};Gr.prototype.setJitter=function(e){this.jitter=e};class gu extends je{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,fl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Gr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Sk;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ck(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=jt(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=jt(n,"error",i);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(jt(t,"ping",this.onping.bind(this)),jt(t,"data",this.ondata.bind(this)),jt(t,"error",this.onerror.bind(this)),jt(t,"close",this.onclose.bind(this)),jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){dl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new J0(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ps={};function so(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=dk(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=ps[s]&&i in ps[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new gu(r,t):(ps[s]||(ps[s]=new gu(r,t)),a=ps[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(so,{Manager:gu,Socket:J0,io:so,connect:so});const kk="http://localhost:3001";function _k(e,t,n,r,s,i,o,l,a,c){const d=S.useRef(null),[f,h]=S.useState(!1),g=S.useRef({onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:s,onStateTransition:i,onTaskDiscovered:o,onCoordinatorAnalyzing:l,onCoordinatorDecomposing:a,onCoordinatorAssigning:c});S.useEffect(()=>{g.current={onGraphUpdate:e,onAgentStarted:t,onAgentProgress:n,onAgentCompleted:r,onAgentError:s,onStateTransition:i,onTaskDiscovered:o,onCoordinatorAnalyzing:l,onCoordinatorDecomposing:a,onCoordinatorAssigning:c}},[e,t,n,r,s,i,o,l,a,c]),S.useEffect(()=>{const b=so(kk,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return d.current=b,b.on("connect",()=>{console.log("✅ WebSocket connected"),h(!0)}),b.on("disconnect",()=>{console.log("❌ WebSocket disconnected"),h(!1)}),b.on("connect_error",p=>{console.error("🔴 WebSocket connection error:",p),h(!1)}),b.on("graph:update",p=>{var m,y;(y=(m=g.current).onGraphUpdate)==null||y.call(m,p)}),b.on("agent:started",p=>{var m,y;(y=(m=g.current).onAgentStarted)==null||y.call(m,p)}),b.on("agent:progress",p=>{var m,y;(y=(m=g.current).onAgentProgress)==null||y.call(m,p)}),b.on("agent:completed",p=>{var m,y;(y=(m=g.current).onAgentCompleted)==null||y.call(m,p)}),b.on("agent:error",p=>{var m,y;(y=(m=g.current).onAgentError)==null||y.call(m,p)}),b.on("state:transition",p=>{var m,y;(y=(m=g.current).onStateTransition)==null||y.call(m,p)}),b.on("task:discovered",p=>{var m,y;(y=(m=g.current).onTaskDiscovered)==null||y.call(m,p)}),b.on("coordinator:analyzing",p=>{var m,y;(y=(m=g.current).onCoordinatorAnalyzing)==null||y.call(m,p)}),b.on("coordinator:decomposing",p=>{var m,y;(y=(m=g.current).onCoordinatorDecomposing)==null||y.call(m,p)}),b.on("coordinator:assigning",p=>{var m,y;(y=(m=g.current).onCoordinatorAssigning)==null||y.call(m,p)}),()=>{b.close()}},[]);const v=b=>{d.current&&d.current.emit("subscribe",{issueNumber:b})},x=b=>{d.current&&d.current.emit("unsubscribe",{issueNumber:b})};return{socket:d.current,connected:f,subscribe:v,unsubscribe:x}}function Ek({isVisible:e,nodeCount:t,edgeCount:n,visualMode:r}){const[s,i]=S.useState(0),o=S.useRef(),l=S.useRef(performance.now()),a=S.useRef(0);return S.useEffect(()=>{if(!e){i(0),o.current&&cancelAnimationFrame(o.current);return}const c=d=>{a.current+=1;const f=d-l.current;if(f>=500){const h=Math.round(a.current*1e3/f);i(h),a.current=0,l.current=d}o.current=requestAnimationFrame(c)};return o.current=requestAnimationFrame(c),()=>{o.current&&cancelAnimationFrame(o.current)}},[e]),e?u.jsxs("div",{className:"fixed bottom-6 right-6 z-40 rounded-lg border border-white/10 bg-gray-900/85 px-4 py-3 text-xs text-white shadow-lg backdrop-blur",children:[u.jsxs("div",{className:"flex items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"FPS"}),u.jsx("p",{className:"text-lg font-bold",children:s})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"Nodes"}),u.jsx("p",{className:"text-lg font-bold",children:t})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-300",children:"Edges"}),u.jsx("p",{className:"text-lg font-bold",children:n})]})]}),u.jsxs("div",{className:"mt-3 flex items-center justify-between gap-4 text-[11px] text-gray-300",children:[u.jsxs("span",{children:["Mode: ",r==="rich"?"Rich Effects":"Light Effects"]}),u.jsx("span",{className:"text-gray-400",children:"Press Shift+P to toggle"})]})]}):null}const jk={issue:Rc,agent:Mc,state:Ic};function Ck(){const[e,t,n]=Cc([]),[r,s,i]=Ac([]),[o,l]=S.useState(!0),[a,c]=S.useState(null),[d,f]=S.useState([]),[h,g]=S.useState(!1),[v,x]=S.useState({states:[],agents:[],priorities:[],showOnlyActive:!1}),b=S.useRef(null),{prefersReducedMotion:p,prefersHighContrast:m}=Xr(),[y,w]=S.useState(p?"light":"rich"),[_,A]=S.useState(!1),[$,R]=S.useState(!1),[M,z]=S.useState(!1),[F,U]=S.useState(!1),[B,N]=S.useState(!1),[P,j]=S.useState(!1),[D,E]=S.useState(null),[k,T]=S.useState([]),[L,O]=S.useState([]),[q]=S.useState(new Date),[W,Q]=S.useState({}),[J,ee]=S.useState(null),{celebrationTrigger:ae,celebrate:oe}=Ab(),{activeEdgeIds:se,activateEdgesForNode:Ce}=jb();S.useEffect(()=>{p&&w("light")},[p]),S.useEffect(()=>{if(typeof window>"u")return;const C=V=>{V.key.toLowerCase()==="p"&&V.shiftKey&&A(Y=>!Y),V.key.toLowerCase()==="l"&&V.shiftKey&&w(Y=>Y==="rich"?"light":"rich")};return window.addEventListener("keydown",C),()=>{window.removeEventListener("keydown",C)}},[]);const ie=S.useCallback(C=>{f(V=>[{...C,id:`${Date.now()}-${Math.random()}`},...V])},[]),Ne=S.useCallback(C=>{O(V=>[{...C,id:`${Date.now()}-${Math.random()}`},...V])},[]),_e=S.useCallback(C=>{if(!b.current)return;const V=e.find(Y=>Y.id===C);V&&b.current.setCenter(V.position.x+150,V.position.y+100,{zoom:1.2,duration:800})},[e]),{connected:ge}=_k(C=>{console.log("📊 Graph updated:",C),t(C.nodes),s(C.edges),l(!1),ie({type:"graph:update",message:"Graph data refreshed",timestamp:C.timestamp||new Date().toISOString(),icon:"🔄",color:"#3B82F6"})},C=>{var X;console.log("🤖 Agent started:",C),E("execution"),T(["discovery","analysis","decomposition","assignment"]);let V=`${C.agentId} started working on Issue #${C.issueNumber}`;(X=C.parameters)!=null&&X.taskTitle&&(V+=` - ${C.parameters.taskTitle}`),ie({type:"agent:started",message:V,timestamp:C.timestamp||new Date().toISOString(),icon:"🤖",color:"#10B981"});const Y=C.agentId==="codegen"?"CodeGenAgent":C.agentId==="review"?"ReviewAgent":C.agentId==="pr"?"PRAgent":C.agentId==="deployment"?"DeploymentAgent":C.agentId;Ne({timestamp:C.timestamp||new Date().toISOString(),title:`💻 ${Y}が実行開始`,explanation:`${Y}がIssue #${C.issueNumber}の処理を開始しました。進捗状況はプログレスバーで確認できます。`,details:C.parameters?[`タスク: ${C.parameters.taskTitle||"未設定"}`,`優先度: ${C.parameters.priority||"通常"}`,`コンテキスト: ${C.parameters.context||"自動判定"}`]:[],type:"success",icon:"💻"}),t(de=>de.map(Ye=>{if(Ye.type==="agent"&&Ye.data.agentId===C.agentId){setTimeout(()=>_e(Ye.id),100);const Ut={codegen:"コード構造を分析中...",review:"コード品質をレビュー中...",pr:"Pull Requestを作成中...",deployment:"デプロイ準備中..."};return Q(Wt=>({...Wt,[C.agentId]:{thinking:Ut[C.agentId]||"タスクを実行中...",position:Ye.position,status:"running"}})),setTimeout(()=>{Ce(Ye.id,r,5e3)},100),{...Ye,data:{...Ye.data,status:"running",currentIssue:C.issueNumber,progress:0,parameters:C.parameters||{}}}}return Ye}))},C=>{console.log("📈 Agent progress:",C);const V=(Y,X)=>Y==="codegen"?X<30?"コードベースを分析中...":X<60?"コードを生成中...":"テストを実行中...":Y==="review"?X<40?"コード品質を分析中...":X<70?"セキュリティスキャン実行中...":"レビューコメント作成中...":Y==="pr"?X<50?"コミットメッセージ作成中...":"Pull Request作成中...":Y==="deployment"?X<30?"ビルドを実行中...":X<70?"テストを実行中...":"デプロイ中...":`処理中... ${X}%`;Q(Y=>Y[C.agentId]?{...Y,[C.agentId]:{...Y[C.agentId],thinking:V(C.agentId,C.progress)}}:Y),t(Y=>Y.map(X=>X.type==="agent"&&X.data.agentId===C.agentId?{...X,data:{...X.data,progress:C.progress}}:X))},C=>{console.log("✅ Agent completed:",C),T(["discovery","analysis","decomposition","assignment","execution"]),E(null),oe(),setTimeout(()=>{Q(Y=>{const X={...Y};return delete X[C.agentId],X})},2e3),ie({type:"agent:completed",message:`${C.agentId} completed Issue #${C.issueNumber}`,timestamp:C.timestamp||new Date().toISOString(),icon:"✅",color:"#22C55E"});const V=C.agentId==="codegen"?"CodeGenAgent":C.agentId==="review"?"ReviewAgent":C.agentId==="pr"?"PRAgent":C.agentId==="deployment"?"DeploymentAgent":C.agentId;Ne({timestamp:C.timestamp||new Date().toISOString(),title:"✅ タスク完了！",explanation:`${V}がIssue #${C.issueNumber}の処理を完了しました。結果はGitHubで確認できます。`,details:["結果: 正常終了","","次のタスクがあれば、同様のプロセスで自動処理を開始します。"],type:"success",icon:"✅"}),t(Y=>Y.map(X=>X.type==="agent"&&X.data.agentId===C.agentId?{...X,data:{...X.data,status:"completed",progress:100,currentIssue:void 0}}:X)),setTimeout(()=>{t(Y=>Y.map(X=>X.type==="agent"&&X.data.agentId===C.agentId?{...X,data:{...X.data,status:"idle",progress:0}}:X))},3e3)},C=>{console.error("❌ Agent error:",C),ie({type:"agent:error",message:`${C.agentId} failed on Issue #${C.issueNumber}: ${C.error}`,timestamp:C.timestamp||new Date().toISOString(),icon:"❌",color:"#EF4444"}),t(V=>V.map(Y=>Y.type==="agent"&&Y.data.agentId===C.agentId?{...Y,data:{...Y.data,status:"error",currentIssue:void 0}}:Y))},C=>{console.log("🔄 State transition:",C),ie({type:"state:transition",message:`Issue #${C.issueNumber}: ${C.from} → ${C.to}`,timestamp:C.timestamp||new Date().toISOString(),icon:"🔄",color:"#8B5CF6"}),s(V=>V.map(Y=>Y.source.includes(`issue-${C.issueNumber}`)?{...Y,animated:!0}:Y)),setTimeout(()=>{s(V=>V.map(Y=>({...Y,animated:!1})))},2e3)},C=>{console.log("📥 Tasks discovered:",C),E("discovery"),T([]),ie({type:"task:discovered",message:`${C.tasks.length} tasks discovered and queued for processing`,timestamp:C.timestamp,icon:"📥",color:"#6366F1"}),Ne({timestamp:C.timestamp,title:"📥 タスク発見フェーズ",explanation:`GitHubから${C.tasks.length}個のIssueを読み込みました。これらのタスクを順番に分析していきます。`,details:C.tasks.map((V,Y)=>`${Y+1}. Issue #${V.issueNumber}: ${V.title} (${V.priority})`),type:"info",icon:"📥"}),C.tasks.forEach((V,Y)=>{setTimeout(()=>{ie({type:"task:discovered",message:`Task ${Y+1}: Issue #${V.issueNumber} - ${V.title} [${V.priority}]`,timestamp:C.timestamp,icon:"📋",color:"#8B5CF6"})},Y*200)})},C=>{console.log("🔍 Coordinator analyzing:",C),E("analysis"),T(["discovery"]),ie({type:"coordinator:analyzing",message:`CoordinatorAgent analyzing Issue #${C.issueNumber}: ${C.analysis.type} | ${C.analysis.priority} | ${C.analysis.complexity}`,timestamp:C.timestamp,icon:"🔍",color:"#10B981"}),Ne({timestamp:C.timestamp,title:"🔍 Issue分析中",explanation:`CoordinatorAgentがIssue #${C.issueNumber}の内容を詳しく分析しています。`,details:[`タイプ: ${C.analysis.type} - このタスクの種類を判定`,`優先度: ${C.analysis.priority} - 緊急度を評価`,`複雑度: ${C.analysis.complexity} - 難易度を算出`,"","次のステップ：この分析結果に基づいて、タスクをサブタスクに分解します。"],type:"thinking",icon:"🔍"});const V=e.find(Y=>Y.type==="agent"&&Y.data.agentId==="coordinator");V&&setTimeout(()=>_e(V.id),100),t(Y=>Y.map(X=>X.type==="issue"&&X.data.number===C.issueNumber?{...X,style:{...X.style,border:"3px solid #10B981",boxShadow:"0 0 20px rgba(16, 185, 129, 0.5)"}}:X)),setTimeout(()=>{t(Y=>Y.map(X=>X.type==="issue"&&X.data.number===C.issueNumber?{...X,style:{...X.style,border:void 0,boxShadow:void 0}}:X))},2e3)},C=>{console.log("🧩 Coordinator decomposing:",C),E("decomposition"),T(["discovery","analysis"]),ie({type:"coordinator:decomposing",message:`CoordinatorAgent decomposed Issue #${C.issueNumber} into ${C.subtasks.length} subtasks`,timestamp:C.timestamp,icon:"🧩",color:"#F59E0B"}),Ne({timestamp:C.timestamp,title:"🧩 タスク分解中",explanation:`CoordinatorAgentがIssue #${C.issueNumber}を${C.subtasks.length}個のサブタスクに分解しました。大きなタスクを小さく分けることで、各Specialist Agentが効率的に処理できます。`,details:C.subtasks.map((V,Y)=>`サブタスク${Y+1}: ${V.title} [${V.type}]`),type:"info",icon:"🧩"}),C.subtasks.forEach((V,Y)=>{setTimeout(()=>{ie({type:"coordinator:decomposing",message:`  Subtask ${Y+1}: ${V.title} [${V.type}]`,timestamp:C.timestamp,icon:"  ├─",color:"#FBBF24"})},Y*150)})},C=>{console.log("🎯 Coordinator assigning:",C),E("assignment"),T(["discovery","analysis","decomposition"]),ie({type:"coordinator:assigning",message:`CoordinatorAgent assigning tasks for Issue #${C.issueNumber}`,timestamp:C.timestamp,icon:"🎯",color:"#8B5CF6"}),Ne({timestamp:C.timestamp,title:"🎯 Agent割り当て中",explanation:"CoordinatorAgentが各サブタスクに最適なSpecialist Agentを選択しています。各Agentの専門性を考慮して、最も効率的な組み合わせを決定します。",details:C.assignments.map(V=>`${V.agentId} ← 理由: ${V.reason}`),type:"info",icon:"🎯"}),C.assignments.forEach((V,Y)=>{setTimeout(()=>{ie({type:"coordinator:assigning",message:`  → ${V.agentId}: ${V.reason}`,timestamp:C.timestamp,icon:"  🤖",color:"#A78BFA"});const X=e.find(de=>de.type==="agent"&&de.data.agentId===V.agentId);X&&_e(X.id)},Y*500)})}),We=S.useMemo(()=>{let C=e;return v.states.length>0&&(C=C.filter(V=>{if(V.type==="issue"){const Y=V.data;return v.states.some(X=>{var de;return(de=Y.state)==null?void 0:de.includes(X)})}return!0})),v.agents.length>0&&(C=C.filter(V=>{var Y;if(V.type==="agent"){const X=V.data;return v.agents.includes(X.agentId)}return V.type==="issue"?(Y=V.data.assignedAgents)==null?void 0:Y.some(de=>v.agents.includes(de)):!0})),v.priorities.length>0&&(C=C.filter(V=>{if(V.type==="issue"){const Y=V.data;return v.priorities.some(X=>{var de;return(de=Y.priority)==null?void 0:de.includes(X)})}return!0})),v.showOnlyActive&&(C=C.filter(V=>{var Y,X;if(V.type==="agent"){const de=V.data;return de.status==="running"||de.status==="completed"}if(V.type==="issue"){const de=V.data;return!((Y=de.state)!=null&&Y.includes("done"))&&!((X=de.state)!=null&&X.includes("failed"))}return!0})),C},[e,v]),ue=S.useCallback(C=>s(V=>al(C,V)),[s]),Z=S.useCallback((C,V)=>{ee(V),c(V)},[]),Ie=S.useCallback(()=>{l(!0),fetch("http://localhost:3001/api/refresh",{method:"POST"}).then(C=>C.json()).then(()=>{console.log("✅ Graph refresh triggered"),ie({type:"graph:update",message:"Manual refresh triggered",timestamp:new Date().toISOString(),icon:"🔄",color:"#3B82F6"})}).catch(C=>{console.error("❌ Failed to refresh graph:",C)}).finally(()=>{setTimeout(()=>l(!1),500)})},[ie]);return S.useEffect(()=>{fetch("http://localhost:3001/api/graph").then(C=>C.json()).then(C=>{t(C.nodes),s(C.edges),l(!1)}).catch(C=>{console.error("Failed to fetch initial graph:",C),l(!1)})},[t,s]),o?u.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),u.jsx("p",{className:"text-gray-600",children:"Loading Agent Flow..."})]})}):u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[$&&u.jsx(D0,{nodes:e}),M&&u.jsx(_b,{nodes:e,startTime:q}),F&&u.jsx(wb,{currentStage:D,completedStages:k}),y==="rich"&&!p&&u.jsx(Cb,{trigger:ae}),u.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[u.jsxs("div",{className:"absolute left-4 top-4 z-10 flex gap-2",children:[u.jsx("div",{className:"rounded-lg bg-white p-2 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${ge?"animate-pulse bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:ge?"Connected":"Disconnected"})]})}),u.jsx("button",{onClick:Ie,disabled:o,className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50 disabled:opacity-50",title:"Refresh graph manually",children:u.jsx("svg",{className:`h-5 w-5 text-gray-700 ${o?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),u.jsx("button",{onClick:()=>g(!h),className:"rounded-lg bg-white p-2 shadow-lg transition-colors hover:bg-gray-50",title:"Filter nodes",children:u.jsx("svg",{className:"h-5 w-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),u.jsxs("div",{className:"flex gap-1 rounded-lg bg-white p-1 shadow-lg",children:[u.jsx("button",{onClick:()=>R(!$),className:`rounded px-2 py-1.5 text-xs font-medium transition ${$?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Stats Panel",children:"📊"}),u.jsx("button",{onClick:()=>z(!M),className:`rounded px-2 py-1.5 text-xs font-medium transition ${M?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle System Metrics",children:"📈"}),u.jsx("button",{onClick:()=>U(!F),className:`rounded px-2 py-1.5 text-xs font-medium transition ${F?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Workflow Stages",children:"🚀"}),u.jsx("button",{onClick:()=>N(!B),className:`rounded px-2 py-1.5 text-xs font-medium transition ${B?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Activity Log",children:"📝"}),u.jsx("button",{onClick:()=>j(!P),className:`rounded px-2 py-1.5 text-xs font-medium transition ${P?"bg-blue-600 text-white":"bg-transparent text-gray-700 hover:bg-gray-100"}`,title:"Toggle Legend",children:"ℹ️"})]})]}),u.jsxs("div",{className:"absolute right-4 top-4 z-10 flex flex-col items-end gap-2",children:[u.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-3 py-2 shadow-lg border ${m?"bg-slate-900/90 border-white/20 text-slate-100":"bg-white/90 border-gray-200 text-gray-700"}`,children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest",children:"Effects"}),u.jsx("button",{onClick:()=>w("rich"),disabled:p,className:`rounded px-2 py-1 text-xs font-semibold transition ${y==="rich"&&!p?"bg-purple-600 text-white shadow":"bg-transparent hover:bg-black/10"} ${p?"opacity-40 cursor-not-allowed":""}`,children:"Rich"}),u.jsx("button",{onClick:()=>w("light"),className:`rounded px-2 py-1 text-xs font-semibold transition ${y==="light"?"bg-blue-600 text-white shadow":"bg-transparent hover:bg-black/10"}`,children:"Light"})]}),u.jsx("button",{onClick:()=>A(C=>!C),className:`rounded-lg px-3 py-2 text-xs font-semibold shadow-lg transition ${m?"bg-slate-900/90 border border-white/20 text-slate-100 hover:bg-slate-800/90":"bg-white/90 border border-gray-200 text-gray-700 hover:bg-gray-100"}`,title:"Shift+Pで切り替え",children:_?"Hide Performance":"Show Performance"})]}),h&&u.jsx(vb,{filters:v,onFilterChange:x,onClose:()=>g(!1)}),u.jsxs("div",{className:`flex-1 ${a?"lg:pr-80":""}`,children:[u.jsxs(cl,{nodes:We,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:ue,onNodeClick:Z,onInit:C=>{b.current=C},nodeTypes:jk,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx(Pc,{variant:vt.Dots,gap:20,size:2,color:"#4F46E5"}),u.jsx($c,{className:"!bg-white/90 !backdrop-blur !border !border-gray-200 !shadow-xl"}),u.jsx(Tc,{className:"!bg-gray-900/90 !border !border-gray-700",nodeColor:C=>{if(C.type==="agent"){const V=C.data;if(V.status==="running")return"#8B5CF6";if(V.status==="completed")return"#10B981";if(V.status==="error")return"#EF4444"}return"#6B7280"}})]}),y==="rich"&&!p&&u.jsx(Eb,{edges:r,nodes:e,activeEdgeIds:se}),y!=="light"&&!p&&u.jsx(kb,{bubbles:Object.entries(W).map(([C,V])=>({agentId:C,agentName:{codegen:"CodeGen",review:"Review",pr:"PR",deployment:"Deploy",coordinator:"Coordinator"}[C]||C,thinking:V.thinking,position:V.position,status:V.status}))})]}),a&&u.jsx(yb,{selectedNode:a,onClose:()=>c(null)}),u.jsx(Nb,{entries:L}),P&&u.jsx(Sb,{})]}),B&&u.jsx(O0,{activities:d}),u.jsx(Tb,{node:J,onClose:()=>{ee(null),c(null)}}),u.jsx(Ek,{isVisible:_,nodeCount:e.length,edgeCount:r.length,visualMode:y})]})}const Ak={issue:Rc,agent:Mc,state:Ic},Tk=[{id:"agent-coordinator",type:"agent",position:{x:100,y:100},data:{name:"CoordinatorAgent",agentId:"coordinator",status:"running",currentIssue:47,progress:65,parameters:{taskId:"TASK-001",taskTitle:"Implement authentication system",priority:"P0-Critical",estimatedDuration:"4 hours",environment:"production",dependencies:["TASK-002","TASK-003"]}}},{id:"agent-codegen",type:"agent",position:{x:400,y:100},data:{name:"CodeGenAgent",agentId:"codegen",status:"running",currentIssue:58,progress:40,parameters:{taskId:"TASK-002",taskTitle:"Generate user registration component",priority:"P1-High",framework:"React",typescript:!0,testCoverage:"80%"}}},{id:"agent-review",type:"agent",position:{x:700,y:100},data:{name:"ReviewAgent",agentId:"review",status:"idle",progress:0,parameters:{qualityThreshold:85,checks:["security","performance","style"],autoFix:!0}}},{id:"issue-47",type:"issue",position:{x:100,y:300},data:{number:47,title:"Implement authentication system",state:"state:implementing",labels:["type:feature","priority:P0-Critical"],priority:"priority:P0-Critical",assignedAgents:["coordinator"],url:"https://github.com/example/repo/issues/47"}},{id:"issue-58",type:"issue",position:{x:400,y:300},data:{number:58,title:"User registration component",state:"state:implementing",labels:["type:feature","priority:P1-High"],priority:"priority:P1-High",assignedAgents:["codegen"],url:"https://github.com/example/repo/issues/58"}}],$k=[{id:"e-agent-coordinator-issue-47",source:"agent-coordinator",target:"issue-47",type:"smoothstep",animated:!0,style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Qe.ArrowClosed,color:"#8B5CF6"}},{id:"e-agent-codegen-issue-58",source:"agent-codegen",target:"issue-58",type:"smoothstep",animated:!0,style:{stroke:"#00D9FF",strokeWidth:2},markerEnd:{type:Qe.ArrowClosed,color:"#00D9FF"}}];function Pk(){const[e,,t]=Cc(Tk),[n,r,s]=Ac($k),[i]=S.useState([{id:"1",type:"agent:started",message:"CoordinatorAgent started working on Issue #47 - Implement authentication system",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"},{id:"2",type:"agent:started",message:"CodeGenAgent started working on Issue #58 - User registration component",timestamp:new Date().toISOString(),icon:"🤖",color:"#10B981"}]),o=S.useCallback(a=>r(c=>al(a,c)),[r]),l=S.useCallback((a,c)=>{console.log("Node clicked:",c)},[]);return u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[u.jsx(D0,{nodes:e}),u.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[u.jsxs("div",{className:"absolute left-4 top-4 z-10 rounded-lg bg-blue-500 p-3 text-white shadow-lg",children:[u.jsx("p",{className:"text-sm font-semibold",children:"📊 Mock Data Mode"}),u.jsx("p",{className:"text-xs",children:"Click on agents to see parameters"})]}),u.jsx("div",{className:"flex-1",children:u.jsxs(cl,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:s,onConnect:o,onNodeClick:l,nodeTypes:Ak,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx(Pc,{}),u.jsx($c,{}),u.jsx(Tc,{})]})})]}),u.jsx(O0,{activities:i})]})}const eg=S.memo(({data:e})=>u.jsxs("div",{className:"min-w-[240px] rounded-lg border-2 border-indigo-600 bg-white shadow-lg overflow-hidden",children:[u.jsx(st,{type:"target",position:G.Left,className:"!bg-indigo-600"}),u.jsxs("div",{className:"bg-indigo-600 px-4 py-2 text-white",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:e.icon}),u.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide",children:e.name})]}),e.description&&u.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:e.description})]}),u.jsxs("div",{className:"bg-white",children:[e.primaryKey&&u.jsx("div",{className:"border-b border-gray-200 px-4 py-2 bg-yellow-50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-mono text-yellow-700",children:"🔑"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:e.primaryKey.name}),u.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:e.primaryKey.type})]})}),e.attributes&&e.attributes.length>0&&u.jsx("div",{className:"divide-y divide-gray-100",children:e.attributes.map((t,n)=>u.jsx("div",{className:"px-4 py-2 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[t.required&&u.jsx("span",{className:"text-xs text-red-500",children:"*"}),u.jsx("span",{className:"text-sm text-gray-700",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:t.type}),t.unique&&u.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:"unique"})]})]})},n))}),e.count!==void 0&&u.jsx("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[u.jsx("span",{children:"Records"}),u.jsx("span",{className:"font-semibold text-indigo-600",children:e.count.toLocaleString()})]})})]}),u.jsx(st,{type:"source",position:G.Right,className:"!bg-indigo-600"})]}));eg.displayName="EntityNode";const tg=S.memo(({data:e})=>{const t=n=>{switch(n){case"1:1":return"text-green-600";case"1:N":return"text-blue-600";case"N:M":return"text-purple-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"relative",style:{width:"180px",height:"100px"},children:[u.jsx(st,{type:"target",position:G.Left,className:"!bg-pink-500 z-10"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"rotate(45deg)",transformOrigin:"center"},children:u.jsx("div",{className:"bg-pink-500 shadow-lg",style:{width:"120px",height:"120px",border:"3px solid #EC4899"}})}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[u.jsx("span",{className:"text-2xl mb-1",children:e.icon||"🔗"}),u.jsxs("div",{className:"text-center px-4",children:[u.jsx("p",{className:"text-sm font-bold text-white drop-shadow-md",children:e.name}),e.cardinality&&u.jsx("p",{className:`text-xs font-semibold mt-1 drop-shadow ${t(e.cardinality)}`,children:e.cardinality})]}),e.description&&u.jsx("p",{className:"text-xs text-white/90 drop-shadow text-center mt-1 px-2",children:e.description})]}),u.jsx(st,{type:"source",position:G.Right,className:"!bg-pink-500 z-10"})]})});tg.displayName="RelationNode";const Rk={entity:eg,relation:tg},Mk=[{id:"entity-issue",type:"entity",position:{x:100,y:100},data:{name:"Issue",icon:"📋",description:"GitHub Issues managed by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"string",required:!0},{name:"body",type:"text"},{name:"created_at",type:"timestamp",required:!0},{name:"updated_at",type:"timestamp"}],count:142}},{id:"entity-agent",type:"entity",position:{x:600,y:100},data:{name:"Agent",icon:"🤖",description:"Autonomous agents in the system",primaryKey:{name:"id",type:"string"},attributes:[{name:"name",type:"string",required:!0},{name:"type",type:"enum",required:!0},{name:"status",type:"enum",required:!0},{name:"progress",type:"integer"},{name:"last_activity",type:"timestamp"}],count:7}},{id:"entity-label",type:"entity",position:{x:100,y:400},data:{name:"Label",icon:"🏷️",description:"53-label system for state management",primaryKey:{name:"name",type:"string"},attributes:[{name:"category",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"description",type:"text"},{name:"emoji",type:"string"}],count:53}},{id:"entity-pr",type:"entity",position:{x:350,y:700},data:{name:"Pull Request",icon:"🔀",description:"Code changes created by agents",primaryKey:{name:"number",type:"integer"},attributes:[{name:"title",type:"string",required:!0},{name:"state",type:"enum",required:!0},{name:"base",type:"string",required:!0},{name:"head",type:"string",required:!0},{name:"merged",type:"boolean"}],count:89}},{id:"entity-state",type:"entity",position:{x:900,y:400},data:{name:"State",icon:"🔄",description:"Workflow states in the system",primaryKey:{name:"name",type:"string"},attributes:[{name:"emoji",type:"string",required:!0},{name:"color",type:"string",required:!0},{name:"order",type:"integer",required:!0}],count:8}},{id:"rel-issue-agent",type:"relation",position:{x:370,y:100},data:{name:"assigned_to",icon:"👤",cardinality:"1:N",description:"Agent assignment"}},{id:"rel-issue-label",type:"relation",position:{x:100,y:280},data:{name:"has_label",icon:"🔖",cardinality:"N:M"}},{id:"rel-issue-pr",type:"relation",position:{x:250,y:500},data:{name:"resolves",icon:"✅",cardinality:"1:N"}},{id:"rel-agent-state",type:"relation",position:{x:750,y:280},data:{name:"transitions",icon:"🔄",cardinality:"N:M"}}],Ik=[{id:"e-issue-rel-issue-agent",source:"entity-issue",target:"rel-issue-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#8B5CF6"}},{id:"e-rel-issue-agent-agent",source:"rel-issue-agent",target:"entity-agent",type:"smoothstep",style:{stroke:"#8B5CF6",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#8B5CF6"}},{id:"e-issue-rel-issue-label",source:"entity-issue",target:"rel-issue-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#10B981"}},{id:"e-rel-issue-label-label",source:"rel-issue-label",target:"entity-label",type:"smoothstep",style:{stroke:"#10B981",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#10B981"}},{id:"e-issue-rel-issue-pr",source:"entity-issue",target:"rel-issue-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#F59E0B"}},{id:"e-rel-issue-pr-pr",source:"rel-issue-pr",target:"entity-pr",type:"smoothstep",style:{stroke:"#F59E0B",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#F59E0B"}},{id:"e-agent-rel-agent-state",source:"entity-agent",target:"rel-agent-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#EC4899"}},{id:"e-rel-agent-state-state",source:"rel-agent-state",target:"entity-state",type:"smoothstep",style:{stroke:"#EC4899",strokeWidth:2},markerEnd:{type:Qe.Arrow,color:"#EC4899"}}];function zk(){const[e,,t]=Cc(Mk),[n,r,s]=Ac(Ik),i=S.useCallback(l=>r(a=>al(l,a)),[r]),o=S.useMemo(()=>{const l=e.filter(d=>d.type==="entity"),a=e.filter(d=>d.type==="relation"),c=l.reduce((d,f)=>{const h=f.data;return d+(h.count||0)},0);return{entities:l.length,relations:a.length,totalRecords:c}},[e]);return u.jsxs("div",{className:"flex h-full w-full flex-col",children:[u.jsx("div",{className:"z-20 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-3 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-white",children:"Entity-Relationship Diagram"}),u.jsx("p",{className:"text-xs text-white/80",children:"Miyabi システムのデータモデル構造"})]}),u.jsxs("div",{className:"flex gap-6 text-white",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.entities}),u.jsx("div",{className:"text-xs text-white/80",children:"Entities"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.relations}),u.jsx("div",{className:"text-xs text-white/80",children:"Relations"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:o.totalRecords.toLocaleString()}),u.jsx("div",{className:"text-xs text-white/80",children:"Total Records"})]})]})]})}),u.jsxs("div",{className:"absolute left-4 top-20 z-10 rounded-lg bg-white p-3 shadow-lg",children:[u.jsx("h3",{className:"mb-2 text-xs font-bold text-gray-700",children:"Legend"}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-4 w-4 rounded border-2 border-indigo-600 bg-white"}),u.jsx("span",{children:"Entity"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-4 w-4 bg-pink-500",style:{transform:"rotate(45deg)"}}),u.jsx("span",{children:"Relationship"})]}),u.jsxs("div",{className:"space-y-1 border-t border-gray-200 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-600",children:"1:N"}),u.jsx("span",{className:"text-gray-600",children:"One-to-Many"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:"N:M"}),u.jsx("span",{className:"text-gray-600",children:"Many-to-Many"})]})]})]})]}),u.jsx("div",{className:"flex-1",children:u.jsxs(cl,{nodes:e,edges:n,onNodesChange:t,onEdgesChange:s,onConnect:i,nodeTypes:Rk,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx(Pc,{}),u.jsx($c,{}),u.jsx(Tc,{nodeColor:l=>l.type==="entity"?"#4F46E5":l.type==="relation"?"#EC4899":"#9CA3AF"})]})})]})}function Lk(){const[e,t]=S.useState("flow"),{prefersHighContrast:n}=Xr();return u.jsxs("div",{className:"flex h-screen w-full flex-col",children:[u.jsx("header",{className:"z-20 shadow-lg",style:{background:n?"linear-gradient(135deg, #312e81 0%, #1e293b 100%)":"linear-gradient(135deg, #9333ea 0%, #2563eb 100%)"},children:u.jsxs("div",{className:"container mx-auto flex items-center justify-between px-6 py-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"🤖"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-white",children:"Miyabi Dashboard"}),u.jsx("p",{className:"text-xs text-white/80",children:"Real-time Agent Visualization"})]})]}),u.jsxs("div",{className:"flex gap-1 rounded-lg bg-white/10 p-1",children:[u.jsx("button",{onClick:()=>t("flow"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="flow"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"🔄 Agent Flow"}),u.jsx("button",{onClick:()=>t("flow-mock"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="flow-mock"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"🎭 Flow (Mock)"}),u.jsx("button",{onClick:()=>t("er"),className:`rounded px-3 py-1.5 text-xs font-medium transition-all ${e==="er"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/10"}`,children:"📊 ER Diagram"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("a",{href:"https://github.com/ShunsukeHayashi/Miyabi",target:"_blank",rel:"noopener noreferrer",className:"rounded bg-white/20 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-white/30",children:"GitHub"}),u.jsx("a",{href:"https://shunsukehayashi.github.io/Miyabi/",target:"_blank",rel:"noopener noreferrer",className:"rounded bg-white/20 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-white/30",children:"Docs"})]})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[e==="flow"&&u.jsx(Ck,{}),e==="flow-mock"&&u.jsx(Pk,{}),e==="er"&&u.jsx(zk,{})]})]})}na.createRoot(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(Lk,{})}));
